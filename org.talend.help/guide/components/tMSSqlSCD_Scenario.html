<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/14/08 16:13:05">
    <title>Scenario: Slow Changing Dimension type 3</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMSSqlSCD_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlSCD_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp1458760"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp1459669"> </a><h2 class="pHeading2">
Scenario: Slow Changing Dimension type 3
</h2>
<a name="wp1462660"> </a><p class="pIndented1">
The following scenario aims at showing the use of slow changing dimension type 1.2 and 3. Some changes are brought to the input csv file, and an extra Date column is added to the schema. The successive  changes are  tracked down in an MSSQL SCD table.
</p>
<a name="wp1458771"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD1.png" id="wp1458768" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1458785"> </a><div class="pSmartList2"><li>Click &amp; drop the following components: <b class="cBold">tFileInputCSV</b>, <b class="cBold">tMap</b>, and <b class="cBold">tMSSqlSCD</b>.</li></div>
<a name="wp1458796"> </a><div class="pSmartList2"><li>Connect all components using a <b class="cBold">Row Main </b>link.</li></div>
<a name="wp1460250"> </a><div class="pSmartList2"><li>The input file is very large. In this example, changes are performed on the STORE_MANAGER column.</li></div>
</ul></div>
</ul></div>
<a name="wp1460135"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD6.png" id="wp1460190" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1461327"> </a><div class="pSmartList2"><li>The changes mentioned above are carried out on the second entry, on <em class="cEmphasis">Adams</em>.</li></div>
<a name="wp1460227"> </a><div class="pSmartList2"><li>Select the <b class="cBold">tFileInputCSV</b> component and click on the <b class="cBold">Component</b> view</li></div>
</ul></div>
</ul></div>
<a name="wp1460156"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLScd2.png" id="wp1458811" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1458822"> </a><div class="pSmartList2"><li>The properties of the csv file are not stored centrally in the <b class="cBold">Repository</b>, therefore, select <b class="cBold">Built-In</b> as <b class="cBold">Property Type</b>. Consequently you need to set manually all file details.</li></div>
<a name="wp1458836"> </a><div class="pSmartList2"><li>In <b class="cBold">File Name</b>, browse to the csv file. </li></div>
<a name="wp1458849"> </a><div class="pSmartList2"><li>Set the comma as  <b class="cBold">Field separator</b> and backslash apostrophes (<code class="cCode">\&quot;</code>) as <b class="cBold">Text enclosure</b>.</li></div>
<a name="wp1458856"> </a><div class="pSmartList2"><li>Set the <b class="cBold">Header </b>to 1.</li></div>
<a name="wp1458864"> </a><div class="pSmartList2"><li>Then click <b class="cBold">Edit schema</b> to upload the schema.</li></div>
</ul></div>
</ul></div>
<a name="wp1458871"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD3.png" id="wp1458868" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1458881"> </a><div class="pSmartList2"><li>Make sure the data types are set properly and a key is defined.</li></div>
<a name="wp1458887"> </a><div class="pSmartList2"><li>Double-click on the <b class="cBold">tMap</b> component to open the mapper. Use the <b class="cBold">AutoMap</b> button to automatically copy over all columns from the input to the output.</li></div>
<a name="wp1460775"> </a><div class="pSmartList2"><li>Add an extra column to the output table, to hold the end date. This column will be reused in the SCD component to feed the the End Date of the SCD table. </li></div>
</ul></div>
</ul></div>
<a name="wp1460784"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD4.png" id="wp1460781" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1460795"> </a><div class="pSmartList2"><li>In the <b class="cBold">Expression</b> field, press <b class="cBold">Ctrl+Space bar</b> to open the completion list. Select the <code class="cCode">GetCurrentDate</code> function and set the column name as <code class="cCode">DATE</code>.</li></div>
<a name="wp1460809"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK </b>to validate.</li></div>
<a name="wp1460817"> </a><div class="pSmartList2"><li>Select the <b class="cBold">tMSSqlSCD</b> component and set the changes tracking parameters.</li></div>
<a name="wp1460936"> </a><div class="pSmartList2"><li>Set the MS SQL server connection parameters manually.</li></div>
</ul></div>
</ul></div>
<a name="wp1460823"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD7.png" id="wp1460943" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1460955"> </a><div class="pSmartList2"><li>Set the <b class="cBold">Server</b>, <b class="cBold">Port</b>, <b class="cBold">Database</b> and <b class="cBold">User</b> &amp; <b class="cBold">password</b>.</li></div>
<a name="wp1460966"> </a><div class="pSmartList2"><li>Type in the <b class="cBold">Table</b> name, where the SCD information should be stored. In this example: <code class="cCode">STORE_DMTEST</code></li></div>
<a name="wp1461043"> </a><div class="pSmartList2"><li>The SCD Table schema should include an extra column to hold the surrogate key.</li></div>
<a name="wp1461074"> </a><div class="pSmartList2"><li>Create a <b class="cBold">Surrogate key</b>, based on the table max value incremented by 1. Select the column in the list (<em class="cEmphasis">STORE_SK</em> in this example) and <b class="cBold">Table max + 1</b> in the <b class="cBold">Creation</b> field. </li></div>
<a name="wp1461924"> </a><div class="pSmartList2"><li>On the Source keys  table, add one line and select the column to use as key in the source file. In this example, <em class="cEmphasis">STORE_ID</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp1461936"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD8.png" id="wp1461933" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1461941"> </a><div class="pSmartList2"><li>In this example, the SCD type 1 and 2 are not used. For more information regarding SCD type 1, see <b class="cBold">tMySqlSCD </b><a href="tMysqlSCD_Scenario.html#wp1550788"><em class="cEmphasis">Scenario: Tracking changes using Slowly Changing Dimension</em></a>.</li></div>
<a name="wp1461955"> </a><div class="pSmartList2"><li>Check the <b class="cBold">SCD type 2 fields </b>box.</li></div>
<a name="wp1461958"> </a><div class="pSmartList2"><li>In the table, add as many entries as you need to track the important changes. In this example, all column but the ID are selected.</li></div>
<a name="wp1461962"> </a><div class="pSmartList2"><li>Select the Start date  and End date columns where the Start and End date should be put in. In this example, the date has been added to the schema and the current date is used as Start date. </li></div>
<a name="wp1461987"> </a><div class="pSmartList2"><li>Check the <b class="cBold">Use SCD Type 3 fields </b>box.</li></div>
<a name="wp1462127"> </a><div class="pSmartList2"><li>Check the <b class="cBold">Log active</b> status and <b class="cBold">Log versions</b>, and select the relevant column in the SCD table where to store these values, in this example, respectively <em class="cEmphasis">SCD_START</em> and <em class="cEmphasis">SCD_END</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp1461993"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD9.png" id="wp1462109" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1462151"> </a><div class="pSmartList2"><li>Add as many lines as required. In this example, we will focus on the <em class="cEmphasis">STORE_MANAGER</em> column. </li></div>
<a name="wp1462164"> </a><div class="pSmartList2"><li>The SCD table schema should inclue the previous value column in order to store the former current value of the selected column. In this example, we focus on <em class="cEmphasis">PREV_STORE_MANAGER</em>. </li></div>
<a name="wp1462197"> </a><div class="pSmartList2"><li>Save the job.</li></div>
<a name="wp1462214"> </a><div class="pSmartList2"><li>Make the following changes to the <em class="cEmphasis">STORE_MANAGER</em> column of the input csv file: change <em class="cEmphasis">Adams</em> to Smith</li></div>
</ul></div>
</ul></div>
<a name="wp1462309"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="images/Use_Case_tMSSQLSCD10.png" id="wp1462323" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp1462331"> </a><p class="pIndented1">
The name <em class="cEmphasis">Adams</em> is now in the <em class="cEmphasis">PREV_STORE_MANAGER</em> column and the new name <em class="cEmphasis">Smith</em> is now in the <em class="cEmphasis">STORE_MANAGER</em> column.
</p>
<a name="wp1462369"> </a><p class="pIndented1">
For more information regarding the SCD Type 1&amp; 2<a href="tMysqlSCD_Scenario.html#wp1550788">, see&#160;<em class="cEmphasis">Scenario: Tracking changes using Slowly Changing Dimension.</em></a>
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMSSqlSCD_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlSCD_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
