<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tFileInputEBCDIC</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio"><link rel="up" href="ch-file.html" title="Chapter&nbsp;13.&nbsp;File components"><link rel="prev" href="tFileInputDelimited.html" title="tFileInputDelimited"><link rel="next" href="tFileInputExcel.html" title="tFileInputExcel"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tFileInputEBCDIC</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tFileInputDelimited.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;13.&nbsp;File components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tFileInputExcel.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tFileInputEBCDIC"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tFileInputEBCDIC"></a>tFileInputEBCDIC</h2></div></div></div><div class="mediaobject"><img src="../images/tFileInputEBCDIC_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
            <span class="emphasis"><em>This component requires an Oracle JDK to be functional.</em></span></p></div><div class="section" title="tFileInputEBCDIC properties"><div class="titlepage"><div><div><h3 class="title"><a name="d41342e201216"></a>tFileInputEBCDIC properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top"><p>Component family</p>
                        </td><td valign="top"><p>File/Input</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top"><p><span class="emphasis"><strong>tFileInputEBCDIC</strong></span> reads an EBCDIC file and extracts
                                data depending on the selected schema. </p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top"><p><span class="emphasis"><strong>tFileInputEBCDIC</strong></span> opens a file and reads it in order
                                to separate the data, based on the file structure description
                                (schemas), and to send the file data and metadata to the next Job
                                component(s), via a <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span> connection. </p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Basic
                                settings</strong></span></p>
                        </td><td valign="top"><p><span class="emphasis"><em>Property type</em></span></p>
                        </td><td valign="top"><p>Either <span class="emphasis"><strong>Built-in</strong></span>
                                or <span class="emphasis"><strong>Repository</strong></span>.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Built-in</strong></span>: No
                                property data stored centrally.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Repository</strong></span>:
                                Select the repository file where the properties are stored. The
                                fields that follow are completed automatically using the data
                                retrieved.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Schema(s)</em></span></p>
                        </td><td valign="top"><p>Click <span class="emphasis"><strong>[+]</strong></span> to add
                                one or more lines and click <span class="emphasis"><strong>[...]</strong></span>
                                in the <span class="emphasis"><strong>Schema</strong></span> column of one
                                selected line to define the schema for the data to be processed.
                                Editable schema name will be displayed in the <span class="emphasis"><strong>Distinguish field value</strong></span> column of the selected
                                line.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Data file</em></span></p>
                        </td><td valign="top"><p>Click <span class="emphasis"><strong>[...]</strong></span> to
                                browse to or type in the path to the EBCDIC file containing the data
                                to be processed. </p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Edit schema</em></span></p>
                        </td><td valign="top"><p>Click <span class="emphasis"><strong>[...]</strong></span> to
                                edit the Built-in or Repository schema for the data to be
                                processed.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This button is enabled when you select the <span class="emphasis"><strong>Custom set Original Length in Schema</strong></span>
                                    checkbox.</p></div>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Built-in</strong></span>: Select
                                this option to edit the Built-in schema for the data to be
                                processed.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Repository</strong></span>:
                                Select this option to edit the Repository schema you select. The
                                field that follows is completed automatically using the schema you
                                select.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Xc2j file</em></span></p>
                        </td><td valign="top"><p>Click <span class="emphasis"><strong>[...]</strong></span> to
                                browse to or type in the path to the xc2j file to transform the
                                EBCDIC schema(s) into an intermediary XML file. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This field will be disabled and xc2j file will not be
                                        needed when you select the <span class="emphasis"><strong>Custom set
                                            Original Length in Schema</strong></span> checkbox.</p></div>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Custom set Original Length in
                                    Schema</em></span></p>
                        </td><td valign="top"><p>Select this check box to improve the speed of
                                reading files.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When you select this check box, the <span class="emphasis"><strong>Xc2j
                                        file</strong></span> field will be disabled and xc2j file will
                                    not be needed and you are able to edit the Built-in or
                                    Repository schema for the data to be processed.</p></div>
                        </td></tr><tr><td>
                            <p>&nbsp;<span class="emphasis"><strong>Advanced settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Encoding</em></span></p>
                        </td><td valign="top">
                            <p>Select the encoding type from the list or select <span class="emphasis"><strong>Custom</strong></span> and define it manually. This field
                                is compulsory for DB data handling.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Trim all column</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to remove leading and trailing whitespaces
                                from defined columns.</p>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><p><span class="emphasis"><em>tStatCatcher
                                Statistics</em></span></p>
                        </td><td valign="top"><p>Select this check box to gather the processing
                                metadata at the Job level as well as at each component level.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top"><p>Use this component to
                                read an EBCDIC file and to output the data separately depending on
                                the schemas identified in the file. </p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario: Extracting data from an EBCDIC file and populating a database"><div class="titlepage"><div><div><h3 class="title"><a name="d41342e201517"></a>Scenario: Extracting data from an EBCDIC file and populating a database</h3></div></div></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This scenario uses the<span class="emphasis"><strong> [Copybook Connection]
                </strong></span>wizard that guides users through the different steps necessary to create
                a Copybook connection and to retrieve the EBCDIC schemas. This wizard is available
                only for <span class="emphasis"><strong>Talend Enterprise</strong></span> users. If you are using <span class="emphasis"><em>Talend Open
                    Studio</em></span> or <span class="emphasis"><em>Talen d Integration Express Studio</em></span>,
                you need to set the basic settings for the <span class="emphasis"><strong>tFileInputEBCDIC</strong></span> component manually. </p></div><p>The following scenario is a four-component Job that aims at: reading an EBCDIC file
            which contains information concerning clients and their financial transactions,
            extracting and transforming this data, and finally creating two tables in a database,
            based on the two schemas, clients and transactions, extracted from the original EBCDIC
            file. </p><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC1.png" align="middle"></div><p>This Java scenario uses the EBCDIC Connection wizard to set up a connection to the
            Copybook file and to generate an xc2j file, which allows the retrieval and
            transformation of the different file schemas. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Create a connection to the Copybook file, which describes the structure of
                    your EBCDIC file. In this scenario, the Copybook connection is called EBCDIC.
                        <span class="emphasis"><em>Talend Open Studio</em></span>
                    <span class="emphasis"><em>User Guide</em></span>.</p></li><li class="listitem"><p> Retrieve the file schemas. <span class="emphasis"><em>Talend Open Studio</em></span>
                    <span class="emphasis"><em>User Guide</em></span>.</p></li></ul></div><p>Once the Copybook connection has been created and the schemas retrieved, using the
            EBCDIC and Schema wizards, the new schemas appear under the node <span class="emphasis"><strong>Metadata</strong></span> &gt; <span class="emphasis"><strong>Copybook</strong></span>. They are called
                <span class="emphasis"><em>Schema01</em></span>, <span class="emphasis"><em>Schema04</em></span> and
                <span class="emphasis"><em>Schema05</em></span>.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC2.png" align="middle"></div><p>In order to retrieve the different file structures and to use them in <span class="emphasis"><em>Talend Open Studio</em></span>:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop schema 01 from the <span class="emphasis"><strong>Repository</strong></span> tree view
                    to the design workspace. This automatically creates the <span class="emphasis"><strong>tFileInputEBCDIC</strong></span> input component.</p></li><li class="listitem"><p> Drop the <span class="emphasis"><strong>tMysqlOutput</strong></span> component from the
                        <span class="emphasis"><strong>Palette</strong></span> to the design workspace.</p></li><li class="listitem"><p> Double-click <span class="emphasis"><strong>tFileInputEBCDIC </strong></span>to display the
                        <span class="emphasis"><strong>Basic settings</strong></span> view, then define the
                    component properties:</p></li></ul></div><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC3.png" align="middle"></div><p>The metadata is automatically defined in the <span class="emphasis"><strong>Property
                Type</strong></span>, <span class="emphasis"><strong>Schema(s)</strong></span>, <span class="emphasis"><strong>Data file</strong></span> and <span class="emphasis"><strong>Xc2j file</strong></span> fields.
                The<span class="emphasis"><strong> Property Type</strong></span> field shows which metadata has
            been used for the component. The <span class="emphasis"><strong>Schema field</strong></span> shows
            which schema will be transmitted to the following component. The <span class="emphasis"><strong>Data file</strong></span> field shows the path to the file that holds the EBCDIC data.
            The <span class="emphasis"><strong>Xc2j file</strong></span> field shows the path to the file which
            enables to extract the schema describing the EBCDIC file structure. If you are in
                <span class="emphasis"><strong>Built-In</strong></span> mode, you have to fill these fields
            manually.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the design workspace, right-click <span class="emphasis"><strong>tFileInputEBCDIC</strong></span>, select <span class="emphasis"><strong>Row</strong></span>
                    &gt; <span class="emphasis"><strong>row_Schema01_1</strong></span> from the menu, then click
                        <span class="emphasis"><strong>tMysqlOutput</strong></span> to connect the components
                    together.</p></li><li class="listitem"><p> Double-click <span class="emphasis"><strong>tMysqlOutput</strong></span> to display the
                        <span class="emphasis"><strong>Basic settings</strong></span> view, then define the
                    component properties.</p></li></ul></div><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC4.png" align="middle"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="emphasis"><strong>Property Type</strong></span> list, select <span class="emphasis"><strong>Repository</strong></span> and click the button <span class="emphasis"><strong>[...]</strong></span>. Select the database connection you want to use, which is
                    centralized in the metadata of the Repository. The <span class="emphasis"><strong>Host</strong></span>, <span class="emphasis"><strong>Port</strong></span>, <span class="emphasis"><strong>Database</strong></span>, <span class="emphasis"><strong>Username</strong></span>
                    and <span class="emphasis"><strong>Password</strong></span> fields are automatically filled.
                    If you are in <span class="emphasis"><strong>Built-In</strong></span> mode, you have to fill
                    these fields manually.</p></li><li class="listitem"><p> In the <span class="emphasis"><strong>Table</strong></span> field, enter the name of the
                    table to be created, which will contain the data extracted from the EBCDIC
                    file.</p></li><li class="listitem"><p> In the <span class="emphasis"><strong>Action on table</strong></span> field, select the
                    option <span class="emphasis"><strong>Create table</strong></span>.</p></li></ul></div><p>At this stage, the Job retrieves the schema <span class="emphasis"><em>Schema01</em></span> from the
            EBCDIC file and transfers it, as well as the corresponding data, to the database. We now
            need to retrieve, from the EBCDIC file, the schema 04 and its data, then transform and
            transmit the data to the same database. To do this:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop the <span class="emphasis"><strong>tMap</strong></span> and <span class="emphasis"><strong>tMysqlOutputBulkExec</strong></span> components to the design workspace.</p></li><li class="listitem"><p> Double-click the <span class="emphasis"><strong>tFileInputEBCDIC</strong></span> to display
                    the <span class="emphasis"><strong>Basic settings</strong></span> view, then define the
                    component properties.</p></li></ul></div><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC5.png" align="middle"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="emphasis"><strong>Schema(s)</strong></span> field, click the plus
                    button to add a line.</p></li><li class="listitem"><p> Click in this line and then click the three-dot button that displays to open
                    a dialog box. Select the <span class="emphasis"><strong>Create schema from
                        repository</strong></span> button to retrieve the schema defined in the EBCDIC
                    metadata, then select <span class="emphasis"><em>Shema04</em></span> from the drop-down list.
                </p></li><li class="listitem"><p> Click <span class="emphasis"><strong>OK</strong></span> to close the dialog box.</p></li><li class="listitem"><p> If you did not retrieve the schema from the <span class="emphasis"><strong>Repository</strong></span> tree view, select <span class="emphasis"><strong>Create schema
                        for built-in</strong></span> and manually enter the name and description of your
                    schema.</p><p> The two schemas <span class="emphasis"><em>Shema01</em></span> and
                        <span class="emphasis"><em>Schema04</em></span> appear in the Schema(s) field of the <span class="emphasis"><strong>tFileInputEBCDIC</strong></span> component. </p></li><li class="listitem"><p> In order to connect these two components, right-click <span class="emphasis"><strong>tFileInputEBCDIC</strong></span>, select <span class="emphasis"><strong>Row</strong></span>
                    &gt; <span class="emphasis"><strong>row_Schema04_1</strong></span> in the menu and click
                        the<span class="emphasis"><strong> tMap</strong></span> component. Then right-click
                        <span class="emphasis"><strong>tMap</strong></span>, drag a link over to <span class="emphasis"><strong>tMysqlOutputBulkExec</strong></span> and release the right-click
                    button. In the dialog box that opens up, fill in the name of the
                        <span class="emphasis"><em>ebcdic_04</em></span> output file.</p></li><li class="listitem"><p> Double-click<span class="emphasis"><strong> tMap</strong></span> to open up the <span class="emphasis"><strong>tMap Editor</strong></span>. </p></li></ul></div><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC6.png" align="middle"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Select all the columns from the <span class="emphasis"><strong>row_Schema04_1</strong></span> table and drag them towards the <span class="emphasis"><strong>ebcdic_04</strong></span> table.</p></li><li class="listitem"><p> In the table <span class="emphasis"><strong>ebcdic_04</strong></span>, located in the
                        <span class="emphasis"><strong>Schema editor</strong></span> area at the bottom of the
                    editor, click the <span class="emphasis"><strong>plus</strong></span> button to add a column
                    to the schema. Name this column <span class="emphasis"><em>SUM_AG_NUMBER</em></span>.</p></li><li class="listitem"><p> In the table <span class="emphasis"><strong>row_Schema04_1</strong></span>, to the left of
                    the editor, press <span class="emphasis"><strong>Ctrl</strong></span> and select the <span class="emphasis"><strong>CC01404_L_11_MENAG_1_1</strong></span> and <span class="emphasis"><strong>CC01404_AG_CAM_1_1</strong></span> columns. Drag them to the new column
                        <span class="emphasis"><em>SUM_AG_NUMBER</em></span> in table <span class="emphasis"><strong>ebcdic_04</strong></span>. Add the sign + between the two concatenated columns
                    so that you have:
                        <code class="code">row_04_1.CC01404_L_11_MENAG_1_1&nbsp;+&nbsp;row_04_1.CC01404_AG_CAM_1_1</code>.</p></li><li class="listitem"><p> Click <span class="emphasis"><strong>OK</strong></span> to validate your changes and close
                    the editor.</p></li><li class="listitem"><p> In the design workspace, double-click <span class="emphasis"><strong>tMysqlOutputBulkExec</strong></span> to display the <span class="emphasis"><strong>Basic
                        settings</strong></span> view, then define the component properties:</p></li></ul></div><div class="mediaobject" align="center"><img src="../images/Use_Case_tFileInputEBCDIC7.png" align="middle"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="emphasis"><strong>Property Type</strong></span> list, select <span class="emphasis"><strong>Repository </strong></span>and click the three-dot button to display
                    a dialog bow where you can select the database connection you want to use, which
                    is centralized in the <span class="emphasis"><strong>Metadata</strong></span> folder of the
                        <span class="emphasis"><strong>Repository</strong></span> tree view. The <span class="emphasis"><strong>Host</strong></span>, <span class="emphasis"><strong>Port</strong></span>,
                        <span class="emphasis"><strong>Database</strong></span>, <span class="emphasis"><strong>Username</strong></span> and <span class="emphasis"><strong>Password</strong></span> fields
                    are automatically filled. If you are in <span class="emphasis"><strong>Built-In</strong></span> mode, you have to fill these fields manually.</p></li><li class="listitem"><p> In the <span class="emphasis"><strong>Table</strong></span> field, enter the name of the
                    table to be created, which will contain the data extracted from the EBCDIC
                    file.</p></li><li class="listitem"><p> In the <span class="emphasis"><strong>Action on table</strong></span> field, select the
                    option <span class="emphasis"><strong>Create table</strong></span>.</p></li><li class="listitem"><p> Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job and click the
                        <span class="emphasis"><strong>Run</strong></span> view. Select the <span class="emphasis"><strong>Statistics</strong></span> and <span class="emphasis"><strong>Exec time</strong></span> check
                    boxes, then click <span class="emphasis"><strong>Run</strong></span> to execute the
                    Job.</p></li></ul></div><p>The two tables are created in the database. They contain the structure, as well as the
            clients and transaction data, from the original EBCDIC file.</p><div class="mediaobject"><img src="../images/use_case-tfileinputebcdic8and9.png"></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tFileInputDelimited.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-file.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tFileInputExcel.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tFileInputDelimited&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tFileInputExcel</td></tr></table></div></body></html>