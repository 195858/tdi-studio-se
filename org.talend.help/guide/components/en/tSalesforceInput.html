<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSalesforceInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Business components"><link rel="prev" href="tSalesforceGetUpdated.html" title="tSalesforceGetUpdated"><link rel="next" href="tSalesforceOutput.html" title="tSalesforceOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tSalesforceInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSalesforceInput"></a>tSalesforceInput</h2></div></div></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="27"><tr><td><img src="../images/tSalesForceInput.png" width="27"></td></tr></table></div><div class="section" title="tSalesforceInput Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11341"></a>tSalesforceInput Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
                            <p><span class="bold"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>Business/Cloud </p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="bold"><strong>tSalesforceInput</strong></span> connects to an
                                object of a Salesforce database via the relevant webservice.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Allows to extract data from a Salesforce DB based on a
                                query.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Property type</em></span></p>
                        </td><td valign="top">
                            <p>Either <span class="bold"><strong>Built-in</strong></span> or <span class="bold"><strong>Repository</strong></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="bold"><strong>Built-in</strong></span>: No property data stored
                                centrally.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="bold"><strong>Repository</strong></span>: Select the repository
                                file where properties are stored. The fields that come after are
                                pre-filled in using the fetched data.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="18"><tr><td><img src="../images/Save_Icon.png" width="18"></td></tr></table></div>
                        </td><td valign="top">
                            <p>Click this icon to open a connection wizard and store the Excel
                                file connection parameters you set in the component <span class="bold"><strong>Basic settings </strong></span>view.</p>
                            <p> For more information about setting up and storing file connection
                                parameters, see <span class="bluebold">Talend Open Studio</span>
                                <span class="bold"><strong>User Guide</strong></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Use an existing connection</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to use an established connection from
                                    <span class="bold"><strong>tSalesforceConnection</strong></span>. Once you
                                select it, the <span class="bold"><strong>Component list</strong></span> field
                                appear allowing you to choose the <span class="bold"><strong>tSalesforceConnection</strong></span> component to be used.</p>
                            <p> For more information on <span class="bold"><strong>tSalesforceConnection</strong></span>, see section <a class="xref" href="tSalesforceConnection.html" title="tSalesforceConnection">the section called &#8220;tSalesforceConnection&#8221;</a>.</p>
                            <p> </p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>When a Job contains the parent Job and the child Job,
                                        <span class="bold"><strong>Component list</strong></span> presents
                                    only the connection components in the same Job level, so if you
                                    need to use an existing connection from the other level, you can
                                    use <span class="bold"><strong>Dynamic settings</strong></span> to share
                                    the intended connection. In this case, make sure that the
                                    connection name is unique and distinctive. For more information
                                    about <span class="bold"><strong>Dynamic settings</strong></span>, see
                                    your studio user guide.</p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Salesforce Webservice URL</em></span></p>
                        </td><td valign="top">
                            <p>Type in the webservice URL to connect to the Salesforce DB.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Username</em></span> and
                                <span class="emphasis"><em>Password</em></span></p>
                        </td><td valign="top">
                            <p>Type in the Webservice user authentication data.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Timeout (milliseconds)</em></span></p>
                        </td><td valign="top">
                            <p>Type in the intended number of query timeout in
                                Salesforce.com.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Module</em></span></p>
                        </td><td valign="top">
                            <p>Select the relevant module in the list.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>if you select the <span class="bold"><strong>Use Custom
                                        module</strong></span> option, you display the <span class="bold"><strong>Custom Module Name</strong></span> field where you
                                    can enter the name of the module you want to connect to. </p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
                                Schema</em></span></p>
                        </td><td valign="top">
                            <p>A schema is a row description, i.e., it defines the number of
                                fields that will be processed and passed on to the next component.
                                The schema is either built-in or remote in the Repository. </p>
                            <p> Click <span class="bold"><strong>Edit Schema</strong></span> to make
                                changes to the schema. Note that if you make changes, the schema
                                automatically becomes built-in.</p>
                            <p> In this component the schema is related to the Module
                                selected.</p>
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>To retrieve a column from a linked module it is
                                        necessary to define the column in a particular manner in
                                        the</em></span><span class="bold"><strong> Edit
                                        schema</strong></span><span class="emphasis"><em> view, otherwise the relationship
                                        query will not work. The correct syntax is:
                                        </em></span><span class="emphasis"><em>NameofCurrentModule_NameofLinkedModule_</em></span></p><p><span class="emphasis"><em>NameofColumnofInterest</em></span><span class="emphasis"><em>.</em></span></p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Query condition</em></span></p>
                        </td><td valign="top">
                            <p>Type in the query to select the data to be extracted. Example:
                                </p><pre class="programlisting">account_name=
&#8216;Talend&#8217;</pre><p>
                            </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Maunal input of SOQL query</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to display the <span class="bold"><strong>Query</strong></span> field where you can manually enter the desired
                                query.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Query all records (include deleted
                                records)</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to query all the records, including the
                                deletions.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Advanced settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Batch Size</em></span></p>
                        </td><td valign="top">
                            <p>Number of registrations in each processed batch.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Use Socks Proxy</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box if you want to use a proxy server. Once
                                selected, you need enter the connection parameters that are the
                                host, the port, the username and the passerword of the Proxy you
                                need to use.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Normalize delimited (for child
                                relationship)</em></span></p>
                        </td><td valign="top">
                            <p>Characters, strings or regular expressions used to normalize the
                                data that is collected by queries set on different hierarchical
                                Salsforce objects.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Column name delimiter (for child
                                    relationship)</em></span></p>
                        </td><td valign="top">
                            <p>Characters, strings or regular expressions used to separate the
                                name of the parent object from the name of the child object when you
                                use a query on the hierarchical relations among the different
                                Salesforce objects.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Use Soap Compression</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to activate the SOAP compression.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>The compression of SOAP messages optimizes system performance,
                                    in particular for the batch operations.</p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>tStatCatcher Statistics</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to gather the Job processing metadata at a
                                Job level as well as at each component level.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Client ID</em></span></p>
                        </td><td valign="top">
                            <p>Set the ID of the real user to differentiate between those who use
                                the same account and password to access the salesforce
                                website.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Usually used as a Start component. An output component is
                                required. </p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>n/a</p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario: Using queries to extract data from a Salesforce database"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11860"></a>Scenario: Using queries to extract data from a Salesforce database</h3></div></div></div><p>This scenario describes a four component Job used to extract specific sets of data
            from parent and child objects in a Salesforce database.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop two <span class="bold"><strong>tSalesforceInput </strong></span>components and two
                        <span class="bold"><strong>tLogRow</strong></span> components onto the workspace. </p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="351"><tr><td><img src="../images/tSalesforceInputScenario1.png" width="351"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Connect each <span class="bold"><strong>tSalesforceInput</strong></span> component to a
                        <span class="bold"><strong>tLogRow</strong></span> component using a <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span> link
                    for each connection.</p></li><li class="listitem"><p>Connect <span class="bold"><strong>tSalesforceInput_1</strong></span> to <span class="bold"><strong>tSalesforceInput_2 </strong></span>using an <span class="bold"><strong>OnSubjobOk</strong></span> link.</p></li><li class="listitem"><p>Double click <span class="bold"><strong>tSalesforceInput_1</strong></span> to set its
                        <span class="bold"><strong>Basic Settings</strong></span> in the <span class="bold"><strong>Component</strong></span> tab. </p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="493"><tr><td><img src="../images/Use_Case_tSalesforceInput_1_Properties.png" width="493"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>As the <span class="bold"><strong>Property Type</strong></span>, select <span class="bold"><strong>Built-In</strong></span>.</p></li><li class="listitem"><p>Enter the <span class="bold"><strong>Salesforce WebService URL</strong></span> of the
                    database you want to connect to in the corresponding field.</p></li><li class="listitem"><p>Enter your authentication information in the corresponding <span class="bold"><strong>Username</strong></span> and <span class="bold"><strong>Password</strong></span> fields.</p></li><li class="listitem"><p>Enter the desired query <span class="bold"><strong>Timeout
                        (milliseconds</strong></span><span class="bold"><strong>) </strong></span>limit.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>Module</strong></span> (salesforce object) you
                    want to query.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>Manual input of SOQL Query</strong></span> check
                    box to enter your <span class="bold"><strong>Query</strong></span> in the corresponding
                    field. </p></li><li class="listitem"><p>Enter your query or relationship query, respecting the SOQL syntax
                    required.</p></li></ul></div><p>In this example, the <span class="emphasis"><em>IsWon</em></span> and <span class="emphasis"><em>FiscalYear</em></span>
            columns in the query are located in the <span class="bold"><strong>Opportunity</strong></span>
            module specified. The <span class="emphasis"><em>Name</em></span> column is in a linked module called
                <span class="emphasis"><em>Account</em></span>. To return a column from a linked module the correct
            syntax is to enter the name of the linked module, followed by the period character, then
            the name of the column of interest. Hence, the query required in this example is:
            </p><pre class="programlisting">&#8220;SELECT IsWon, FiscalYear, Account.Name
FROM Opportunity&#8221;</pre><p>.</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>To retrieve a column from a linked module, it is necessary to define the
                    column in a particular manner in the</em></span><span class="bold"><strong> Edit
                    schema</strong></span><span class="emphasis"><em> view. The correct syntax is:
                        </em></span><code class="code"><span>NameofCurrentModule_NameofLinkedModule_NameofColumnofInterest</span></code><span class="emphasis"><em>.
                    Hence, in this example, the column must be named:
                    </em></span><span class="emphasis"><em>Opportunity_Account_Name</em></span><span class="emphasis"><em>. If this
                    syntax is not respected then the data from the linked table will not be
                    returned. </em></span></p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select <span class="bold"><strong>Built-In</strong></span> as the <span class="bold"><strong>Schema</strong></span> and click <span class="bold"><strong>[...]</strong></span> next to
                        <span class="bold"><strong>Edit schema</strong></span> to open the schema
                    editor.</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="479"><tr><td><img src="../images/tSalesforceInput_Schema_Editor1.png" width="479"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Edit the schema as required using the <span class="bold"><strong>[+]</strong></span> and
                        <span class="bold"><strong>[x]</strong></span> buttons.</p></li><li class="listitem"><p>Add a new column for the fields taken from the <span class="emphasis"><em>Name</em></span>
                    column in the <span class="emphasis"><em>Account</em></span> module.</p></li><li class="listitem"><p>Name this column <span class="emphasis"><em>Opportunity_Account_Name</em></span>.</p></li><li class="listitem"><p>Click <span class="bold"><strong>OK</strong></span> to save the changes and close the
                    schema editor.</p></li><li class="listitem"><p>Double click <span class="bold"><strong>tSalesforceInput_2</strong></span> to set its
                        <span class="bold"><strong>Basic settings</strong></span> in the <span class="bold"><strong>Component</strong></span> tab. </p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="494"><tr><td><img src="../images/Use_Case_tSalesforceInput_2_Properties.png" width="494"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>As the <span class="bold"><strong>Property Type</strong></span>, select <span class="bold"><strong>Built-In</strong></span>.</p></li><li class="listitem"><p>Enter the <span class="bold"><strong>Salesforce WebService URL</strong></span> of the
                    database you want to connect to in the corresponding field.</p></li><li class="listitem"><p>Enter your authentication information in the corresponding <span class="bold"><strong>Username</strong></span> and <span class="bold"><strong>Password</strong></span> fields.</p></li><li class="listitem"><p>Enter the desired query <span class="bold"><strong>Timeout
                        (milliseconds</strong></span><span class="bold"><strong>) </strong></span>limit.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>Module</strong></span> (salesforce object) you
                    want to query.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>Manual input of SOQL Query</strong></span> check
                    box to enter your <span class="bold"><strong>Query</strong></span> in the corresponding
                    field. </p></li><li class="listitem"><p>Enter your query or relationship query, respecting the SOQL syntax
                    required.</p></li></ul></div><p>In this example we want to extract the <span class="emphasis"><em>Id</em></span> and
                <span class="emphasis"><em>CaseNumber</em></span> fields from the <span class="emphasis"><em>Case</em></span> module as
            well as the <span class="emphasis"><em>Name</em></span> fields from the <span class="emphasis"><em>Account</em></span>
            module. The query is therefore: <code class="code">&#8220;SELECT Id, CaseNumber, Account.Name FROM
                Case&#8221;</code>.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select <span class="bold"><strong>Built-In</strong></span> as the <span class="bold"><strong>Schema</strong></span> and click <span class="bold"><strong>[...]</strong></span> next to
                        <span class="bold"><strong>Edit schema</strong></span> to open the schema
                    editor.</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="449"><tr><td><img src="../images/tSalesforceInput_Schema_Editor2.png" width="449"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Edit the schema as required using the <span class="bold"><strong>[+]</strong></span> and
                        <span class="bold"><strong>[x]</strong></span> buttons.</p></li><li class="listitem"><p>Add a new column for the fields taken from the <span class="emphasis"><em>Name</em></span>
                    column in the <span class="emphasis"><em>Account</em></span> module.</p></li><li class="listitem"><p>Name this column <span class="emphasis"><em>Case_Account_Name</em></span>.</p></li><li class="listitem"><p>Click <span class="bold"><strong>OK</strong></span> to save the changes and close the
                    schema editor.</p></li><li class="listitem"><p>Click each <span class="bold"><strong>tLogRow</strong></span> component and set their
                        <span class="bold"><strong>Basic settings</strong></span> as desired. </p></li></ul></div><p>In this example there is no need to modify the <span class="bold"><strong>tLogRow</strong></span> settings.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Press <span class="bold"><strong>F6</strong></span> to run the Job.</p><p> The results are displayed in the <span class="bold"><strong>Run</strong></span>
                    tab:</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="401"><tr><td><img src="../images/tSalesforceInput_RunTab.png" width="401"></td></tr></table></div></div></div></body></html>