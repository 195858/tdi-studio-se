<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="04/28/11 18:34:55">
    <title>Scenario 1: Sorting entries</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tSortRow_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="Components13-69.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3740506"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3740515"> </a><h2 class="pHeading2">
Scenario 1: Sorting entries
</h2>
<a name="wp3740521"> </a><p class="pIndented1">
This scenario describes a three-component Job. A <b class="cBold">tRowGenerator</b> is used to create random entries which are directly sent to a <b class="cBold">tSortRow</b> to be ordered following a defined value entry. In this scenario, we suppose the input flow contains names of salespersons along with their respective sales and their years of presence in the company. The result of the sorting operation is displayed on the <b class="cBold">Run</b> console.
</p>
<a name="wp3740535"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow1.png" id="wp3740532" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3740546"> </a><div class="pSmartList2"><li>Drop the three components required for this use case: <b class="cBold">tRowGenerator</b>, <b class="cBold">tSortRow</b> and <b class="cBold">tLogRow</b> from the <b class="cBold">Palette</b> to the design workspace.</li></div>
<a name="wp3740563"> </a><div class="pSmartList2"><li>Connect them together using <b class="cBold">Row</b> <b class="cBold">main</b> links.</li></div>
<a name="wp3740569"> </a><div class="pSmartList2"><li>On the <b class="cBold">tRowGenerator</b> editor, define the values to be randomly used in the Sort component. For more information regarding the use of this particular component<a href="tRowGenerator_Prop.html">, see&#160;<em class="cEmphasis">tRowGenerator.</em></a></li></div>
</ul></div>
</ul></div>
<a name="wp3740581"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow2.png" id="wp3740578" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3740589"> </a><div class="pSmartList2"><li>In this scenario, we want to rank each salesperson according to its <em class="cEmphasis">Sales</em> value and to its number of years in the company.</li></div>
<a name="wp3740599"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tSortRow</b> to display the <b class="cBold">Basic settings</b> tab panel. Set the sort priority on the Sales value and as secondary criteria, set the number of years in the company. </li></div>
</ul></div>
</ul></div>
<a name="wp3740608"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow3.png" id="wp3740605" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3740613"> </a><div class="pSmartList2"><li>Use the plus button to add the number of rows required. Set the type of sorting, in this case, both criteria being integer, the sort is numerical. At last, given that the output wanted is a rank classification, set the order as descending.</li></div>
<a name="wp3740623"> </a><div class="pSmartList2"><li>Display the <b class="cBold">Advanced Settings</b> tab and select the <b class="cBold">Sort on disk</b> check box to modify the temporary memory parameters. In the <b class="cBold">Temp data directory path</b> field, type the path to the directory where you want to store the temporary data. In the <b class="cBold">Buffer size of external sort</b> field, set the maximum buffer value you want to allocate to the processing. </li></div>
<a name="wp3740637"> </a><p class="pBodyRelative">
<br />
<img src="../Images/warning_smalljl.png" align="left" id="wp3740635" border="0" hspace="0" vspace="0"/><br />
The default buffer value is 1000000 but the more rows and/or columns you process, the higher the value needs to be to prevent the Job from automatically stopping. In that event, an &quot;out of memory&quot; error message displays. 
</p>
<a name="wp3740646"> </a><div class="pSmartList2"><li>Make sure you connected this flow to the output component, <b class="cBold">tLogRow</b>, to display the result in the job console.</li></div>
<a name="wp3740653"> </a><div class="pSmartList2"><li>Press <b class="cBold">F6</b> to run the Job. The ranking is based first on the Sales value and then on the number of years of experience.</li></div>
</ul></div>
</ul></div>
<a name="wp3749277"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow4.png" id="wp3740659" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3837252"> </a><h2 class="pHeading2">
Scenario 2: Sorting entries based on dynamic schema
</h2>
<a name="wp3837257"> </a><p class="pIndented1">
In this scenario we will sort entries in an input file based on a dynamic schema, display the sorting result on the <b class="cBold">Run</b> console, and save the sorting result in an output file. For more information about the dynamic schema feature, see <em class="cEmphasis">Dynamic schema</em> of the <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide</b>.
</p>
<a name="wp3837282"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow5.png" id="wp3837278" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3837289"> </a><div class="pSmartList2"><li>Drop the components required for this use case: <b class="cBold">tFileInputDelimited</b>, <b class="cBold">tSortRow</b>, <b class="cBold">tLogRow</b> and <b class="cBold">tFileOutputDelimited</b> from the <b class="cBold">Palette</b> to the design workspace.</li></div>
<a name="wp3837323"> </a><div class="pSmartList2"><li>Connect these components together using <b class="cBold">Row</b> &gt; <b class="cBold">Main</b> links. </li></div>
<a name="wp3837331"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">tFileInputDelimited</b> component to display its <b class="cBold">Basic settings</b> view. </li></div>
</ul></div>
</ul></div>
<a name="wp3837346"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow6.png" id="wp3837342" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3837362"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/warning_smalljl.png" align="left" id="wp3837351" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
The dynamic schema feature is only supported in <em class="cEmphasis">Built-In</em> mode and requires the input file to have a header row.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3837380"> </a><div class="pSmartList2"><li>Select <b class="cBold">Built-In</b> from the <b class="cBold">Property Type</b> list.</li></div>
<a name="wp3837395"> </a><div class="pSmartList2"><li>Click the <b class="cBold">[...]</b> button next to the <b class="cBold">File Name</b> field to browse to your input file. In this use case, the input file <em class="cEmphasis">cars.csv</em> has five columns: <em class="cEmphasis">ID_Owner</em>, <em class="cEmphasis">Registration</em>, <em class="cEmphasis">Make</em>, <em class="cEmphasis">Color</em>, and <em class="cEmphasis">ID_Reseller</em>. </li></div>
<a name="wp3837428"> </a><div class="pSmartList2"><li>Specify the header row in <b class="cBold">Header</b> field. In this use case the first row is the header row.</li></div>
<a name="wp3837445"> </a><div class="pSmartList2"><li>Select <b class="cBold">Built-In</b> from the <b class="cBold">Schema</b> list, and click <b class="cBold">Edit schema</b> to set the input schema.</li></div>
</ul></div>
</ul></div>
<a name="wp3837456"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow7.png" id="wp3837452" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3837464"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/warning_smalljl.png" align="left" id="wp3837461" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
<br />The dynamic column must be defined in the last row of the schema.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3837476"> </a><div class="pSmartList2"><li>In the schema editor, add two columns and name them <em class="cEmphasis">ID_Owner</em> and <em class="cEmphasis">Other</em> respectively. Set the data type of the <em class="cEmphasis">Other</em> column to <b class="cBold">Dynamic</b> to retrieve all the columns undefined in the schema. </li></div>
<a name="wp3837498"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to propagate the schema and close the schema editor.</li></div>
<a name="wp3837512"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tSortRow</b> to display the <b class="cBold">Basic settings</b> view. </li></div>
</ul></div>
</ul></div>
<a name="wp3837521"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow8.png" id="wp3837517" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3837532"> </a><div class="pSmartList2"><li>Add a row in the <b class="cBold">Criteria</b> table by clicking the plus button, select <em class="cEmphasis">Other</em> under <b class="cBold">Schema column</b>, select <em class="cEmphasis">alpha</em> as the sorting type, and select the <em class="cEmphasis">ascending</em> or <em class="cEmphasis">descending</em> order for data output.</li></div>
<a name="wp3837562"> </a><p class="pBodyRelative">
<br />
<img src="../Images/warning_smalljl.png" align="left" id="wp3837559" border="0" hspace="0" vspace="0"/><br />
<br />Dynamic column sorting works only when the sorting type is set to <em class="cEmphasis">alpha</em>. 
</p>
<a name="wp3837582"> </a><div class="pSmartList2"><li>To view the output in the form of a table on the <b class="cBold">Run</b> console, double-click the <b class="cBold">tLogRow</b> component and select the <b class="cBold">Table</b> option in the <b class="cBold">Basic settings</b> view.</li></div>
<a name="wp3837603"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">tFileOutputDelimited</b> component to display its <b class="cBold">Basic Settings</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp3837618"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow9.png" id="wp3837614" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3837633"> </a><div class="pSmartList2"><li>Click the <b class="cBold">[...]</b> button next to the <b class="cBold">File Name</b> field to browse to the directory where you want to save the output file, and then enter a name for the file.</li></div>
<a name="wp3837642"> </a><div class="pSmartList2"><li>Select the<b class="cBold"> Include Header</b> check box to retrieve the column names as well as the sorted data.</li></div>
<a name="wp3837651"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to run it.<br />The sorting result is displayed on the <b class="cBold">Run</b> console and written into the output file.</li></div>
</ul></div>
</ul></div>
<a name="wp3837666"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow10.png" id="wp3837662" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3837781"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tSortRow11.png" id="wp3837671" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tSortRow_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="Components13-69.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
