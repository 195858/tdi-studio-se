<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMysqlOutputBulk</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio"><link rel="up" href="ch-databases-traditional.html" title="Chapter&nbsp;7.&nbsp;Databases - traditional components"><link rel="prev" href="tMysqlOutput.html" title="tMysqlOutput"><link rel="next" href="tMysqlOutputBulkExec.html" title="tMysqlOutputBulkExec"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tMysqlOutputBulk</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tMysqlOutput.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;7.&nbsp;Databases - traditional components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tMysqlOutputBulkExec.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tMysqlOutputBulk"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMysqlOutputBulk"></a>tMysqlOutputBulk</h2></div></div></div><div class="mediaobject"><img src="../images/tMysqlOutputBulk_icon32_white.png"></div><a name="Xaa2751853"></a><div class="section" title="tMysqlOutputBulk properties"><div class="titlepage"><div><div><h3 class="title"><a name="Raa59709"></a>tMysqlOutputBulk properties</h3></div></div></div><p>The <span class="emphasis"><strong>tMysqlOutputBulk</strong></span> and <span class="emphasis"><strong>tMysqlBulkExec</strong></span> components are used together in a two step process. In
            the first step, an output file is generated. In the second step, this file is used in
            the INSERT statement used to feed a database. These two steps are fused together in the
                <span class="emphasis"><strong>tMysqlOutputBulkExec</strong></span> component, detailed in a
            separate section. The advantage of using two separate steps is that the data can be
            transformed before it is loaded in the database. </p><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top"><p><span class="emphasis"><strong>Component
                                famil</strong></span>y</p>
                        </td><td valign="top"><p>Databases/MySQL</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top"><p>Writes a file with
                                columns based on the defined delimiter and the MySql standards
                            </p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top"><p>Prepares the file to be
                                used as parameter in the INSERT query to feed the MySQL
                                database.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Basic
                                settings</strong></span></p>
                        </td><td valign="top"><p><span class="emphasis"><em>Property type</em></span></p>
                        </td><td valign="top">
                            <p><span>Either <span class="emphasis"><strong>Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span></span>.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Built-in</strong></span>: No
                                property data stored centrally.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Repository</strong></span>:
                                Select the repository file in which the properties are stored. The
                                fields that follow are completed automatically using the data
                                retrieved.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>File Name</em></span></p>
                        </td><td valign="top"><p>Name of the file to be processed. </p><p>
                                Related topic: see <span class="emphasis"><em>Talend Open Studio User
                                    Guide</em></span>.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Append</em></span></p>
                        </td><td valign="top"><p>Select this check box to add the new rows at the
                                end of the file</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
                                    Schema</em></span></p>
                        </td><td valign="top"><p>A schema is a row description, i.e., it defines
                                the number of fields to be processed and passed on to the next
                                component. <span>The schema is either
                                        <span class="emphasis"><strong>Built-in</strong></span> or stored remotely
                                    in the <span class="emphasis"><strong>Repository</strong></span></span>.
                            </p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Built-in</strong></span>: The
                                schema will be created and stored locally for this component only.
                                Related topic: see <span class="emphasis"><em>Talend Open Studio User
                                    Guide</em></span>.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Repository</strong></span>: The
                                schema already exists and is stored in the Repository, hence can be
                                reused in various projects and job designs. Related topic: see
                                        <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Advanced settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Row separator</em></span></p>
                        </td><td valign="top">
                            <p>String (ex: "\n" on Unix) to distinguish rows.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Field separator</em></span></p>
                        </td><td valign="top">
                            <p>Character, string or regular expression to separate fields.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Text enclosure</em></span></p>
                        </td><td valign="top">
                            <p>Character used to enclose the text.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Create directory if does not exist</em></span></p>
                        </td><td valign="top">
                            <p>This check box is selected by default. It creates a directory to
                                hold the output table if required.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Custom the flush buffer size</em></span></p>
                        </td><td valign="top">
                            <p>Customize the amount of memory used to temporarily store output
                                data. In the <span class="emphasis"><strong>Row number field</strong></span>,
                                enter the number of rows after which the memory is to be freed
                                again.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Records contain NULL value</em></span></p>
                        </td><td valign="top">
                            <p>This check box is selected by default. It allows you to take
                                account of NULL value fields. If you clear the check box, the NULL
                                values will automatically be replaced with empty values.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Check disk space</em></span></p>
                        </td><td valign="top">
                            <p>Select the this check box to throw an exception during execution
                                if the disk is full.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Encoding</em></span></p>
                        </td><td valign="top">
                            <p>Select the encoding from the list or select <span class="emphasis"><strong>Custom</strong></span> and define it manually. This field is
                                compulsory for DB data handling.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>tStatCatcher Statistics</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to collect the log data at the component
                                level.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top"><p>This component is to be
                                used along with <span class="emphasis"><strong>tMySQlBulkExec</strong></span>
                                component. Used together they offer gains in performance while
                                feeding a MySQL database.</p>
                        </td></tr><tr><td valign="top"><span class="emphasis"><strong>Limitation</strong></span></td><td colspan="2" valign="top">
                            <p><span>n/a</span></p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario: Inserting transformed data in MySQL database"><div class="titlepage"><div><div><h3 class="title"><a name="Raa15985"></a>Scenario: Inserting transformed data in MySQL database</h3></div></div></div><p>This scenario describes a four-component job which aims at fueling a database with
            data contained in a file, including transformed data. Two steps are required in this
            job, first step is to create the file, that will then be used in the second step. The
            first step includes a tranformation phase of the data included in the file.</p><div class="mediaobject"><img src="../images/Use_Case_tMysqlOB_BE1.png"></div><div class="section" title="Dropping and linking components"><div class="titlepage"><div><div><h4 class="title"><a name="d41342e88897"></a>Dropping and linking components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drag and drop a <span class="emphasis"><strong>tRowGenerator</strong></span>, a
                            <span class="emphasis"><strong>tMap</strong></span>, a <span class="emphasis"><strong>tMysqlOutputBulk</strong></span> as well as a <span class="emphasis"><strong>tMysqlBulkExec</strong></span> component.</p></li><li class="step" title="Step 2"><p>Connect the main flow using <span class="emphasis"><strong>row Main</strong></span>
                        links.</p></li><li class="step" title="Step 3"><p>And connect the start component (<span class="emphasis"><strong>tRowgenerator</strong></span> in this example) to the <span class="emphasis"><strong>tMysqlBulkExec</strong></span> using a <span class="emphasis"><strong>trigger</strong></span> connection, of type <span class="emphasis"><strong>OnComponentOk</strong></span>.</p></li></ol></div></div><div class="section" title="Configuring the components"><div class="titlepage"><div><div><h4 class="title"><a name="d41342e88937"></a>Configuring the components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>A <span class="emphasis"><strong>tRowGenerator</strong></span> is used to generate
                        random data. Double-click on the <span class="emphasis"><strong>tRowGenerator
                        </strong></span>component to launch the editor.</p></li><li class="step" title="Step 2"><p>Define the schema of the rows to be generated and the nature of data to
                        generate. In this example, the <span class="emphasis"><em>clients</em></span> file to be
                        produced will contain the following columns: <span class="emphasis"><em>ID</em></span>,
                            <span class="emphasis"><em>First Name</em></span>, <span class="emphasis"><em>Last Name</em></span>,
                            <span class="emphasis"><em>Address</em></span>, <span class="emphasis"><em>City</em></span> which all are
                        defined as string data but the ID that is of integer type.</p><div class="mediaobject"><img src="../images/Use_Case_tMysqlOB_BE2.png"></div><p>Some schema information don&#8217;t necessarily need to be displayed. To hide
                        them away, click on <span class="emphasis"><strong>Columns</strong></span> list button
                        next to the toolbar, and uncheck the relevant entries, such as <span class="emphasis"><strong>Precision</strong></span> or <span class="emphasis"><strong>Parameters</strong></span>.</p><p>Use the plus button to add as many columns to your schema
                        definition.</p><p>Click the Refresh button to preview the first generated row of your
                        output.</p></li><li class="step" title="Step 3"><p>Then select the <span class="emphasis"><strong>tMap</strong></span> component to set the
                        transformation.</p></li><li class="step" title="Step 4"><p>Drag and drop all columns from the input table to the output table. </p><div class="mediaobject"><img src="../images/Use_Case_tMysqlOB_BE3.png"></div></li><li class="step" title="Step 5"><p>Apply the transformation on the <span class="emphasis"><em>LastName</em></span> column by
                        adding <code class="code">.toUpperCase()</code> in its expression field.</p><p>Then, click <span class="emphasis"><strong>OK</strong></span> to validate the
                        transformation.</p></li><li class="step" title="Step 6"><p>Double-click on the <span class="emphasis"><strong>tMysqlOutputBulk</strong></span>
                        component.</p></li><li class="step" title="Step 7"><p>Define the name of the file to be produced in <span class="emphasis"><strong>File
                            Name</strong></span> field. If the delimited file information is stored in
                        the <span class="emphasis"><strong>Repository</strong></span>, select it in <span class="emphasis"><strong>Property Type</strong></span> field, to retrieve relevant data.
                        In this use case the file name is <span class="emphasis"><em>clients.txt</em></span>.</p><p>The schema is propagated from the <span class="emphasis"><strong>tMap</strong></span>
                        component, if you accepted it when prompted. </p></li><li class="step" title="Step 8"><p>In this example, don&#8217;t include the header information as the table should
                        already contain it.</p></li><li class="step" title="Step 9"><p>Click OK to validate the output.</p></li><li class="step" title="Step 10"><p>Then double-click on the <span class="emphasis"><strong>tMysqlBulkExec</strong></span>
                        component to set the INSERT query to be executed.</p></li><li class="step" title="Step 11"><p>Define the database connection details. <span>We
                            recommend you to store this type of information in the <span class="emphasis"><strong>Repository</strong></span>, so that you can retrieve them at
                            any time for any Job.</span></p><div class="mediaobject"><img src="../images/Use_Case_tMysqlOB_BE4.png"></div></li><li class="step" title="Step 12"><p>Set the table to be filled in with the collected data, in the <span class="emphasis"><strong>Table </strong></span>field.</p></li><li class="step" title="Step 13"><p>Fill in the column delimiters in the <span class="emphasis"><strong>Field
                            terminated by</strong></span> area.</p></li><li class="step" title="Step 14"><p>Make sure the encoding corresponds to the data encoding.</p></li></ol></div></div><div class="section" title="Saving and executing the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d41342e89079"></a>Saving and executing the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job.</p></li><li class="step" title="Step 2"><p>Press <span class="emphasis"><strong>F6</strong></span> or click <span class="emphasis"><strong>Run</strong></span> on the <span class="emphasis"><strong>Run</strong></span> tab to
                        execute the Job.</p><div class="mediaobject"><img src="../images/Use_Case_tMysqlOB_BE5.png"></div><p>The <span class="emphasis"><em>clients</em></span> database table is filled with data from
                        the file including upper-case <span class="emphasis"><em>last name</em></span> as transformed
                        in the job.</p></li></ol></div><p>For simple Insert operations that don&#8217;t include any transformations, the use of
                    <span class="emphasis"><strong>tMysqlOutputBulkExec</strong></span> allows you to skip a step
                in the process and thus improves performance. </p><p>Related topic: <a class="xref" href="tMysqlOutputBulkExec.html#Raa16582" title="tMysqlOutputBulkExec properties">the section called &#8220;tMysqlOutputBulkExec properties&#8221;</a></p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tMysqlOutput.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-databases-traditional.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tMysqlOutputBulkExec.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tMysqlOutput&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tMysqlOutputBulkExec</td></tr></table></div></body></html>