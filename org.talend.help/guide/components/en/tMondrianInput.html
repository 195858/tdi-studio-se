<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMondrianInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio"><link rel="up" href="ch-businessintelligence.html" title="Chapter&nbsp;3.&nbsp;Business Intelligence components"><link rel="prev" href="tLineChart.html" title="tLineChart"><link rel="next" href="tMSSqlSCD.html" title="tMSSqlSCD"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tMondrianInput</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tLineChart.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Business Intelligence components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tMSSqlSCD.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tMondrianInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMondrianInput"></a>tMondrianInput</h2></div></div></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="27"><tr><td><img src="../images/tMondrianInput_icon32_white.png" width="27"></td></tr></table></div><div class="section" title="tMondrianInput Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d41116e27365"></a>tMondrianInput Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
              <p><span class="emphasis"><strong>Component family</strong></span></p>
            </td><td valign="top">
              <p>Business Intelligence/OLAP Cube</p>
            </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Function</strong></span></p>
            </td><td colspan="2" valign="top">
              <p><span class="emphasis"><strong>tMondrianInput</strong></span> reads data from relational
                databases and produces multidimensional data sets based on an MDX query. </p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Purpose</strong></span></p>
            </td><td colspan="2" valign="top">
              <p><span class="emphasis"><strong>tMondrianInput</strong></span> executes a multi-dimensional
                expression (MDX) query corresponding to the dataset structure and schema definition.
                Then it passes on the multidimensional dataset obtained to the next component via a
                Main row link.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Basic settings</strong></span></p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Mondrian Version</em></span></p>
            </td><td valign="top">
              <p>Select the Mondrian version you are using.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>DB type</em></span></p>
            </td><td valign="top">
              <p>Select the relevant type of relational database</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Property type</em></span></p>
            </td><td valign="top">
              <p>Either Built-in or Repository.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><strong>Built-in</strong></span>: No property data stored
                centrally.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><strong>Repository</strong></span>: Select the Repository file where
                Properties are stored. The following fields are pre-filled in using fetched
                data.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Datasource</em></span></p>
            </td><td valign="top">
              <p>Name and path of the file containing the data.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Username</em></span> and <span class="emphasis"><em>Password</em></span></p>
            </td><td valign="top">
              <p>DB user authentication data.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit Schema</em></span></p>
            </td><td valign="top">
              <p>A schema is a row description, i.e., it defines the number of fields to be
                processed and passed on to the next component. The schema is either built-in or
                remotely stored in the Repository. </p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><strong>Built-in</strong></span>: The schema is created and stored
                locally for this component only. Related topic: see <span class="emphasis"><em>Talend Open Studio</em></span>
                <span class="emphasis"><strong>User Guide</strong></span>.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><strong>Repository</strong></span>: The schema already exists and is
                stored in the Repository, hence can be reused. Related topic: see <span class="emphasis"><em>Talend Open Studio</em></span>
                <span class="emphasis"><strong>User Guide</strong></span>.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Catalog</em></span></p>
            </td><td valign="top">
              <p>Path to the catalog (structure of the data warehouse).</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>MDX Query</em></span></p>
            </td><td valign="top">
              <p>Type in the MDX query paying particularly attention to properly sequence the
                fields in order to match the schema definition and the data warehouse structure.
              </p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Encoding</em></span></p>
            </td><td valign="top">
              <p>Select the encoding from the list or select Custom and define it manually. This
                field is compulsory for DB data handling.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Advanced settings</strong></span></p>
            </td><td valign="top">
              <p><span class="emphasis"><em>tStat</em></span><span class="emphasis"><em>Catcher Statistics</em></span></p>
            </td><td valign="top">
              <p>Select this check box to collect log data at the component level.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Usage</strong></span></p>
            </td><td colspan="2" valign="top">
              <p>This component covers MDX queries for multi-dimensional datasets.</p>
            </td></tr></tbody></table></div></div><div class="section" title="Scenario: Cross-join tables"><div class="titlepage"><div><div><h3 class="title"><a name="d41116e27691"></a>Scenario: Cross-join tables</h3></div></div></div><p>This Job extracts multi-dimensional datasets from relational database tables stored in a
      MySQL base. The data are retrieved using a multidimensional expression (MDX query). Obviously
      you need to have to know the structure of your data, or at least have a structure description
      (catalog) as a reference for the dataset to be retrieved in the various dimensions.</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="343"><tr><td><img src="../images/Use_Case_tMondrianInput1.png" width="343"></td></tr></table></div><div class="section" title="Setting up the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d41116e27699"></a>Setting up the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop <span class="emphasis"><strong>tMondrianInput</strong></span> and <span class="emphasis"><strong>tLogRow</strong></span> from the <span class="emphasis"><strong>Palette</strong></span> to the design
            workspace.</p></li><li class="step" title="Step 2"><p>Connect the Mondrian connector to the output component using a <span class="emphasis"><strong>Row Main</strong></span> connection. </p></li></ol></div></div><div class="section" title="Setting up the DB connection"><div class="titlepage"><div><div><h4 class="title"><a name="d41116e27721"></a>Setting up the DB connection</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="emphasis"><strong>tMondrianInput</strong></span> component to
            display its <span class="emphasis"><strong>Basic settings</strong></span>view.</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="502"><tr><td><img src="../images/Use_Case_tMondrianInput2.png" width="502"></td></tr></table></div></li><li class="step" title="Step 2"><p>In <span class="emphasis"><strong>DB type</strong></span> field, select the relational database
            you are using with Mondrian.</p></li><li class="step" title="Step 3"><p>Select the relevant Repository entry as <span class="emphasis"><strong>Property
              type</strong></span>, if you store your DB connection details centrally. In this example
            the properties are built-in.</p></li><li class="step" title="Step 4"><p>Fill out the details of connection to your DB: <span class="emphasis"><strong>Host</strong></span>, <span class="emphasis"><strong>Port</strong></span>, <span class="emphasis"><strong>Database
            </strong></span>name, <span class="emphasis"><strong>User Name </strong></span>and <span class="emphasis"><strong>Password</strong></span>.</p></li><li class="step" title="Step 5"><p>Select the relevant <span class="emphasis"><strong>Schema</strong></span> in the Repository if you
            store it centrally. In this example, the schema is to be set (built-in).</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="457"><tr><td><img src="../images/Use_Case_tMondrianInput3.png" width="457"></td></tr></table></div></li></ol></div></div><div class="section" title="Configuring the DB query"><div class="titlepage"><div><div><h4 class="title"><a name="d41116e27776"></a>Configuring the DB query</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>The relational database we want to query contains five columns:
              <span class="emphasis"><em>media</em></span>, <span class="emphasis"><em>drink</em></span>,
              <span class="emphasis"><em>unit_sales</em></span>, <span class="emphasis"><em>store_cost</em></span> and
              <span class="emphasis"><em>store_sales</em></span>.</p></li><li class="step" title="Step 2"><p>The query aims at retrieving the <span class="emphasis"><em>unit_sales</em></span>,
              <span class="emphasis"><em>store_cost</em></span> and <span class="emphasis"><em>store_sales</em></span> figures for
            various <span class="emphasis"><em>media </em></span>/ <span class="emphasis"><em>drink</em></span> using an MDX query such
            as in the example below:</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="458"><tr><td><img src="../images/Use_Case_tMondrianInput4.png" width="458"></td></tr></table></div></li><li class="step" title="Step 3"><p>Back on the <span class="emphasis"><strong>Basic settings</strong></span> tab of the <span class="emphasis"><strong>tMondrianInput</strong></span> component, set the <span class="emphasis"><strong>Catalog
            </strong></span>path to the data warehouse. This catalog describes the structure of the
            warehouse. </p></li><li class="step" title="Step 4"><p>Then type in the MDX query such as:</p><p>
            </p><pre class="programlisting">"select<span></span>
   {[Measures].[Unit Sales], [Measures].[Store Cost], [Measures].[Store
Sales]} on columns,<span></span>
   CrossJoin(<span></span>
     { [Promotion Media].[All Media].[Radio],<span></span>
       [Promotion Media].[All Media].[TV],<span></span>
       [Promotion Media].[All Media].[Sunday Paper],<span></span>
       [Promotion Media].[All Media].[Street Handout] },<span></span>
     [Product].[All Products].[Drink].children) on rows<span></span>
 from Sales<span></span>
 where ([Time].[1997])"</pre><p>
          </p></li><li class="step" title="Step 5"><p>Eventually, select the <span class="emphasis"><strong>Encoding</strong></span> type on the
            list.</p></li></ol></div></div><div class="section" title="Job execution"><div class="titlepage"><div><div><h4 class="title"><a name="d41116e27863"></a>Job execution</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Select the <span class="emphasis"><strong>tLogRow</strong></span> component and select the
              <span class="emphasis"><strong>Print header</strong></span> check box to display the column names on
            the console. </p></li><li class="step" title="Step 2"><p>Then press <span class="emphasis"><strong>F6</strong></span> to run the Job.</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="../images/Use_Case_tMondrianInput5.png" height="360"></td></tr></table></div></li></ol></div><p>The console shows the result of the <span class="emphasis"><em>unit_sales</em></span>,
          <span class="emphasis"><em>store_cost</em></span> and <span class="emphasis"><em>store_sales</em></span> for each type of
          <span class="emphasis"><em>Drink</em></span> (<span class="emphasis"><em>Beverages</em></span>, <span class="emphasis"><em>Dairy</em></span>,
          <span class="emphasis"><em>Alcoholic beverages</em></span>) crossed with each media
        (<span class="emphasis"><em>TV</em></span>, <span class="emphasis"><em>Sunday Paper</em></span>, <span class="emphasis"><em>Street
          handout</em></span>) as shown previously in a table form.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tLineChart.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-businessintelligence.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tMSSqlSCD.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tLineChart&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tMSSqlSCD</td></tr></table></div></body></html>