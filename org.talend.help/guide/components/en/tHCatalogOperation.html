<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tHCatalogOperation</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Big Data components"><link rel="prev" href="tHCatalogLoad.html" title="tHCatalogLoad"><link rel="next" href="tHCatalogOutput.html" title="tHCatalogOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tHCatalogOperation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tHCatalogOperation"></a>tHCatalogOperation</h2></div></div></div><div class="mediaobject"><img src="../images/tHCatalogOperation_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
					<span class="emphasis"><em>This component will be available in the <span class="emphasis"><strong>Palette</strong></span> of the studio on the condition that you
						have subscribed to the relevant edition of <span class="emphasis"><em>Talend
							Enterprise Data Integration Big Data edition</em></span>.</em></span>
				</p></td></tr></table></div><div class="section" title="tHCatalogOperation Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3054"></a>tHCatalogOperation Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="emphasis"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>Big Data / HCatalog</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="emphasis"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>This component allows you to manage the data stored in
										HCatalog managed database/table/partition in HDFS.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="emphasis"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>The <span class="emphasis"><strong>tHCatalogOperation</strong></span>
										component offers a platform on which you can operate in
										HCatalog managed database/table/partition in HDFS.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="emphasis"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
											Schema</em></span></p>
								</td><td valign="top">
									<p>A schema is a row description, i.e., it defines the number
										of fields that will be processed and passed on to the next
										component. <span>The schema is
											either <span class="emphasis"><strong>Built-in</strong></span> or
											stored remotely in the <span class="emphasis"><strong>Repository</strong></span></span>. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><strong>Built-in</strong></span>: The schema will
										be created and stored locally for this component only.
										Related topic: see <span class="emphasis"><em>Talend Enterprise Studio User
											Guide</em></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><strong>Repository</strong></span>: The schema
										already exists and is stored in the Repository, hence can be
										reused in various projects and Job designs. Related topic:
										see <span class="emphasis"><em>Talend Enterprise Studio User
										Guide</em></span>.</p>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>HCatalog version</em></span>
									</p>
								</td><td valign="top">
									<p>Select the version of the  Hadoop distribution you are using from the drop-down list.</p>
									</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Templeton hostname</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field with the URL of Templeton
										Webservice.</p>
									<p>
										</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Templeton is a webservice API for Hadoop. It
												allows you to move data directly into/out-of HDFS
												through WebHDFS. For further information about
												Templeton, see <a class="link" href="http://people.apache.org/~thejas/templeton_doc_latest" target="_top">http://people.apache.org/~thejas/templeton_doc_latest</a>.</p></td></tr></table></div><p>
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Templeton port</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field with the port of URL of Templeton
										Webservice. By default, the value for this field is
											<span class="emphasis"><em>50111</em></span>. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Templeton is a webservice API for Hadoop. It
												allows you to move data directly into/out-of HDFS
												through WebHDFS. For further information about
												Templeton, see <a class="link" href="http://people.apache.org/~thejas/templeton_doc_latest" target="_top">http://people.apache.org/~thejas/templeton_doc_latest</a>.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Operation on</em></span>
									</p>
								</td><td valign="top">
									<p>Select an object from the list for the DB operation as
										follows:</p>
									<p><span class="emphasis"><strong>Database</strong></span>: The HCatalog
										managed database in HDFS.</p>
									<p><span class="emphasis"><strong>Table</strong></span>: The HCatalog
										managed table in HDFS.</p>
									<p><span class="emphasis"><strong>Partition</strong></span>: The partition
										specified by the user.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Operation</em></span>
									</p>
								</td><td valign="top">
									<p>Select an action from the list for the DB operation as
										follows: <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop</strong></span>/<span class="emphasis"><strong>Drop
											if exist</strong></span>/<span class="emphasis"><strong>Drop and
											create</strong></span>/<span class="emphasis"><strong>Drop if exist
											and create</strong></span>. For further information about the
										DB operation in HDFS, see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html</a>.</p>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Create the table only it doesn't exist
										already</em></span>
								</td><td valign="top">
									<p>Select this check box to avoid creating duplicate table
										when you create a table.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span>
												list.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Database</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field with the name of the database in which the
										HCatalog managed tables are placed.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Table</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field to operate on one or multiple tables in a
										database or on a specified HDFS location. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span>
												list. For further information about the operation on
												<span class="emphasis"><strong>Table</strong></span>, see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-Create%252FDropTable" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-Create%252FDropTable</a>.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Partition</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field to specify one or more partitions for the
										partition operation on a specified table. When you specify
										multiple partitions, use comma to separate every two
										partitions and use double quotation marks to quote the
										partition string.</p>
									<p>
										</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you select
												<span class="emphasis"><strong>Partition</strong></span> from
												the <span class="emphasis"><strong>Operation on</strong></span>
												list. For further information about the operation on
												<span class="emphasis"><strong>Partition</strong></span>, see
												<a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-AddPartitions" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-AddPartitions</a>.</p></td></tr></table></div><p>
									</p>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Username</em></span>
								</td><td valign="top">
									<p>Fill this field with the username for the DB
										authentication.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Database location</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field with the location of the database file in HDFS.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you select
												<span class="emphasis"><strong>Database</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span>
												list.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Database description</em></span>
									</p>
								</td><td valign="top">
									<p>The description for the database to be created.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you select
												<span class="emphasis"><strong>Database</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span>
												list.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Create an external table</em></span>
								</td><td valign="top">
									<p>Select this field to create an external table in an
										alternative path defined in the <span class="emphasis"><strong>Set
											HDFS location</strong></span> field in the <span class="emphasis"><strong>Advanced settings</strong></span> view. For
										further information about creating external table, see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable</a>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span> list
												and <span class="emphasis"><strong>Create/Drop and
												create/Drop if exist and create</strong></span> from
												the <span class="emphasis"><strong>Operation</strong></span>
												list.</p></td></tr></table></div><p>
									</p>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Format</em></span>
								</td><td valign="top">
									<p>Select a file format from the list to specify the format
										of the external table you want to create:</p>
									<p><span class="emphasis"><strong>TEXTFILE</strong></span>: Plain text
										files.</p>
									<p><span class="emphasis"><strong>RCFILE</strong></span>: Record Columnar
										files. For further information about RCFILE, see <a class="link" href="http://hive.apache.org/docs/r0.4.0/api/org/apache/hadoop/hive/ql/io/RCFile.html" target="_top">http://hive.apache.org/docs/r0.4.0/api/org/apache/hadoop/hive/ql/io/RCFile.html</a>. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="emphasis"><strong>RCFILE</strong></span> is only
												available starting with Hive 0.6.0. This list is
												enabled only when you select <span class="emphasis"><strong>Table</strong></span> from the <span class="emphasis"><strong>Operation on</strong></span> list and <span class="emphasis"><strong>Create/Drop and create/Drop if exist
												and create</strong></span> from the <span class="emphasis"><strong>Operation</strong></span> list.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Set partitions</em></span>
								</td><td valign="top">
									<p>Select this check box to set the partition schema by
										clicking the Edit schema to the right of <span class="emphasis"><strong>Set partitions</strong></span> check box. The
										partition schema is either built-in or remote in the
										Repository. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span> list
												and <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop and
												create</strong></span>/<span class="emphasis"><strong>Drop if
												exist and create</strong></span> from the <span class="emphasis"><strong>Operation</strong></span> list. You must
												follow the rules of using partition schema in
												HCatalog managed tables. For more information about
												the rules in using partition schema, see <a class="link" href="http://incubator.apache.org/hcatalog/docs/r0.2.0/inputoutput.html#Partition+Schema+Semantics" target="_top">http://incubator.apache.org/hcatalog/docs/r0.2.0/inputoutput.html#Partition+Schema+Semantics</a>.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><strong>Built-in</strong></span>: The schema will
										be created and stored locally for this component only.
										Related topic: see <span class="emphasis"><em>Talend Enterprise Studio User
											Guide</em></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><strong>Repository</strong></span>: The schema
										already exists and is stored in the Repository, hence can be
										reused in various projects and Job designs. Related topic:
										see <span class="emphasis"><em>Talend Enterprise Studio User
										Guide</em></span>.</p>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Set the user group to use</em></span>
								</td><td valign="top">
									<p>Select this check box to specify the user group.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Drop</strong></span>/<span class="emphasis"><strong>Drop if exist</strong></span>/<span class="emphasis"><strong>Drop and create</strong></span>/<span class="emphasis"><strong>Drop if exist and create</strong></span>
												from the <span class="emphasis"><strong>Operation</strong></span>
												list. By default, the value for this field is
												<span class="emphasis"><em>root</em></span>. For more
												information about the user group in the server,
												contact your system administrator.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Option</em></span>
								</td><td valign="top">
									<p>Select a clause when you drop a database.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This list is enabled only when you select
												<span class="emphasis"><strong>Database</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span> list
												and <span class="emphasis"><strong>Drop</strong></span>/<span class="emphasis"><strong>Drop if exist</strong></span>/<span class="emphasis"><strong>Drop and create</strong></span>/<span class="emphasis"><strong>Drop if exist and create</strong></span>
												from the <span class="emphasis"><strong>Operation</strong></span>
												list. For more information about <span class="emphasis"><strong>Drop</strong></span> operation on database,
												see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-DropDatabase" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-DropDatabase</a>.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Set the permissions to use</em></span>
								</td><td valign="top">
									<p>Select this check box to specify the permissions needed by
										the operation you select from the <span class="emphasis"><strong>Operation</strong></span> list. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Drop</strong></span>/<span class="emphasis"><strong>Drop if exist</strong></span>/<span class="emphasis"><strong>Drop and create</strong></span>/<span class="emphasis"><strong>Drop if exist and create</strong></span>
												from the <span class="emphasis"><strong>Operation</strong></span>
												list. By default, the value for this field is
												<span class="emphasis"><em>rwxrw-r-x</em></span>. For
												more information on user permissions, contact your
												system administrator.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Set File location</em></span>
								</td><td valign="top">
									<p>Fill this field to specify a path to which partitioned
										data is stored. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Partition</strong></span> from
												the <span class="emphasis"><strong>Operation on</strong></span>
												list and <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop and
												create</strong></span>/<span class="emphasis"><strong>Drop if
												exist and create</strong></span> from the <span class="emphasis"><strong>Operation</strong></span> list. For further
												information about storing partitioned data in HDFS,
												see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-AddPartitions" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-AddPartitions</a>.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Die on error</em></span>
									</p>
								</td><td valign="top">
									<p>This check box is cleared by default, meaning to skip the
										row on error and to complete the process for error-free
										rows.</p>
								</td></tr><tr><td>
									<span class="emphasis"><strong>Advanced settings</strong></span>
								</td><td valign="top">
									<span class="emphasis"><em>Comment</em></span>
								</td><td valign="top">
									<p>Fill this field with the comment for the table you want to
										create. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span> list
												and <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop and
												create</strong></span>/<span class="emphasis"><strong>Drop if
												exist and create</strong></span> from the <span class="emphasis"><strong>Operation</strong></span> list in the
												<span class="emphasis"><strong>Basic settings
												view</strong></span>.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Set HDFS location</em></span>
								</td><td valign="top">
									<p>Select this check box to specify an HDFS location to which
										the table you want to create is saved. Deselect it to save
										the table you want to create in the warehouse directory
										defined in the key <span class="emphasis"><em>hive.metastore.warehouse.dir</em></span> in Hive
										configuration file <span class="emphasis"><em>hive-site.xml</em></span>. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span> list
												and <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop and
												create</strong></span>/<span class="emphasis"><strong>Drop if
												exist and create</strong></span> from the <span class="emphasis"><strong>Operation</strong></span> list in the
												<span class="emphasis"><strong>Basic settings</strong></span>
												view. For further information about saving data in
												HDFS, see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable</a>.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Set row format(terminated by)</em></span>
								</td><td valign="top">
									<p>Select this check box to use and define the row formats
										when you want to create a table:</p>
									<p><span class="emphasis"><strong>Field</strong></span>: Select this check
										box to use <span class="emphasis"><strong>Field</strong></span> as the row
										format. The default value for this field is <span class="emphasis"><em>"\u0001"</em></span>. You can also specify
										a customized char in this field.</p>
									<p><span class="emphasis"><strong>Collection Item</strong></span>: Select
										this check box to use <span class="emphasis"><strong>Collection
											Item</strong></span> as the row format. The default value for
										this field is <span class="emphasis"><em>"\u0002"</em></span>.
										You can also specify a customized char in this field.</p>
									<p><span class="emphasis"><strong>Map Key</strong></span>: Select this
										check box to use <span class="emphasis"><strong>Map Key</strong></span> as
										the row format. The default value for this field is
											<span class="emphasis"><em>"\u0003"</em></span>. You can
										also specify a customized char in this field.</p>
									<p><span class="emphasis"><strong>Line</strong></span>: Select this check
										box to use <span class="emphasis"><strong>Line</strong></span> as the row
										format. The default value for this field is <span class="emphasis"><em>"\n"</em></span>. You can also specify a
										customized char in this field. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled only when you select
												<span class="emphasis"><strong>Table</strong></span> from the
												<span class="emphasis"><strong>Operation on</strong></span> list
												and <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop and
												create</strong></span>/<span class="emphasis"><strong>Drop if
												exist and create</strong></span> from the <span class="emphasis"><strong>Operation</strong></span> list in the
												<span class="emphasis"><strong>Basic settings</strong></span>
												view. For further information about row formats in
												the HCatalog managed table, see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable</a>.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Properties</em></span>
								</td><td valign="top">
									<p>Click <span class="emphasis"><strong>[+]</strong></span> to add one or
										more lines to define table properties. The table properties
										allow you to tag the table definition with your own metadata
										key/value pairs. Make sure that values in both <span class="emphasis"><strong>Key</strong></span> row and <span class="emphasis"><strong>Value</strong></span> row must be quoted in double quotation marks.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This table is enabled only when you select
												<span class="emphasis"><strong>Database</strong></span>/<span class="emphasis"><strong>Table</strong></span> from the <span class="emphasis"><strong>Operation on</strong></span> list and <span class="emphasis"><strong>Create</strong></span>/<span class="emphasis"><strong>Drop and create</strong></span>/<span class="emphasis"><strong>Drop if exist and create</strong></span>
												from the <span class="emphasis"><strong>Operation</strong></span>
												list in the <span class="emphasis"><strong>Basic
												settings</strong></span> view. For further information
												about table properties, see <a class="link" href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable" target="_top">https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable</a>.</p></td></tr></table></div>
								</td></tr><tr><td> </td><td valign="top">
									<span class="emphasis"><em>Retrieve the HCatalog logs</em></span>
								</td><td valign="top">Select this check box to retrieve log files
									generated during HCatalog operations.</td></tr><tr><td>&nbsp;</td><td valign="top">
									<span class="emphasis"><em>Standard Output Folder</em></span>
								</td><td valign="top">
									<p>Fill this field with the path to which log files are
										stored.</p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you selected <span class="emphasis"><strong>Retrieve the HCatalog logs</strong></span>
											check box.</p></td></tr></table></div>
								</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>Error Output Folder</em></span>
									</p>
								</td><td valign="top">
									<p>Fill this field with the path to which error log files are stored.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is enabled only when you selected
												<span class="emphasis"><strong>Retrieve the HCatalog
												logs</strong></span> check box.</p></td></tr></table></div>
								</td></tr><tr><td>&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to gather the Job processing
										metadata at the Job level as well as at each component
										level. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="emphasis"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>This component is commonly used in a single-component Job
										or used together with a subjob.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="emphasis"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Knowledge of Hive Data Definition Language and HCatalog
										Data Definition Language is required. For further
										information about Hive Data Definition Language, see <a class="link" href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL" target="_top">https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL</a>.
										For further information about HCatalog Data Definition
										Language, see <a class="link" href="https://cwiki.apache.org/confluence/display/HCATALOG/Design+Document+-+Java+APIs+for+HCatalog+DDL+Commands" target="_top">https://cwiki.apache.org/confluence/display/HCATALOG/Design+Document+-+Java+APIs+for+HCatalog+DDL+Commands</a>.</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: HCatalog table management on Hortonworks Data Platform"><div class="titlepage"><div><div><h3 class="title"><a name="tHCatalogOperation_sce1_fhan"></a>Scenario: HCatalog table management on Hortonworks Data Platform</h3></div></div></div><p>This scenario describes a six-component Job that includes the common
					operations for the HCatalog table management on Hortonworks Data Platform.
					Sub-sections in this scenario covers DB operations including:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Creating a table to the database in HDFS;</p></li><li class="listitem"><p>Writing data to the HCatalog managed table;</p></li><li class="listitem"><p>Writing data to the partitioned table using <span class="emphasis"><strong>tHCatalogLoad</strong></span>;</p></li><li class="listitem"><p>Reading data from the HCatalog managed table;</p></li><li class="listitem"><p>Outputting the data read from the table in HDFS.</p></li></ul></div><p>
					</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Knowledge of Hive Data Definition Language and HCatalog Data
							Definition Language is required. For further information about Hive Data
							Definition Language, see <a class="link" href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL" target="_top">https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL</a>.
							For further information about HCatalog Data Definition Language, see
								<a class="link" href="https://cwiki.apache.org/confluence/display/HCATALOG/Design+Document+-+Java+APIs+for+HCatalog+DDL+Commands" target="_top">https://cwiki.apache.org/confluence/display/HCATALOG/Design+Document+-+Java+APIs+for+HCatalog+DDL+Commands</a>.</p></td></tr></table></div><p>
				</p><div class="section" title="Setting up the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4190"></a>Setting up the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> to the design workspace: <span class="emphasis"><strong>tHCatalogOperation</strong></span>, <span class="emphasis"><strong>tHCatalogLoad</strong></span>, <span class="emphasis"><strong>tHCatalogInput</strong></span>, <span class="emphasis"><strong>tHCatalogOutput</strong></span>, <span class="emphasis"><strong>tFixedFlowInput</strong></span>, and <span class="emphasis"><strong>tFileOutputDelimited</strong></span>.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload1.png" align="middle"></div></li><li class="step" title="Step 2"><p>Right-click <span class="emphasis"><strong>tHCatalogOperation</strong></span> to
								connect it to <span class="emphasis"><strong>tFixedFlowInput</strong></span>
								component using a <span class="emphasis"><strong>Trigger&gt;OnSubjobOk</strong></span> connection.</p></li><li class="step" title="Step 3"><p>Right-click <span class="emphasis"><strong>tFixedFlowInput</strong></span> to
								connect it to <span class="emphasis"><strong>tHCatalogOutput</strong></span> using
								a <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span> connection.</p></li><li class="step" title="Step 4"><p>Right-click <span class="emphasis"><strong>tFixedFlowInput</strong></span> to
								connect it to <span class="emphasis"><strong>tHCatalogLoad</strong></span> using a
									<span class="emphasis"><strong>Trigger</strong></span> &gt; <span class="emphasis"><strong>OnSubjobOk</strong></span> connection.</p></li><li class="step" title="Step 5"><p>Right-click <span class="emphasis"><strong>tHCatalogLoad</strong></span> to
								connect it to the <span class="emphasis"><strong>tHCatalogInput</strong></span>
								component using a <span class="emphasis"><strong>Trigger</strong></span> &gt;
									<span class="emphasis"><strong>OnSubjobOk</strong></span> connection.</p></li><li class="step" title="Step 6"><p>Right-click <span class="emphasis"><strong>tHCatalogInput</strong></span> to
								connect it to <span class="emphasis"><strong>tFileOutputDelimited</strong></span>
								using a <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span> connection.</p></li></ol></div></div><div class="section" title="Creating a table in HDFS"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4293"></a>Creating a table in HDFS</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tHCatalogOperation</strong></span>
								to open its <span class="emphasis"><strong>Basic settings</strong></span>
								view.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload2.png" align="middle"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Edit schema</strong></span> to define the
								schema for the table to be created.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload3.png" align="middle"></div></li><li class="step" title="Step 3"><p>Click <span class="emphasis"><strong>[+]</strong></span> to add at least one
								column to the schema and click <span class="emphasis"><strong>OK</strong></span>
								when you finish setting the schema. In this scenario, the columns
								added to the schema are: <span class="emphasis"><em>name</em></span>,
									<span class="emphasis"><em>country</em></span> and <span class="emphasis"><em>age</em></span>. </p></li><li class="step" title="Step 4"><p>Fill the <span class="emphasis"><strong>Templeton hostname</strong></span> field
								with URL of the Templeton webservice you are using. In this
								scenario, fill this field with "<span class="emphasis"><em>192.168.0.131</em></span>".</p></li><li class="step" title="Step 5"><p>Fill the <span class="emphasis"><strong>Templeton port</strong></span> field
								with the port for <span class="emphasis"><strong>Templeton
									hostname</strong></span>. By default, the value for this field is
									"<span class="emphasis"><em>50111</em></span>"</p></li><li class="step" title="Step 6"><p>Select <span class="emphasis"><strong>Table</strong></span> from the <span class="emphasis"><strong>Operation on</strong></span> list and <span class="emphasis"><strong>Drop if exist and create</strong></span> from the
									<span class="emphasis"><strong>Operation</strong></span> list to create a
								table in HDFS.</p></li><li class="step" title="Step 7"><p>Fill the <span class="emphasis"><strong>Database</strong></span> field with an
								existing database name in HDFS. In this scenario, the database name
								is "<span class="emphasis"><em>talend</em></span>".</p></li><li class="step" title="Step 8"><p>Fill the <span class="emphasis"><strong>Table</strong></span> field with the
								name of the table to be created. In this scenario, the table name is
									"<span class="emphasis"><em>Customer</em></span>".</p></li><li class="step" title="Step 9"><p>Fill the <span class="emphasis"><strong>Username</strong></span> field with the
								username for the DB authentication.</p></li><li class="step" title="Step 10"><p>Select the <span class="emphasis"><strong>Set the user group to
									use</strong></span> check box to specify the user group. The default
								user group is "<span class="emphasis"><em>root</em></span>", you need to
								specify the value for this field according to real practice.</p></li><li class="step" title="Step 11"><p>Select the <span class="emphasis"><strong>Set the permissions to
									use</strong></span> check box to specify the user permission. The
								default value for this field is "<span class="emphasis"><em>rwxrwxr-x</em></span>".</p></li><li class="step" title="Step 12"><p>Select the <span class="emphasis"><strong>Set partitions</strong></span> check
								box to enable the partition schema. </p></li><li class="step" title="Step 13"><p>Click the <span class="emphasis"><strong>Edit schema</strong></span> button next
								to the<span class="emphasis"><strong> Set partitions</strong></span> check box to
								define the partition schema.</p></li><li class="step" title="Step 14"><p>Click <span class="emphasis"><strong>[+]</strong></span> to add one column to
								the schema and click <span class="emphasis"><strong>OK</strong></span> when you
								finish setting the schema. In this scenario, the column added to the
								partition schema is: <span class="emphasis"><em>match_age</em></span>.
							</p></li></ol></div></div><div class="section" title="Writing data to the existing table"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4441"></a>Writing data to the existing table </h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tFixedFlowInput</strong></span> to
								open its <span class="emphasis"><strong>Basic settings</strong></span>
								view.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload4.png" align="middle"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Edit schema</strong></span> to define a
								same schema as the one you defined in <span class="emphasis"><strong>tHCatalogOperation</strong></span>.</p></li><li class="step" title="Step 3"><p>Fill the <span class="emphasis"><strong>Number of rows</strong></span> field
								with integer <span class="emphasis"><em>8</em></span>.</p></li><li class="step" title="Step 4"><p>Select <span class="emphasis"><strong>Use Inline Table</strong></span> in the
									<span class="emphasis"><strong>Mode</strong></span> area.</p></li><li class="step" title="Step 5"><p>Click <span class="emphasis"><strong>[+]</strong></span> to add new lines in the
								inline table.</p></li><li class="step" title="Step 6"><p>Double-click <span class="emphasis"><strong>tHCatalogOutput</strong></span> to
								open its <span class="emphasis"><strong>Basic settings</strong></span>
								view.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload5.png" align="middle"></div></li><li class="step" title="Step 7"><p>Click <span class="emphasis"><strong>Sync columns</strong></span> to retrieve
								the schema defined in the preceding component.</p></li><li class="step" title="Step 8"><p>Fill the <span class="emphasis"><strong>NameNode URI</strong></span> field with
								the URI to the NameNode. In this scenario, this URL is "<span class="emphasis"><em>192.168.0.131</em></span>".</p></li><li class="step" title="Step 9"><p>Fill the <span class="emphasis"><strong>File name</strong></span> field with the
								HDFS location of the file you write data to. In this scenario, the
								file location is "<span class="emphasis"><em>/user/hdp/Customer/Customer.csv</em></span>".</p></li><li class="step" title="Step 10"><p>Select <span class="emphasis"><strong>Overwrite</strong></span> from the
									<span class="emphasis"><strong>Action</strong></span> list.</p></li><li class="step" title="Step 11"><p>Fill the <span class="emphasis"><strong>Templeton hostname</strong></span> field
								with URL of the Templeton webservice you are using. In this
								scenario, fill this field with "<span class="emphasis"><em>192.168.0.131</em></span>".</p></li><li class="step" title="Step 12"><p>Fill the <span class="emphasis"><strong>Templeton port</strong></span> field
								with the port for <span class="emphasis"><strong>Templeton
									hostname</strong></span>. By default, the value for this field is
									"<span class="emphasis"><em>50111</em></span>"</p></li><li class="step" title="Step 13"><p>Fill the <span class="emphasis"><strong>Database</strong></span> field, the
									<span class="emphasis"><strong>Table</strong></span> field, the <span class="emphasis"><strong>Username</strong></span> field with the same value you
								specified in <span class="emphasis"><strong>tHCatalogOperation</strong></span>.</p></li><li class="step" title="Step 14"><p>Fill the <span class="emphasis"><strong>Partition</strong></span> field with
									"<span class="emphasis"><em>match_age=27</em></span>". </p></li><li class="step" title="Step 15"><p>Fill the <span class="emphasis"><strong>File location</strong></span> field with
								the HDFS location to which the table will be saved. In this example,
								use "<span class="emphasis"><em>hdfs://192.168.0.131:8020/user/hdp/Customer</em></span>".</p></li></ol></div></div><div class="section" title="Writing data to the partitioned table using tHCatalogLoad"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4589"></a>Writing data to the partitioned table using tHCatalogLoad</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tHCatalogLoad</strong></span> to
								open its <span class="emphasis"><strong>Basic settings</strong></span>
								view.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload6.png" align="middle"></div></li><li class="step" title="Step 2"><p>Fill the <span class="emphasis"><strong>Partition</strong></span> field with
									"<span class="emphasis"><em>match_age=26</em></span>".</p></li><li class="step" title="Step 3"><p>Do the rest of the settings in the same way as configuring
									<span class="emphasis"><strong>tHCatalogOperation</strong></span>.</p></li></ol></div></div><div class="section" title="Reading data from the table in HDFS"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4620"></a>Reading data from the table in HDFS</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tHCatalogInput</strong></span> to
								open its <span class="emphasis"><strong>Basic settings</strong></span>
								view.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload8.png" align="middle"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Edit schema</strong></span> to define the
								schema of the table to be read from the database.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload9.png" align="middle"></div></li><li class="step" title="Step 3"><p>Click <span class="emphasis"><strong>[+]</strong></span> to add at least one
								column to the schema. In this scenario, the columns added to the
								schema are <span class="emphasis"><em>age</em></span> and <span class="emphasis"><em>name</em></span>.</p></li><li class="step" title="Step 4"><p>Fill the <span class="emphasis"><strong>Partition</strong></span> field with
									"<span class="emphasis"><em>match_age=26</em></span>".</p></li><li class="step" title="Step 5"><p>Do the rest of the settings in the same way as configuring
									<span class="emphasis"><strong>tHCatalogOperation</strong></span>.</p></li></ol></div></div><div class="section" title="Outputting the data read from the table in HDFS to the console"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4672"></a>Outputting the data read from the table in HDFS to the console</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tLogRow</strong></span> to open its
									<span class="emphasis"><strong>Basic settings</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload10.png" align="middle"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Sync columns</strong></span> to retrieve
								the schema defined in the preceding component.</p></li><li class="step" title="Step 3"><p>Select <span class="emphasis"><strong>Table</strong></span> from the <span class="emphasis"><strong>Mode</strong></span> area.</p></li></ol></div></div><div class="section" title="Job execution"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4703"></a>Job execution</h4></div></div></div><p>Press <span class="emphasis"><strong>CTRL</strong></span>+<span class="emphasis"><strong>S</strong></span> to save your Job and <span class="emphasis"><strong>F6</strong></span>
						to execute it.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload11.png" align="middle"></div><p>The data of the restricted table read from the HDFS is displayed onto the
						console.</p><p>Type in <span class="emphasis"><em>http://talend-hdp:50075/browseDirectory.jsp?dir=/user/hdp/Customer&amp;namenodeInfoPort=50070</em></span>
						to the address bar of your browser to view the table you created:</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload13.png" align="middle"></div><p>Click the <span class="emphasis"><em>Customer.csv</em></span> link to view the
						content of the table you created.</p><div class="mediaobject" align="center"><img src="../images/use_case_thcatalogload12.png" align="middle"></div></div></div></div></body></html>