<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tIntervalMatch</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-dataquality.html" title="Chapter&nbsp;6.&nbsp;Data Quality components"><link rel="prev" href="tFuzzyMatch.html" title="tFuzzyMatch"><link rel="next" href="tReplaceList.html" title="tReplaceList"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tIntervalMatch</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tFuzzyMatch.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;6.&nbsp;Data Quality components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tReplaceList.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tIntervalMatch"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tIntervalMatch"></a>tIntervalMatch</h2></div></div></div><div class="mediaobject"><img src="../images/tIntervalMatch_icon32_white.png"></div><div class="section" title="tIntervalMatch properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e57251"></a>tIntervalMatch properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
                            <p><span class="emphasis"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>Data Quality</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="emphasis"><strong>tIntervalMatch</strong></span> receives a main
                                flow and aggregates it based on join to a lookup flow. Then it
                                matches a specified value to a range of values and returns related
                                information.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Helps to return a value based on a Join relation.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
                                schema</em></span></p>
                        </td><td valign="top">
                            <p>A schema is a row description, i.e., it defines the number of
                                fields that will be processed and passed on to the next component.
                                The schema is either built-in or remote in the Repository. </p>
                            <p>If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, only the <span class="emphasis"><strong>Built-in</strong></span> mode is available.</p>
                            <p> Click <span class="emphasis"><strong>Edit Schema</strong></span> to make
                                changes to the schema. Note that if you make changes, the schema
                                automatically becomes built-in.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Built-in</strong></span>: The schema will be
                                created and stored locally for this component only. Related topic:
                                see <span class="emphasis"><em>Talend Open Studio User
                                    Guide</em></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Repository</strong></span>: The schema already
                                exists and is stored in the Repository, hence can be reused in
                                various projects and job flowcharts. Related topic: see
                                        <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
                            <p><span class="emphasis"><em>Search Column</em></span></p>
                        </td><td valign="top">
                            <p>Select the main flow column containing the values to be matched
                                with a range of values </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Column (LOOKUP)</em></span></p>
                        </td><td valign="top">
                            <p>Select the lookup flow column containing the values to be returned
                                when the Join is ok.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Lookup Column (min) / Include the bound
                                (min)</em></span></p>
                        </td><td valign="top">
                            <p>Select the column containing the minimum value of the range.
                                Select the check box to include the minimum value of the range in
                                the match.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Lookup Column (max) / Include the bound
                                (max)</em></span></p>
                        </td><td valign="top">
                            <p>Select the column containing the maximum value of the range.
                                Select the check box to include the maximum value of the range in
                                the match.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Advanced settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>tStat</em></span><span class="emphasis"><em>Catcher</em></span>
                                <span class="emphasis"><em>Statistics</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to collect log data at the component
                                level.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>This component handles flow of data therefore it requires input
                                and output, hence is defined as an intermediary step. </p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>n/a</p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario: Identifying server locations based on their IP addresses"><div class="titlepage"><div><div><h3 class="title"><a name="d0e57488"></a>Scenario: Identifying server locations based on their IP addresses</h3></div></div></div><p>This scenario describes a four-component Job that checks the server IP addresses
            listed in the main input file against a list of IP ranges given in a lookup file to
            identify the hosting country for each server.</p><div class="mediaobject"><img src="../images/Use_Case_tIntervalMatch1.png"></div><div class="section" title="Setting up the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e57496"></a>Setting up the Job</h4></div></div></div><p>The Job requires two <span class="emphasis"><strong>tFileInputDelimited</strong></span>
                components, a <span class="emphasis"><strong>tIntervalMatch</strong></span> component and a
                    <span class="emphasis"><strong>tLogRow</strong></span> component.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop the components onto the design workspace.</p></li><li class="step" title="Step 2"><p>Connect the components using <span class="emphasis"><strong>Row</strong></span> &gt;
                            <span class="emphasis"><strong>Main</strong></span> connection.</p><p>Note that the connection from the second <span class="emphasis"><strong>tFileInputDelimited</strong></span> component to the <span class="emphasis"><strong>tIntervalMatch</strong></span> component will appear as a Lookup
                        connection.</p></li></ol></div></div><div class="section" title="Configuring the components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e57531"></a>Configuring the components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the first <span class="emphasis"><strong>tFileInputDelimited</strong></span> component to open its <span class="emphasis"><strong>Basic settings</strong></span> view. </p><div class="mediaobject"><img src="../images/Use_Case_tIntervalMatch3.png"></div></li><li class="step" title="Step 2"><p>Browse to the file to be used as the main input, which provides a list of
                        servers and their IP addresses:</p><pre class="programlisting">Server;IP
Server1;057.010.010.010
Server2;001.010.010.100
Server3;057.030.030.030
Server4;053.010.010.100</pre></li><li class="step" title="Step 3"><p>Click the <span class="emphasis"><strong>[...]</strong></span> button next to <span class="emphasis"><strong>Edit schema</strong></span> to open the <span class="emphasis"><strong>[Schema]</strong></span> dialog box and define the input schema. According
                        to the input file structure, the schema is made of two columns, respectively
                            <span class="emphasis"><em>Server</em></span> and <span class="emphasis"><em>IP</em></span>, both of type
                            <span class="emphasis"><strong>String</strong></span>. Then click <span class="emphasis"><strong>OK</strong></span> to close the dialog box.</p><div class="mediaobject"><img src="../images/Use_Case_tIntervalMatch3_bis.png"></div></li><li class="step" title="Step 4"><p>Define the number of header rows to be skipped, and keep the other
                        settings as they are.</p></li><li class="step" title="Step 5"><p>Define the properties of the second <span class="emphasis"><strong>tFileInputDelimited</strong></span> component similarly.</p><div class="mediaobject"><img src="../images/Use_Case_tIntervalMatch6.png"></div><p>The file to be used as the input to the lookup flow in this example lists
                        some IP address ranges and the corresponding countries:</p><pre class="programlisting">StartIP;EndIP;Country
001.000.000.000;001.255.255.255;USA
002.006.190.056;002.006.190.063;UK
011.000.000.000;011.255.255.255;USA
057.000.000.000;057.255.255.255;France
012.063.178.060;012.063.178.063;Canada
053.000.000.000;053.255.255.255;Germany</pre><p>Accordingly, the schema of the lookup flow should have the following
                        structure:</p><div class="mediaobject"><img src="../images/Use_Case_tIntervalMatch4.png"></div></li><li class="step" title="Step 6"><p>Double-click the <span class="emphasis"><strong>tIntervalMatch</strong></span> component
                        to open its <span class="emphasis"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/Use_Case_tIntervalMatch5.png"></div></li><li class="step" title="Step 7"><p>From the <span class="emphasis"><strong>Search Column</strong></span> list, select the
                        main flow column containing the values to be matched with the range values.
                        In this example, we want to match the servers' IP addresses with the range
                        values from the lookup flow.</p></li><li class="step" title="Step 8"><p>From the <span class="emphasis"><strong>Column (LOOKUP)</strong></span> list, select the
                        lookup column that holds the values to be returned. In this example, we want
                        to get the names of countries where the servers are hosted. </p></li><li class="step" title="Step 9"><p>Set the min and max lookup columns corresponding to the range bounds
                        defined in the lookup schema, <span class="emphasis"><em>StartIP</em></span> and
                            <span class="emphasis"><em>EndIP</em></span> respectively in this
                        example.</p></li></ol></div></div><div class="section" title="Executing the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e57633"></a>Executing the Job</h4></div></div></div><div class="procedure"><ul class="procedure"><li class="step" title="Step 1"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job and press
                            <span class="emphasis"><strong>F6</strong></span> to run it.</p><p>The name of the country where each server is hosted is displayed next to
                        the IP address.</p><div class="mediaobject"><img src="../images/use_case-tintervalmatch8and9.png"></div></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tFuzzyMatch.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-dataquality.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tReplaceList.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tFuzzyMatch&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tReplaceList</td></tr></table></div></body></html>