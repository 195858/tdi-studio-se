<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tFileInputRegex</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio"><link rel="up" href="ch-file.html" title="Chapter&nbsp;13.&nbsp;File components"><link rel="prev" href="tFileInputProperties.html" title="tFileInputProperties"><link rel="next" href="tFileList.html" title="tFileList"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tFileInputRegex</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tFileInputProperties.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;13.&nbsp;File components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tFileList.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tFileInputRegex"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tFileInputRegex"></a>tFileInputRegex</h2></div></div></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="27"><tr><td><img src="../images/tFileInputRegex.png" width="27"></td></tr></table></div><div class="section" title="tFileInputRegex properties"><div class="titlepage"><div><div><h3 class="title"><a name="d41116e205632"></a>tFileInputRegex properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
                            <p><span class="emphasis"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>File/Input</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Powerful feature which can replace number of other components of
                                the File family. Requires some advanced knowledge on regular
                                expression syntax</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Opens a file and reads it row by row to split them up into fields
                                using regular expressions. Then sends fields as defined in the
                                Schema to the next Job component, via a Row link.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Property type</em></span></p>
                        </td><td valign="top">
                            <p><span>Either <span class="emphasis"><strong>Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Built-in</strong></span>: No property data stored
                                centrally.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Repository</strong></span>: Select the repository
                                file where the properties are stored. The fields that follow are
                                completed automatically using the data retrieved.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>File Name/Stream</em></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>File name</strong></span>: Name of the file
                                and/or the variable to be processed</p>
                            <p><span class="emphasis"><strong>Stream</strong></span>: Data flow to be
                                processed. The data must be added to the flow so that it can be
                                collected by the <span class="emphasis"><strong>tFileInputRegex
                                </strong></span>via the <span class="emphasis"><em>INPUT_STREAM</em></span> variable in the
                                autocompletion list (<span class="emphasis"><strong>Ctrl+Space</strong></span>)</p>
                            <p> </p>
                            <p>Related topic: see <span class="emphasis"><em>Talend Open Studio</em></span>
                                <span class="emphasis"><em>User Guide</em></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Row separator</em></span></p>
                        </td><td valign="top">
                            <p>String (ex: &#8220;\n&#8221;on Unix) to distinguish rows.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Regex</em></span></p>
                        </td><td valign="top">
                            <p>This field can contain multiple lines. Type in your regular
                                expressions including the subpattern matching the fields to be
                                extracted. </p>
                            <p>
                                <span class="emphasis"><strong>Note</strong></span>: Antislashes need to be
                                doubled in regexp</p>
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
                                    <span class="emphasis"><em>Regex syntax requires double quotes.</em></span></p></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Header</em></span></p>
                        </td><td valign="top">
                            <p>Number of rows to be skipped in the beginning of file</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Footer</em></span></p>
                        </td><td valign="top">
                            <p>Number of rows to be skipped at the end of the file.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Limit</em></span></p>
                        </td><td valign="top">
                            <p>Maximum number of rows to be processed. If Limit = 0, no row is
                                read or processed.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
                                Schema</em></span></p>
                        </td><td valign="top">
                            <p>A schema is a row description, i.e., it defines the number of
                                fields to be processed and passed on to the next component. <span>The schema is either <span class="emphasis"><strong>Built-in</strong></span> or stored remotely in the
                                        <span class="emphasis"><strong>Repository</strong></span></span>. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Built-in</strong></span>: The schema will be
                                created and stored locally for this component only. Related topic:
                                see <span class="emphasis"><em>Talend Open Studio</em></span>
                                <span class="emphasis"><em>User Guide</em></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Repository</strong></span>: The schema already
                                exists and is stored in the Repository, hence can be reused in
                                various projects and Job flowcharts. Related topic: see <span class="emphasis"><em>Talend Open Studio</em></span>
                                <span class="emphasis"><em>User Guide</em></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Skip empty rows</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to skip empty rows.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Die on error</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to stop the execution of the Job when an
                                error occurs. Clear the check box to skip the row on error and
                                complete the process for error-free rows. If needed, you can collect
                                the rows on error using a <span class="emphasis"><strong>Row</strong></span> &gt;
                                    <span class="emphasis"><strong>Reject</strong></span> link.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Advanced settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Encoding</em></span></p>
                        </td><td valign="top">
                            <p>Select the encoding from the list or select Custom and define it
                                manually. This field is compulsory for DB data handling. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>tStatCatcher Statistics</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to gather the Job processing metadata at a
                                Job level as well as at each component level.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Use this component to read a file and separate fields contained in
                                this file according to the defined Regex. You can also create a
                                rejection flow using a <span class="emphasis"><strong>Row &gt;
                                    Reject</strong></span> link to filter the data which doesn&#8217;t
                                correspond to the type defined. For an example of how to use these
                                two links, see <a class="xref" href="tExtractXMLField.html#Raa91776" title="Scenario 2: Extracting correct and erroneous data from an XML field in a delimited file">the section called &#8220;Scenario 2: Extracting correct and erroneous data from an XML field in a delimited
            file&#8221;</a>.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>n/a</p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario: Regex to Positional file"><div class="titlepage"><div><div><h3 class="title"><a name="d41116e206061"></a>Scenario: Regex to Positional file</h3></div></div></div><p>The following scenario creates a two-component Job, reading data from an Input file
            using regular expression and outputting delimited data into an XML file.</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="255"><tr><td><img src="../images/Use_Case_tFileInputRegex1.png" width="255"></td></tr></table></div><div class="procedure" title="Procedure&nbsp;13.13.&nbsp; Dropping and linking the components"><a name="d41116e206069"></a><p class="title"><b>Procedure&nbsp;13.13.&nbsp;
                Dropping and linking the components
            </b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop a <span class="emphasis"><strong>tFileInputRegex</strong></span> component from the
                        <span class="emphasis"><strong>Palette</strong></span> to the design workspace.</p></li><li class="step" title="Step 2"><p>Drop a <span class="emphasis"><strong>tFileOutputPositional</strong></span> component the
                    same way.</p></li><li class="step" title="Step 3"><p>Right-click on the <span class="emphasis"><strong>tFileInputRegex</strong></span> component
                    and select <span class="emphasis"><strong>Row</strong></span><span class="emphasis"><em> &gt;
                        </em></span><span class="emphasis"><strong>Main</strong></span>. Drag this main row link
                    onto the <span class="emphasis"><strong>tFileOutputPositional</strong></span> component and
                    release when the plug symbol displays.</p></li></ol></div><div class="procedure" title="Procedure&nbsp;13.14.&nbsp; Configuring the components"><a name="d41116e206103"></a><p class="title"><b>Procedure&nbsp;13.14.&nbsp;
                Configuring the components
            </b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Select the <span class="emphasis"><strong>tFileInputRegex</strong></span> again so the
                        <span class="emphasis"><strong>Component</strong></span> view shows up, and define the
                    properties:</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="477"><tr><td><img src="../images/Use_Case_tFileInputRegex.png" width="477"></td></tr></table></div></li><li class="step" title="Step 2"><p>The Job is built-in for this scenario. Hence, the Properties are set for this
                    station only. </p></li><li class="step" title="Step 3"><p>Fill in a path to the file in <span class="emphasis"><strong>File Name</strong></span>
                    field. This field is mandatory.</p></li><li class="step" title="Step 4"><p>Define the <span class="emphasis"><strong>Row separator</strong></span> identifying the end
                    of a row. </p></li><li class="step" title="Step 5"><p>Then define the <span class="emphasis"><strong>Regular expression</strong></span> in order
                    to delimit fields of a row, which are to be passed on to the next component. You
                    can type in a regular expression using Java code, and on mutiple lines if
                    needed. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
                <span class="emphasis"><em>Regex syntax requires double quotes.</em></span></p></div></li><li class="step" title="Step 6"><p>In this expression, make sure you include all subpatterns matching the fields
                    to be extracted.</p></li><li class="step" title="Step 7"><p>In this scenario, ignore the header, footer and limit fields. </p></li><li class="step" title="Step 8"><p>Select a local (<span class="emphasis"><strong>Built-in</strong></span>) <span class="emphasis"><strong>Schema</strong></span> to define the data to pass on to the <span class="emphasis"><strong>tFileOutputPositional</strong></span> component. </p></li><li class="step" title="Step 9"><p>You can load or create the schema through the <span class="emphasis"><strong>Edit
                        Schema</strong></span> function. </p></li><li class="step" title="Step 10"><p>Then define the second component properties:</p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="506"><tr><td><img src="../images/Use_Case_tFileInputRegex2.png" width="506"></td></tr></table></div></li><li class="step" title="Step 11"><p>Enter the Positional file output path. </p></li><li class="step" title="Step 12"><p>Enter the <span class="emphasis"><strong>Encoding</strong></span> standard, the output file
                    is encoded in. Note that, for the time being, the encoding consistency
                    verification is not supported.</p></li><li class="step" title="Step 13"><p>Select the <span class="emphasis"><strong>Schema</strong></span> type. Click on <span class="emphasis"><strong>Sync columns</strong></span> to automatically synchronize the schema
                    with the Input file schema.</p></li></ol></div><div class="procedure" title="Procedure&nbsp;13.15.&nbsp; Saving and executing the Job"><a name="d41116e206192"></a><p class="title"><b>Procedure&nbsp;13.15.&nbsp;
                Saving and executing the Job
            </b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job. </p></li><li class="step" title="Step 2"><p>Now go to the <span class="emphasis"><strong>Run</strong></span> tab, and click on <span class="emphasis"><strong>Run</strong></span> to execute the Job.</p><p>The file is read row by row and split up into fields based on the <span class="emphasis"><strong>Regular Expression</strong></span> definition. You can open it using any
            standard file editor. </p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="443"><tr><td><img src="../images/Use_Case_tFileInputRegex3.png" width="443"></td></tr></table></div></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tFileInputProperties.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-file.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tFileList.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tFileInputProperties&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tFileList</td></tr></table></div></body></html>