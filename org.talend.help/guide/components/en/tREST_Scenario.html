<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="04/28/11 19:32:57">
    <title>Scenario: Creating and retrieving data by invoking REST Web service </title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tREST_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tRSSInput_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3668904"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3668909"> </a><h2 class="pHeading2">
Scenario: Creating and retrieving data by invoking REST Web service 
</h2>
<a name="wp3668914"> </a><p class="pIndented1">
This scenario describes a simple Job that invokes a REST Web service to create a new customer record on the server end and then retrieve the customer information. When executed, the Job displays relevant information on the <b class="cBold">Run</b> console.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3668929"> </a><div class="pSmartList2"><li>Drop the following components from the <b class="cBold">Palette</b> onto the design workspace: two <b class="cBold">tREST</b> components and two <b class="cBold">tLogRow</b> components, and label the two <b class="cBold">tREST</b> components to best describe the actions to perform.</li></div>
<a name="wp3668952"> </a><div class="pSmartList2"><li>Connect each <b class="cBold">tREST</b> to one <b class="cBold">tLogRow</b> using a <b class="cBold">Row</b> &gt; <b class="cBold">Main</b> connection.</li></div>
<a name="wp3668972"> </a><div class="pSmartList2"><li>Connect the first <b class="cBold">tREST</b> to the second <b class="cBold">tREST</b> using a <b class="cBold">Trigger</b> &gt; <b class="cBold">OnSubjobOK</b><span style="font-weight: normal"> connection</span>.</li></div>
</ul></div>
</ul></div>
<a name="wp3668979"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tREST01.png" id="wp3668976" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3668992"> </a><div class="pSmartList2"><li>Double click the first <b class="cBold">tREST</b> component to open its <b class="cBold">Basic settings</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp3668999"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tREST02.png" id="wp3668996" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3669007"> </a><div class="pSmartList2"><li>Fill the <b class="cBold">URL</b> field with the URL of the Web service you are going to invoke. Note that the URL provided in this use case is for demonstration purpose only and is not a live address.</li></div>
<a name="wp3669017"> </a><div class="pSmartList2"><li>From the <b class="cBold">HTTP Method</b> list, select <b class="cBold">POST</b> to send an HTTP request for creating a new record.</li></div>
<a name="wp3669024"> </a><div class="pSmartList2"><li>Click the plus button to add a line in the <b class="cBold">HTTP Headers</b> table, and type in the appropriate name-value key pair, which is subject to definition of your service provider, to indicate the media type of the payload to send to the server end. In this use case, type in <em class="cEmphasis">Content-Type</em> and <em class="cEmphasis">application/xml</em>. For reference information about Internet media types, visit <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7">www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7</a>. </li></div>
<a name="wp3669038"> </a><div class="pSmartList2"><li>Fill the <b class="cBold">HTTP Body</b> field with the payload to be uploaded to the server end. In this use case, type in <em class="cEmphasis">&lt;Customer&gt;&lt;name&gt;Steven&lt;/name&gt;&lt;/Customer</em>&gt; to create a record for a new customer named <em class="cEmphasis">Steven</em>. </li></div>
<a name="wp3669052"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_smalljj.png" align="left" id="wp3669050" border="0" hspace="0" vspace="0"/><br />
If you want to include double quotation marks in your payload, be sure to use a backslash escape character before each of the quotation marks. In this use case, for example, type in <em class="cEmphasis">&lt;Customer&gt;&lt;name&gt;\&quot;Steven\&quot;&lt;/name&gt;&lt;/Customer&gt;</em> if you want to enclose the name <em class="cEmphasis">Steven</em> in a pair of double quotation marks.
</p>
<a name="wp3669071"> </a><div class="pSmartList2"><li>Double click the second <b class="cBold">tREST</b> component to open its <b class="cBold">Basic settings</b> view.</li></div>
<a name="wp3669078"> </a><div class="pSmartList2"><li>Fill the <b class="cBold">URL</b> field with the same URL.</li></div>
<a name="wp3669087"> </a><div class="pSmartList2"><li>From the <b class="cBold">HTTP Method</b> list, select <b class="cBold">GET</b> to send an HTTP request for retrieving the existing records.</li></div>
<a name="wp3669099"> </a><div class="pSmartList2"><li>In the <b class="cBold">Basic settings</b> view of each <b class="cBold">tLogRow</b>, select the <b class="cBold">Print component unique name in front of each output row</b> and <b class="cBold">Print schema column name in front of each value</b> check boxes for better identification of the output flows.</li></div>
</ul></div>
</ul></div>
<a name="wp3669112"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tREST03.png" id="wp3669109" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3669120"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to launch it. <br />The console shows that the first <b class="cBold">tREST</b> component sends an HTTP request to the server end to create a new customer named <em class="cEmphasis">Steven</em>, and the second <b class="cBold">tREST</b> component successfully reads data from the server end, which includes the information of the new customer you just created.</li></div>
</ul></div>
</ul></div>
<a name="wp3669140"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tREST04.png" id="wp3669135" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tREST_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tRSSInput_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
