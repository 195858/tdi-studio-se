<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMDMRouteRecord</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-mdm.html" title="Chapter&nbsp;20.&nbsp;Talend MDM components"><link rel="prev" href="tMDMReceive.html" title="tMDMReceive"><link rel="next" href="tMDMSP.html" title="tMDMSP"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tMDMRouteRecord</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tMDMReceive.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;20.&nbsp;Talend MDM components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tMDMSP.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tMDMRouteRecord"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMDMRouteRecord"></a>tMDMRouteRecord</h2></div></div></div><div class="mediaobject"><img src="../images/tMDMRouteRecord_icon32_white.png"></div><div class="section" title="tMDMRouteRecord properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e273947"></a>tMDMRouteRecord properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Talend
								MDM</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tMDMRouteRecord</strong></span> submits the
								primary key of a record stored in your MDM Hub to <span class="emphasis"><strong>Event Manager</strong></span> in order for <span class="emphasis"><strong>Event Manager</strong></span> to trigger the due
								process(es) against some specific conditions that you can define in
								the process or trigger pages of the MDM Studio.</p>
							<p> For more information on <span class="emphasis"><strong>Event
									Manager</strong></span> and on a MDM process, see <span class="emphasis"><em>Talend Open Studio for MDM</em></span>
								<span class="emphasis"><strong>Administrator Guide</strong></span>. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component helps <span class="emphasis"><strong>Event
									Manager</strong></span> identify the changes which you have made on
								your data so that correlative actions can be triggered.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic Settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use an existing connection</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box if you want to use a configured <span class="emphasis"><strong>tMDMConnection</strong></span> component.</p>
						</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
							<span class="emphasis"><em>URL</em></span>
						</td><td valign="top">Type in the URL of the MDM server.</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Username</em></span> and
								<span class="emphasis"><em>Password</em></span></p>
						</td><td valign="top">
							<p>Type in the user authentication data for the MDM server.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Version</em></span>
							</p>
						</td><td valign="top">
							<p>Type in the name of the master data management Version you want to
								connect to, for which you have the user rights required.</p>
							<p> Leave this field empty if you want to display the default
								perspective.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Data Container</em></span>
							</p>
						</td><td valign="top">
							<p>Type in the name of the data container that holds the record you
								want <span class="emphasis"><strong>Event Manager</strong></span> to read.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Entity Name</em></span>
							</p>
						</td><td valign="top">
							<p>Type in the name of the business entity that holds the record you
								want <span class="emphasis"><strong>Event Manager</strong></span> to read. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>IDS</em></span>
							</p>
						</td><td valign="top">
							<p>Specify the primary key(s) of the record(s) you want <span class="emphasis"><strong>Event Manager</strong></span> to read.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to gather the processing metadata at the Job
								level as well as at each component level.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Global Variables</strong></span>
							</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Number of Lines</strong></span>: Indicates the
								number of lines processed. This is available as an <span class="emphasis"><strong>After</strong></span> variable.</p>
							<p> Returns an integer. </p>
							<p> </p>
							<p> For further information about variables, see <span class="emphasis"><em>Talend Open Studio</em></span>
								<span class="emphasis"><strong>User Guide</strong></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Connections</strong></span>
							</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>Outgoing links (from one component to another):</p>
							<p>
								<span class="emphasis"><strong>Row</strong></span>: Iterate</p>
							<p>
								<span class="emphasis"><strong>Trigger</strong></span>: Run if; On Component Ok;
								On Component Error, On Subjob Ok, On Subjob Error.</p>
							<p> </p>
							<p> Incoming links (from one component to another):</p>
							<p>
								<span class="emphasis"><strong>Row</strong></span>: Iterate;</p>
							<p>
								<span class="emphasis"><strong>Trigger</strong></span>: Run if, On Component Ok,
								On Component Error, On Subjob Ok, On Subjob Error </p>
							<p> </p>
							<p> For further information regarding connections, see <span class="emphasis"><em>Talend Open Studio</em></span>
								<span class="emphasis"><strong>User Guide</strong></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Use this component as a start component. It needs an output
								flow.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Scenario: Routing a record to Event Manager"><div class="titlepage"><div><div><h3 class="title"><a name="d0e274300"></a>Scenario: Routing a record to Event Manager</h3></div></div></div><p>In this scenario, the <span class="emphasis"><strong>tMDMRouteRecord</strong></span> component is
			used to submit the primary key of a record noting an update to <span class="emphasis"><strong>Event Manager</strong></span> in order for this element to trigger a process that
			informs the user of this update. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
				<span class="emphasis"><em><span class="emphasis"><strong>Talend MDM</strong></span> is case-sensitive, so
					respect the differences of uppercase and lowercase when realizing the
					scenario.</em></span>
			</p></div><div class="section" title="Scenario prerequisites"><div class="titlepage"><div><div><h4 class="title"><a name="d0e274319"></a>Scenario prerequisites</h4></div></div></div><p>The following prerequisites must be met in order to replicate this
				scenario:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A data container stores several records using a specific model. In this
						scenario, the container is named <span class="emphasis"><em>Product</em></span>, and a record
						in the container is entered against the model named
							<span class="emphasis"><em>Product</em></span>:</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord1.png"></div><p>This figure shows one of the stored product records with all of its viewable
				attributes.</p><p>For further information about how to create a data container, a data model, see
				your <span class="emphasis"><em>Talend Open Studio for MDM</em></span> Administrator
				Guide.</p><p>For further information about how to create a record and access its viewable
				attributes, see <span class="emphasis"><em>Talend MDM Web User Interface</em></span> User Guide.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A Job used to inform the user of the update and already deployed on the
						MDM server. In this scenario, the Job is called
						<span class="emphasis"><em>message</em></span>, using only the <span class="emphasis"><strong>tMsgBox</strong></span> component. </p></li><li class="listitem"><p>Double-click the component to display and configure its <span class="emphasis"><strong>Basic settings</strong></span>&nbsp;:</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="emphasis"><strong>Title</strong></span> field, type in
								&#8220;<span class="emphasis"><em>Talend MDM</em></span>&#8221;.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Message</strong></span> field to be popped up,
						type in &#8220;<span class="emphasis"><em>A record is updated</em></span>&#8221;.</p></li></ul></div><p>For further information about the <span class="emphasis"><strong>tMsgBox
				</strong></span>component, see <a class="xref" href="tMsgBox.html" title="tMsgBox">the section called &#8220;tMsgBox&#8221;</a>.</p><p>For further information about how to deploy a Job onto the <span class="emphasis"><strong>MDM server</strong></span>, see <span class="emphasis"><em>Talend Open Studio for MDM</em></span> Administrator Guide.</p></div><div class="section" title="Routing a record to trigger the corresponding process"><div class="titlepage"><div><div><h4 class="title"><a name="d0e274402"></a>Routing a record to trigger the corresponding process</h4></div></div></div><p>This section shows you how to replicate the whole scenario using <span class="emphasis"><strong>tMDMRouteRecord</strong></span> to trigger a process.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Log onto your <span class="emphasis"><strong>Talend</strong></span>
						<span class="emphasis"><strong>MDM Web UI</strong></span> and click <span class="emphasis"><strong>Browse Records</strong></span>. </p><p> For further details about how to log onto the <span class="emphasis"><strong>Talend</strong></span>
						<span class="emphasis"><strong>MDM Web UI</strong></span> and open the <span class="emphasis"><strong>Browse Records</strong></span> view, see <span class="emphasis"><em>Talend MDM Web User Interface</em></span> User
						Guide.</p></li><li class="listitem"><p>In the upper right corner of the web page, click on the <span class="inlinemediaobject"><img src="../images/show_button.png"></span> button to show the <span class="emphasis"><strong>Actions</strong></span> panel.</p></li><li class="listitem"><p>On the <span class="emphasis"><strong>Actions</strong></span> panel on the right, select
						the required data container and data model in which is the record to be
						updated. In this scenario, the data container and the data model are both
							<span class="emphasis"><em>Product</em></span>.</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>Save</strong></span> to save the selected data
						container and data model.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Browse Records</strong></span> view, select the
						entity of your interest. In this example, it is
						<span class="emphasis"><em>Product</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="emphasis"><strong>Search</strong></span> to open the record list on
						the lower part of the Web page.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Double-click one of the product records to display its viewable attributes
						in a new view dedicated to this product. For example, open the product
								<span class="emphasis"><em>Talend Mug</em></span> with unique Id
							<span class="emphasis"><em>231035938</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In this view, modify one of the attribute values. You can, for example,
						update this product and make it available by selecting the <span class="emphasis"><strong>Availability</strong></span> check box.</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>Save</strong></span> to validate this
						update.</p></li><li class="listitem"><p>Open your <span class="emphasis"><strong>Talend</strong></span>
						<span class="emphasis"><strong>MDM studio</strong></span> and access the MDM Hub. For
						further information about how to launch the <span class="emphasis"><strong>Talend</strong></span>
						<span class="emphasis"><strong>MDM studio</strong></span> and connect it to the MDM hub,
						see <span class="emphasis"><em>Talend Open Studio for MDM</em></span> Administrator Guide.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Under the<span class="emphasis"><strong> Job Repository </strong></span>node of the
							<span class="emphasis"><strong>MDM Server</strong></span> tree view, right click the
							<span class="emphasis"><em>message</em></span> Job.</p></li><li class="listitem"><p>In the contextual menu, select <span class="emphasis"><strong>Generate Talend Job Caller
							Process</strong></span>.The process used to call this Job is generated and
						displays in the directory <span class="emphasis"><strong>Event Management</strong></span>
						&gt; <span class="emphasis"><strong>Process</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Under the <span class="emphasis"><strong>Event Management</strong></span> node, right
						click <span class="emphasis"><strong>Trigger</strong></span>.</p></li><li class="listitem"><p>In the contextual menu, select <span class="emphasis"><strong>New</strong></span>.</p></li><li class="listitem"><p>In the pop-up <span class="emphasis"><strong>New Trigger</strong></span> wizard, name
						the trigger as, for example, <span class="emphasis"><em>TriggerMessage</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord7.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="emphasis"><strong>OK</strong></span> to open the new trigger&#8217;s view
						in the workspace of your studio.</p></li><li class="listitem"><p>In the trigger&#8217;s view, configure the trigger to make it launch the process
						that calls the <span class="emphasis"><em>message</em></span> Job once an update is
						done.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_case_tMDMRouteRecord8.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="emphasis"><strong>Description</strong></span> field, enter, for
						example, <span class="emphasis"><em>Trigger that calls the Talend Job: message_0.1.war</em></span>
						to describe the trigger being created.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Entity</strong></span> field, select or type in
						the business entity you want to trigger the process on. In this example, it
						is exactly <span class="emphasis"><em>Update</em></span>.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Service JNDI Name</strong></span> field, select
							<span class="emphasis"><strong>callprocess</strong></span> from the drop-down
						list.</p></li><li class="listitem"><p>In the Service Parameters field, complete the parameter definition by
						giving the value: <span class="emphasis"><em>CallJob_message_0.1.war</em></span>. This value
						is the name of the process to be called that you can find in the directory
							<span class="emphasis"><strong>Event Management &gt; Process</strong></span> in the
							<span class="emphasis"><strong>MDM server</strong></span> tree view.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Trigger xPath Expressions</strong></span> area,
						click the <span class="inlinemediaobject"><img src="../images/MDMTrigger_AddButton.png"></span> button under the table to add a new XPath line.</p></li><li class="listitem"><p>In the newly added line, click the three-dot button to open a dialog box
						where you can select the entity or element on which you want to define
						conditions. In this example, it is
						<span class="emphasis"><em>Update/OperationType</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMDMRouteRecord9.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="emphasis"><strong>Value</strong></span> column, enter a value for
						this line. In this example, it is exactly
						<span class="emphasis"><em>UPDATE</em></span>.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Condition Id</strong></span> column, enter a
						unique identifier for the condition you want to set, for example,
							<span class="emphasis"><em>C1</em></span>.</p></li><li class="listitem"><p> In the <span class="emphasis"><strong>Conditions</strong></span> area, enter the query
						you want to undertake on the data record using the condition ID
							<span class="emphasis"><em>C1</em></span> you set earlier.</p></li><li class="listitem"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save the trigger.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>MDM server</strong></span> tree view, double
							click<span class="emphasis"><strong> Data container</strong></span> &gt; <span class="emphasis"><strong>system</strong></span> &gt; <span class="emphasis"><strong>UpdateReport</strong></span> to open the <span class="emphasis"><strong>Data
							Container Browser UpdateReport</strong></span> view. An Update Report is a
						complete track of all create, update or delete actions on any master
						data</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMDMRouteRecord10.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Next to the <span class="emphasis"><strong>Entity</strong></span> field of this view,
						click the <span class="inlinemediaobject"><img src="../images/SearchButton.png"></span> button to search all the action records in the
							<span class="emphasis"><strong>UpdateReport</strong></span>. Note that the <span class="emphasis"><strong>Update</strong></span> entity does not necessarily mean that the
						corresponding action recorded is the update, as it is just the entity name
						defined by the data model of <span class="emphasis"><strong>UpdateReport</strong></span>
						and may record different actions including create, delete, update.</p></li><li class="listitem"><p>The last record corresponds to what is done on the product record at the
						beginning of the scenario. The primary key of this record is
							<span class="emphasis"><em>genericUI.1283244014172</em></span> and this is the record that
						will be routed to <span class="emphasis"><strong>Event trigger</strong></span>.</p></li><li class="listitem"><p>On the menu bar of the studio, click <span class="emphasis"><strong>Window</strong></span> &gt; <span class="emphasis"><strong>Perspective</strong></span>
						&gt; <span class="emphasis"><strong>Integration</strong></span> to design the Job routing
						a record.</p></li><li class="listitem"><p>On the <span class="emphasis"><strong>Integration</strong></span> perspective, create a
						Job and name it <span class="emphasis"><em>RouteRecord</em></span>.</p></li><li class="listitem"><p>To do so, right-click<span class="emphasis"><strong> Job Designs</strong></span>, in the
							<span class="emphasis"><strong>Repository</strong></span> tree view. In the contextual
						menu, select <span class="emphasis"><strong>Create Job</strong></span>.</p></li><li class="listitem"><p>A wizard opens. In the <span class="emphasis"><strong>Name</strong></span> field, type
						in <span class="emphasis"><em>RouteRecord</em></span>, and click <span class="emphasis"><strong>Finish</strong></span>.</p></li><li class="listitem"><p>Drop the<span class="emphasis"><strong> tMDMRouteRecord</strong></span> component from
						the <span class="emphasis"><strong>Palette</strong></span> onto the design
						workspace.</p></li><li class="listitem"><p>Double click this component to open its <span class="emphasis"><strong>Component</strong></span> view.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMDMRouteRecord11.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="emphasis"><strong>URL</strong></span> field, enter the address of
						your <span class="emphasis"><strong>MDM server</strong></span>. This example uses
								<span class="emphasis"><em>http://localhost:8080/talend/TalendPort</em></span>.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Username</strong></span> and the <span class="emphasis"><strong>Password</strong></span> fields, type in the connection
						parameters.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Data Container</strong></span> field, enter the
						data container name that stores the record you want to route. It is
							<span class="emphasis"><em>UpdateReport</em></span> in this example.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Entity Name</strong></span> field, enter the
						entity name that the record you want to route belongs to. In this example,
						the entity name is <span class="emphasis"><em>Update</em></span>.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>IDS</strong></span> area, click the plus button
						under the table to add a new line.</p></li><li class="listitem"><p>In the newly added line, fill in the primary key of the record to be
						routed to <span class="emphasis"><strong>Event Manager</strong></span>, that is,
							<span class="emphasis"><em>genericUI.1283244014172</em></span>, as was read earlier from
						the <span class="emphasis"><strong>Data Container Browser
						UpdateReport</strong></span>.</p></li><li class="listitem"><p>Press <span class="emphasis"><strong>F6</strong></span> to run this Job. <span class="emphasis"><strong>Event Manager</strong></span> calls the process to execute the
							<span class="emphasis"><em>message</em></span> Job and generate the dialog box informing
						the user that this recorded has been updated.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMDMRouteRecord12.png"></div><p>This component submits the primary key of the record noting the update to
					<span class="emphasis"><strong>Event Manager</strong></span>. When <span class="emphasis"><strong>Event
					Manager</strong></span> checks this record and finds that this record meets the
				conditions you have defined on the trigger <span class="emphasis"><em>TriggerMessage</em></span>&#8217;s
				configuration view, it calls the process that launches the
					<span class="emphasis"><em>message</em></span> Job to pop up the dialog box informing the user of
				this update.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tMDMReceive.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-mdm.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tMDMSP.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tMDMReceive&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tMDMSP</td></tr></table></div></body></html>