<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMatchGroup</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tdi-components-rg-en..html" title="Talend Components"><link rel="up" href="ch-dataquality.html" title="Chapter&nbsp;6.&nbsp;Data Quality components"><link rel="prev" href="tLaunchDQReports.html" title="tLaunchDQReports"><link rel="next" href="tMatchGroupHadoop.html" title="tMatchGroupHadoop"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tMatchGroup</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tLaunchDQReports.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;6.&nbsp;Data Quality components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tMatchGroupHadoop.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tMatchGroup"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMatchGroup"></a>tMatchGroup</h2></div></div></div><div class="mediaobject"><img src="../images/tGroup_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>This component will be available in the <span class="emphasis"><strong>Palette</strong></span> of
			the studio on the condition that you have subscribed to any <span class="emphasis"><em>Talend Platform</em></span> product.</p></div><div class="section" title="tMatchGroup properties"><div class="titlepage"><div><div><h3 class="title"><a name="Raa75287"></a>tMatchGroup properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Data Quality</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tMatchGroup </strong></span>compares columns in
								the input flow by using a defined matching method and groups similar
								encountered duplicates together.</p>
							<p>In defining a group, the first processed record of each group is
								the master record of the group; the other records are computed as to
								their distances from the master records and then are distributed to
								the due master record accordingly.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component helps ensuring the data quality of any source
								data.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
								schema</em></span></p>
						</td><td valign="top">
							<p>A schema is a row description, i.e., it defines the number of
								fields that will be processed and passed on to the next component.
								The schema is either built-in or remote in the Repository.</p>
							<p>Click <span class="emphasis"><strong>Sync columns</strong></span> to retrieve
								the schema from the previous component in the Job.</p>
							<p>The output schema of this component contains the following
								read-only fields:</p>
							<p><span class="emphasis"><em>GID</em></span>: represents the group identifier.</p>
							<p><span class="emphasis"><em>GRP_SIZE</em></span>: counts the number of records in the
								group, computed only on the master record.</p>
							<p><span class="emphasis"><em>MASTER</em></span>: identifies the record used in the
								matching comparisons as a master record. There is only one master
								record per group.</p>
							<p>Each input record will be compared to the master record, if they
								match, it will be in the group.</p>
							<p><span class="emphasis"><em>SCORE</em></span>: measures the distance between the
								input record and the master record according to the matching
								algorithm used.</p>
							<p>In case the <span class="emphasis"><strong>tMatchGroup</strong></span> component is used to have
								multiple output flows, the score in this column decides to what
								output group the record should go.</p>
							<p><span class="emphasis"><em>GRP_QUALITY</em></span>: only the master record has a
								quality score which is the minimal value in the group.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: You create and store
								the schema locally for this component only. Related topic: see
									<span class="emphasis"><em>Talend Data Integration Studio User
									Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: You have already
								created and stored the schema in the Repository. You can reuse it in
								other projects and job designs. Related topic: see <span class="emphasis"><em>Talend Data Integration Studio User Guide</em></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><em>Key Definition</em></span>
								</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>A configuration wizard is available to help you complete
										this table. For further information, see <a class="xref" href="tMatchGroup.html#ychen-20111011-dataquality-configuration_wizard" title="Configuration wizard">the section called &#8220;Configuration wizard&#8221;</a></p></div><p>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Input Key Attribute</em></span>
							</p>
						</td><td valign="top">
							<p>Select the column(s) from the input flow on which you want to
								apply a matching algorithm.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When you select a date column on which to apply an algorithm or a matching algorithm,
			you can decide what to compare in the date format.</p><p>For example, if you want to only compare the year in the date, in the component schema
			set the type of the date column to <span class="emphasis"><strong>Date</strong></span> and then enter
				"<span class="emphasis"><em>yyyy</em></span>" in the <span class="emphasis"><strong>Date
				Pattern</strong></span> field. The component then converts the date format to a string
			according to the pattern defined in the schema before starting a string
			comparison.</p></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Matching Type</em></span>
							</p>
						</td><td valign="top">
							<p>Select the relevant matching algorithm from the list:</p>
							<p><span class="emphasis"><strong>Exact Match</strong></span>: matches each
								processed entry to all possible reference entries with exactly the
								same value. It returns <span class="emphasis"><em>1</em></span> when the two strings
								exactly match, and <span class="emphasis"><em>0</em></span> otherwise.</p>
							<p><span class="emphasis"><strong>Exact - ignore case</strong></span>: matches each
								processed entry to all possible reference entries with exactly the
								same value while ignoring the value case.</p>
							<p><span class="emphasis"><strong>Soundex</strong></span>: matches processed
								entries according to a standard English phonetic algorithm. It
								indexes strings by sound, as pronounced in English, for example
								"Hello": "H400".</p>
							<p><span class="emphasis"><strong>Levenshtein</strong></span> (edit distance):
								calculates the minimum number of edits (insertion, deletion or
								substitution) required to transform one string into another. Using
								this algorithm in the <span class="emphasis"><strong>tMatchGroup </strong></span>
								component, you do not need to specify a maximum distance. The
								component automatically calculates a matching percentage based on
								the distance. This matching score will be used for the global
								matching calculation, based on the weight you assign in the<span class="emphasis"><strong> Confidence Weight</strong></span> field.</p>
							<p><span class="emphasis"><strong>Metaphone</strong></span>: Based on a phonetic
								algorithm for indexing entries by their pronunciation. It first
								loads the phonetics of all entries of the lookup reference and
								checks all entries of the main flow against the entries of the
								reference flow.</p>
							<p><span class="emphasis"><strong>Double Metaphone</strong></span>: a new version
								of the Metaphone phonetic algorithm, that produces more accurate
								results than the original algorithm. It can return both a primary
								and a secondary code for a string. This accounts for some ambiguous
								cases as well as for multiple variants of surnames with common
								ancestry.</p>
							<p><span class="emphasis"><strong>Soundex FR</strong></span>: matches processed
								entries according to a standard French phonetic algorithm.</p>
							<p><span class="emphasis"><strong>Jaro</strong></span>: matches processed entries
								according to spelling deviations. It counts the number of matched
								characters between two strings. The higher the distance is, the more
								similar the strings are.</p>
							<p><span class="emphasis"><strong>Jaro-Winkler</strong></span>: a variant of Jaro,
								but it gives more importance to the beginning of the string.</p>
							<p><span class="emphasis"><strong>q-grams</strong></span>: matches processed
								entries by dividing strings into letter blocks of length
									<code class="code">q</code> in order to create a number of <code class="code">q
								</code>length grams. The matching result is given as the number of
								q-gram matches over possible q-grams.</p>
							<p><span class="emphasis"><strong>custom...</strong></span>: enables you to load an
								external matching algorithm from a Java library. The <span class="emphasis"><strong>custom matcher class</strong></span> column alongside is
								activated when you selected this option.</p>
							<p>For further information about how to load an external Java
								library, see <a class="xref" href="tLibraryLoad.html" title="tLibraryLoad">the section called &#8220;tLibraryLoad&#8221;</a>.</p>
							<p>For further information about how to create a custom matching
								algorithm, see <a class="xref" href="tRecordMatching.html#Raa71983" title="Creating a custom matching algorithm">the section called &#8220;Creating a custom matching algorithm&#8221;</a>.</p>
							<p>For the related scenario about how to use a custom matching
								algorithm, see <a class="xref" href="tRecordMatching.html#Raa86106" title="Scenario 2: Using a custom matching algorithm to match entries">the section called &#8220;Scenario 2: Using a custom matching algorithm to match entries&#8221;</a>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Confidence Weight</em></span>
							</p>
						</td><td valign="top">
							<p>Set a numerical weight for each attribute (column) of the key
								definition. The values can be anything &gt;= 0.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><em>Blocking Definition</em></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Input Column</em></span>
							</p>
						</td><td valign="top">
							<p>If required, select the column(s) from the input flow according to
								which you want to partition the processed data in blocks, this is
								usually referred to as &#8220;blocking&#8221;. </p>
							<p>Blocking reduces the number of pairs of records that needs to be
								examined. In blocking, input data is partitioned into exhaustive
								blocks designed to increase the proportion of matches observed while
								decreasing the number of pairs to compare. Comparisons are
								restricted to record pairs within each block.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Using blocking column(s) is very useful when you are
									processing very big data.</p></div>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Store on disk</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box if you want to store processed data blocks
								on the disk to maximize system performance.</p>
							<p><span class="emphasis"><strong>Max buffer size</strong></span>: Type in the size
								of physical memory you want to allocate to processed data.</p>
							<p><span class="emphasis"><strong>Temporary data directory path</strong></span>:
								Set the location where the temporary file should be stored.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Multiple output</em></span>
							</p>
						</td><td valign="top">
							<p>Select the <span class="emphasis"><strong>Separate output</strong></span> check
								box to have three different output flows: </p>
							<p>-<span class="emphasis"><strong>Uniques</strong></span>: when the group score
								(minimal distance computed in the record) is equal to
									<span class="emphasis"><em>1</em></span>, the record is listed in this flow. </p>
							<p>-<span class="emphasis"><strong>Matches</strong></span>: when the group score
								(minimal distance computed in the record) is higher than the
								threshold you define in the <span class="emphasis"><strong>Confidence
									threshold</strong></span> field, the record is listed in this
								flow.</p>
							<p>-<span class="emphasis"><strong>Suspects</strong></span>: when the group score
								(minimal distance computed in the record) is below the threshold you
								define in the <span class="emphasis"><strong>Confidence threshold</strong></span>
								field, the record is listed in this flow.</p>
							<p><span class="emphasis"><strong>Confidence threshold</strong></span>: set a
								numerical value between the current <span class="emphasis"><strong>Match
									Interval</strong></span> and <span class="emphasis"><em>1</em></span>. Above this
								threshold, you can be confident in the quality of the group.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Matching Algorithm</em></span>
							</p>
						</td><td valign="top">
							<p>Select an algorithm from the list - only one is available for the
								time being. </p>
							<p><span class="emphasis"><strong>Simple VSR Matcher</strong></span>: This
								algorithm is based on a Vector Space Retrieval method that specifies
								how two records may match.</p>
							<p><span class="emphasis"><strong>Match Interval</strong></span>: Enter the match
								probability. Two data records match when the probability is above
								the set value.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Sort the output data by GID</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to group the output data by the group
								ID.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Output distance details</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to add a fixed output column
									<span class="emphasis"><em>MATCHING_DISTANCES</em></span> which gives the details
								of the distance between each column.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to collect log data at the component
								level.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component is an intermediary step. It requires an input flow
								as well as an output flow.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Limitation/prerequisite</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>n/a</p>
						</td></tr></tbody></table></div></div><div class="section" title="Configuration wizard"><div class="titlepage"><div><div><h3 class="title"><a name="ychen-20111011-dataquality-configuration_wizard"></a>Configuration wizard</h3></div></div></div><p>The configuration wizard is used to help you create the matching rule that best
			fulfills your needs. Once you have configured the input data and linked the data to the
				<span class="emphasis"><strong>tMatchGroup</strong></span> component, you can right-click it on
			the workspace and from the contextual menu, select <span class="emphasis"><strong>Configuration
				Wizard</strong></span> to open it.</p><p>The following figure presents an example of accessing this wizard.</p><div class="mediaobject"><img src="../images/tmatchgroup-wizard_config.png"></div><p>In this example, the input component and the <span class="emphasis"><strong>tMatchGroup</strong></span> component are already configured and linked together, so
			when you open the configuration wizard, this wizard retrieves the <span class="emphasis"><strong>Key definition</strong></span> table as well as its contents inside from the <span class="emphasis"><strong>Component</strong></span> view of <span class="emphasis"><strong>tMatchGroup</strong></span>, executes it and displays the matching results.</p><p>If there are no contents in the <span class="emphasis"><strong>Key definition</strong></span> table,
			this wizard retrieves only the table.</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>This <span class="emphasis"><strong>Configuration wizard</strong></span> cannot be enabled until
				you have linked the input data to the <span class="emphasis"><strong>tMatchGroup</strong></span>
				component.</p></div><div class="mediaobject"><img src="../images/match_studio.png"></div><p>This <span class="emphasis"><strong>Configuration wizard</strong></span> is composed of three areas: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>the <span class="emphasis"><strong>Component</strong></span> view, which reproduces the
						key fields of the <span class="emphasis"><strong>Basic settings</strong></span> and the
							<span class="emphasis"><strong>Advanced settings</strong></span> views of <span class="emphasis"><strong>tMatchGroup</strong></span>,</p></li><li class="listitem"><p>the matching chart, which presents the graphic matching result,</p></li><li class="listitem"><p>the matching table, which presents the details of the matching
						result.</p></li></ul></div><p>From the <span class="emphasis"><strong>Component</strong></span> view, you can edit an existing
			matching rule or create a matching rule from scratch. The parameters required to edit or
			create a matching rule are: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The <span class="emphasis"><strong>Schema</strong></span> and the <span class="emphasis"><strong>Key definition</strong></span> parameters are the same as those you can
						specify in the <span class="emphasis"><strong>Basic settings</strong></span> view of the
						component.</p></li><li class="listitem"><p>The<span class="emphasis"><strong> Limit</strong></span> field indicates the maximum
						number of rows to be processed by the matching rule(s) in this
						wizard.</p></li><li class="listitem"><p>The <span class="emphasis"><strong>Match threshold</strong></span> field corresponds to
						the <span class="emphasis"><strong>Match interval</strong></span> field of the <span class="emphasis"><strong>Advanced settings</strong></span> view.</p></li></ul></div><p>When you need to create alternative rules in the same configuration wizard, you have
			to open other <span class="emphasis"><strong>Component</strong></span> views in addition to the
			default one. In this situation, simply click the plus button as many times as needed on
			the up-right corner of this <span class="emphasis"><strong>Component</strong></span> view and enter
			the required parameters in each view.</p><p>Once a given matching rule is defined, click the <span class="emphasis"><strong>Refresh</strong></span> button to execute it. Then the matching result is displayed in
			the matching chart and the matching table.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>To implement one of the alternative rules into the <span class="emphasis"><strong>tMatchGroup</strong></span> component, click the <span class="emphasis"><strong>Component</strong></span> view containing this rule to display it and click
					<span class="emphasis"><strong>OK</strong></span> to validate this rule and close this
				wizard.</p></div><p>From the matching chart, you can have a global picture about the existing duplicates
			of the analyzed data. </p><div class="mediaobject"><img src="../images/tmatchgroup-wizard_chart.png"></div><p>For example, in this figure, the matching chart indicates that: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>100 items in total are analyzed and arranged into 84 groups according to
						the given rule.</p></li><li class="listitem"><p>When a group has no items, this chart does not display it.</p></li><li class="listitem"><p>75 groups have 1 item in each. These items are unique.</p></li><li class="listitem"><p>8 groups have 2 items in each. In each group, the 2 items are duplicates
						of each other according to the given rule.</p></li><li class="listitem"><p>1 group has 9 items. They are duplicates of one another according to the
						given rule.</p></li></ul></div><p>From the matching table, you can read details about the different duplicates.</p><div class="mediaobject"><img src="../images/tmatchgroup-wizard_table.png"></div><p>For example, the table in this figure indicates the details of each item and colors
			each of them corresponding to the groups presented in the matching chart.</p><p>You can click the <span class="emphasis"><strong>first</strong></span>, the <span class="emphasis"><strong>previous</strong></span>, the <span class="emphasis"><strong>next</strong></span> or the <span class="emphasis"><strong>last</strong></span> buttons under the table to run through all of the pages
			of the matching details.</p><p>At the end of the configuration, to implement the rule that satisfies you, click the
				<span class="emphasis"><strong>Component</strong></span> view of this rule to display it and then
			click <span class="emphasis"><strong>OK</strong></span>. The contents of the active view is loaded
			into the corresponding fields of the <span class="emphasis"><strong>Component</strong></span> view of
				<span class="emphasis"><strong>tMatchGroup</strong></span> on the Design workspace.</p></div><div class="section" title="Scenario: Grouping output data in separate flows according to the minimal distance computed in each record"><div class="titlepage"><div><div><h3 class="title"><a name="d0e96530"></a>Scenario: Grouping output data in separate flows according to the minimal distance
			computed in each record</h3></div></div></div><p>This scenario describes a basic Job that compares columns in the input file using the
				<span class="emphasis"><strong>Jaro-Winkler</strong></span> matching method on the
				<span class="emphasis"><em>lname</em></span> and <span class="emphasis"><em>fname</em></span> column and the <span class="emphasis"><strong>q-grams</strong></span> matching method on the <span class="emphasis"><em>address1</em></span>
			column. It then groups the output records in three output flows:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>-<span class="emphasis"><strong>Uniques</strong></span>: lists the records which group
						score (minimal distance computed in the record) is equal to
							<span class="emphasis"><em>1</em></span>. </p></li><li class="listitem"><p>-<span class="emphasis"><strong>Matches</strong></span>: lists the records which group
						score (minimal distance computed in the record) is higher than the threshold
						you define in the <span class="emphasis"><strong>Confidence threshold</strong></span>
						field.</p></li><li class="listitem"><p>-<span class="emphasis"><strong>Suspects</strong></span>: lists the records which group
						score (minimal distance computed in the record) is below the threshold you
						define in the <span class="emphasis"><strong>Confidence threshold</strong></span>
						field.</p></li></ul></div><p>
		</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup.png"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>For another scenario that groups the output records in one single output flow, see
					<a class="xref" href="tGenKey.html#Raa99658" title="Scenario&nbsp;2: Comparing columns and grouping in the output flow duplicate records that have the same functional key">the section called &#8220;Scenario&nbsp;2: Comparing columns and grouping in the output flow duplicate
                        records that have the same functional key&#8221;</a>.</p></div><div class="section" title="Setting up the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e96587"></a>Setting up the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace: <span class="emphasis"><strong>tFileInputExcel</strong></span>, <span class="emphasis"><strong>tMatchGroup</strong></span> and three <span class="emphasis"><strong>tLogRow</strong></span>s.</p></li><li class="step" title="Step 2"><p>Connect <span class="emphasis"><strong>tFileInputExcel</strong></span> to <span class="emphasis"><strong>tMatchGroup</strong></span> using the <span class="emphasis"><strong>Main
						</strong></span>link.</p></li><li class="step" title="Step 3"><p>Connect <span class="emphasis"><strong>tMatchGroup</strong></span> to the three
							<span class="emphasis"><strong>tLogRow</strong></span> components using the <span class="emphasis"><strong>Unique rows</strong></span>, <span class="emphasis"><strong>Confident
							groups</strong></span> and <span class="emphasis"><strong>Uncertain groups</strong></span>
						links.</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>To be able to set three different output flows for the processed
							records, you must first select the <span class="emphasis"><strong>Separate
								output</strong></span> check box in the <span class="emphasis"><strong>Advanced
								settings</strong></span> view of the <span class="emphasis"><strong>tMatchGroup</strong></span> component. For further information, see the
							section about configuring the <span class="emphasis"><strong>tMatchGroup</strong></span> component.</p></div></li></ol></div></div><div class="section" title="Configuring the input component"><div class="titlepage"><div><div><h4 class="title"><a name="d0e96651"></a>Configuring the input component</h4></div></div></div><div class="procedure"><p>The main input file contains eight columns: <span class="emphasis"><em>account_num</em></span>,
						<span class="emphasis"><em>lname</em></span>, <span class="emphasis"><em>fname</em></span>,
						<span class="emphasis"><em>mi</em></span>, <span class="emphasis"><em>address1</em></span>,
						<span class="emphasis"><em>city</em></span>, <span class="emphasis"><em>state_province</em></span> and
						<span class="emphasis"><em>postal_code</em></span>. The data in this input file has problems
					such as duplication, names spelled differently or wrongly, different information
					for the same customer.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup_input.png"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You can create the input file used in this scenario if you execute the
								<span class="emphasis"><em>c0</em></span> and <span class="emphasis"><em>c1</em></span> Jobs included in
							the data quality demo project, TDQEEDEMOJAVA, you can import from the
							login window of your <span class="emphasis"><em>Talend Data Quality</em></span> Studio. For further information, see the
								<span class="emphasis"><em>Talend Data Quality User
								Guide</em></span>.</p></div><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="emphasis"><strong>Basic settings</strong></span> view of <span class="emphasis"><strong>tFileInputExcel</strong></span>, fill in the <span class="emphasis"><strong>File Name </strong></span> field by browsing to the input file
						and set other properties in case they are not stored in the <span class="emphasis"><strong>Repository</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup2.png"></div></li><li class="step" title="Step 2"><p>Create the schema through the <span class="emphasis"><strong>Edit Schema</strong></span>
						button, if the schema is not already stored in the <span class="emphasis"><strong>Repository</strong></span>. Remember to set the data type in the <span class="emphasis"><strong>Type</strong></span> column.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup1.png"></div></li></ol></div></div><div class="section" title="Configuring the tMatchGroup component"><div class="titlepage"><div><div><h4 class="title"><a name="d0e96732"></a>Configuring the tMatchGroup component</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tMatchGroup</strong></span> to display the
							<span class="emphasis"><strong>Basic settings</strong></span> view and define the
						component properties.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup3.png"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Sync columns</strong></span> to retrieve the schema
						from the preceding component.</p></li><li class="step" title="Step 3"><p>Click the <span class="emphasis"><strong>Edit schema</strong></span> button to view the
						input and output schema and do any modifications in the output schema, if
						necessary.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup4.png"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>In the output schema of this component there are five output standard
							columns that are read-only. For more information, see <a class="xref" href="tMatchGroup.html#Raa75287" title="tMatchGroup properties">the section called &#8220;tMatchGroup properties&#8221;</a>.</p></div></li><li class="step" title="Step 4"><p>Click <span class="emphasis"><strong>OK</strong></span> to close the dialog box.</p></li><li class="step" title="Step 5"><p>In the <span class="emphasis"><strong>Key definition</strong></span> table, click the
						plus button to add to the list the column(s) on which you want to do the
						matching operation, <span class="emphasis"><em>lname</em></span>, <span class="emphasis"><em>fname</em></span>
						and <span class="emphasis"><em>address1</em></span> in this scenario.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When you select a date column on which to apply an algorithm or a matching algorithm,
			you can decide what to compare in the date format.</p><p>For example, if you want to only compare the year in the date, in the component schema
			set the type of the date column to <span class="emphasis"><strong>Date</strong></span> and then enter
				"<span class="emphasis"><em>yyyy</em></span>" in the <span class="emphasis"><strong>Date
				Pattern</strong></span> field. The component then converts the date format to a string
			according to the pattern defined in the schema before starting a string
			comparison.</p></div></li><li class="step" title="Step 6"><p>Click in the cell of the <span class="emphasis"><strong>Matching type</strong></span>
						column and select from the list the method(s) to be used for the matching
						operation, <span class="emphasis"><strong>Jaro-Winkler</strong></span> and <span class="emphasis"><strong>q-grams</strong></span> in this example.</p></li><li class="step" title="Step 7"><p>Click in the cell of the <span class="emphasis"><strong>Confidence
							Weight</strong></span> to set the advanced parameters for column and set the
						numerical weights for the three columns used as key attributes.</p></li><li class="step" title="Step 8"><p>Click the <span class="emphasis"><strong>Advanced settings</strong></span> tab to set
						the advanced parameters for the <span class="emphasis"><strong>tMatchGroup</strong></span>
						component.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup5.png"></div></li><li class="step" title="Step 9"><p>Select the <span class="emphasis"><strong>Separate output</strong></span> check box. </p><p>The component will have three separate output flows: <span class="emphasis"><strong>Unique rows</strong></span>, <span class="emphasis"><strong>Confident
							groups</strong></span> and <span class="emphasis"><strong>Uncertain
						groups</strong></span>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If this check box is not selected, the <span class="emphasis"><strong>tMatchGroup</strong></span> component will have only one output flow
							where it groups all output data. For an example scenario, see <a class="xref" href="tGenKey.html#Raa99658" title="Scenario&nbsp;2: Comparing columns and grouping in the output flow duplicate records that have the same functional key">the section called &#8220;Scenario&nbsp;2: Comparing columns and grouping in the output flow duplicate
                        records that have the same functional key&#8221;</a>.</p></div></li></ol></div></div><div class="section" title="Finalizing the Job and executing it"><div class="titlepage"><div><div><h4 class="title"><a name="d0e96858"></a>Finalizing the Job and executing it</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click each of the <span class="emphasis"><strong>tLogRow
						</strong></span>components to display the <span class="emphasis"><strong>Basic
							settings</strong></span> view and define the component properties.</p></li><li class="step" title="Step 2"><p>Save your Job and press <span class="emphasis"><strong>F6</strong></span> to execute
						it.</p><p>You can see that records are grouped together in three different groups.
						Each record is listed in one of the three groups according to the value of
						the group score which is the minimal distance computed in the group. </p><p>The identifier for each group is listed in the <span class="emphasis"><em>GID</em></span>
						column next to the corresponding record. The number of records in each of
						the three output blocks is listed in the <span class="emphasis"><em>GRP_SIZE</em></span>
						column and computed only on the master record. The
							<span class="emphasis"><em>MASTER</em></span> column indicates with true or false if the
						corresponding record is a master record or not a master record. The
							<span class="emphasis"><em>SCORE</em></span> column lists the calculated distance between
						the input record and the master record according to the <span class="emphasis"><strong>Jaro-Winkler</strong></span> and <span class="emphasis"><strong>q-grams</strong></span> matching algorithms.</p><p>All records which group score is below 0.95 are listed in the <span class="emphasis"><strong>Suspects</strong></span> output flow.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup6.png"></div><p>All records which group score is above 0.95 are listed in the <span class="emphasis"><strong>Matches</strong></span> output flow.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup7.png"></div><p>All records that have a group size equal to 1 is listed in the <span class="emphasis"><strong>Uniques</strong></span> output flow.</p><div class="mediaobject"><img src="../images/use_case_tmatchgroup8.png"></div></li></ol></div><p>For another scenario that groups the output records in one single output flow
				based on a generated functional key, see <a class="xref" href="tGenKey.html#Raa99658" title="Scenario&nbsp;2: Comparing columns and grouping in the output flow duplicate records that have the same functional key">the section called &#8220;Scenario&nbsp;2: Comparing columns and grouping in the output flow duplicate
                        records that have the same functional key&#8221;</a>.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tLaunchDQReports.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-dataquality.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tMatchGroupHadoop.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tLaunchDQReports&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tdi-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tMatchGroupHadoop</td></tr></table></div></body></html>