<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMysqlInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="Raa29876.html" title="Chapter&nbsp;6.&nbsp;Database components"><link rel="prev" href="tMysqlConnection.html" title="tMysqlConnection"><link rel="next" href="tMysqlLastInsertId.html" title="tMysqlLastInsertId"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tMysqlInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMysqlInput"></a>tMysqlInput</h2></div></div></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="27"><tr><td><img src="../images/tMysqlInput_icon32_white.png" width="27"></td></tr></table></div><div class="section" title="tMysqlInput properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e103029"></a>tMysqlInput properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="bold"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Databases/MySQL</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="bold"><strong>tMysqlInput</strong></span> reads a database and
								extracts fields based on a query. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="bold"><strong>tMysqlInput</strong></span> executes a DB query
								with a strictly defined order which must correspond to the schema
								definition. Then it passes on the field list to the next component
								via a <span class="bold"><strong>Main</strong></span> row link.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Property type</em></span>
							</p>
						</td><td valign="top">
							<p>Either <span class="bold"><strong>Built-in</strong></span> or <span class="bold"><strong>Repository</strong></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="bold"><strong>Built-in</strong></span>: No property data stored
								centrally.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="bold"><strong>Repository</strong></span>: Select the repository
								file in which the properties are stored. The fields that follow are
								completed automatically using the data retrieved.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="18"><tr><td><img src="../images/Save_Icon.png" width="18"></td></tr></table></div>
						</td><td valign="top">
							<p>Click this icon to open a database connection wizard and store the
								database connection parameters you set in the component <span class="bold"><strong>Basic settings </strong></span>view.</p>
							<p> For more information about setting up and storing database
								connection parameters, see <span class="bluebold">Talend Open Studio</span>
								<span class="bold"><strong>User Guide</strong></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use an existing connection</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box when using a configured <span class="bold"><strong>tMysqlConnection</strong></span> component.</p>
							<p> </p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> When a Job contains the parent Job and the child Job,
										<span class="bold"><strong>Component list</strong></span> presents
									only the connection components in the same Job level, so if you
									need to use an existing connection from the other level, make
									sure that the available connection components are sharing the
									intended connection.</p><p> For more information on how to share a DB connec&shy;tion across
									Job levels, see <span class="bold"><strong>Use or register a shared
										DB connection</strong></span> in any database connection
									compo&shy;nent corresponding to the database you are using.</p><p> Otherwise, you can as well deactivate the connection
									components and use <span class="bold"><strong>Dynamic
										settings</strong></span> of the compo&shy;nent to specify the
									intended connection manually. In this case, make sure the
									connection name is unique and distinctive all over through the
									two Job levels. For more information about <span class="bold"><strong>Dynamic settings</strong></span>, see your studio user
									guide.</p></td></tr></table></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Host</em></span>
							</p>
						</td><td valign="top">
							<p>Database server IP address.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Port</em></span>
							</p>
						</td><td valign="top">
							<p>Listening port number of DB server.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Database</em></span>
							</p>
						</td><td valign="top">
							<p>Name of the database.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Username</em></span> and
								<span class="emphasis"><em>Password</em></span></p>
						</td><td valign="top">
							<p>DB user authentication data.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
								Schema</em></span></p>
						</td><td valign="top">
							<p>A schema is a row description, i.e., it defines the number of
								fields to be processed and passed on to the next component. The
								schema is either <span class="bold"><strong>Built-in</strong></span> or stored
								remotely in the <span class="bold"><strong>Repository</strong></span>. </p>
							<p> </p>
							
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="bold"><strong>Built-in</strong></span>: The schema is created
								and stored locally for this component only. Related topic: see
									<span class="bluebold">Talend Open Studio</span>
								<span class="bold"><strong>User Guide</strong></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="bold"><strong>Repository</strong></span>: The schema already
								exists and is stored in the Repository, hence can be reused. Related
								topic: see <span class="bluebold">Talend Open Studio</span>
								<span class="bold"><strong>User Guide</strong></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Table</em></span>
								<span class="emphasis"><em>Name</em></span>
							</p>
						</td><td valign="top">
							<p>Name of the table to be read.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Query type </em></span>and
								<span class="emphasis"><em>Query</em></span></p>
						</td><td valign="top">
							<p>Enter your DB query paying particularly attention to properly
								sequence the fields in order to match the schema definition. </p>
							
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Additional JDBC parameters</em></span>
							</p>
						</td><td valign="top">
							<p>Specify additional connection properties for the DB connection you
								are creating. This option is not available if you have selected the
									<span class="bold"><strong>Use an existing connection</strong></span>
								check box in the <span class="bold"><strong>Basic
								settings</strong></span>.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> When you need to handle data of the time-stamp type
										<span class="emphasis"><em>0000-00-00 00:00:00</em></span> using this
									component, set the parameter as:</p><p>
									<code class="code">noDatetimeStringSync=true&amp;zeroDa&shy;teTimeBehavior=convertToNull</code>.</p></td></tr></table></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Enable stream</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to enables streaming over buffering which allows the code to read
								from a large table without consuming a large amount of memory in
								order to optimize the performance.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Trim all the String/Char columns</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to remove leading and trailing whitespace
								from all the String/Char columns.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Trim column</em></span>
							</p>
						</td><td valign="top">
							<p>Remove leading and trailing whitespace from defined
								columns.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> Deselect <span class="bold"><strong>Trim all the String/Char
										columns</strong></span> to enable Trim columns in this
									field.</p></td></tr></table></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to collect log data at the component
								level.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component covers all possible SQL queries for Mysql
								databases.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Scenario1: Writing columns from a MySQL database to an output file"><div class="titlepage"><div><div><h3 class="title"><a name="ychen-20111010-databases-writing_output"></a>Scenario<span>1</span>: Writing columns from a MySQL database to an output
			file</h3></div></div></div><p>In this scenario we will read certain columns from a MySQL database, and then write
			them to a table in a local output file.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop <span class="bold"><strong>tMysqlInput</strong></span> and <span class="bold"><strong>tFileOutputDelimited</strong></span> from the <span class="bold"><strong>Palette</strong></span> onto the workspace.</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="405"><tr><td><img src="../images/Use_Case_tMysqlInput_1.png" width="405"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Link <span class="bold"><strong>tMysqlInput</strong></span> to <span class="bold"><strong>tFileOutputDelimited</strong></span> using a <span class="bold"><strong>Row &gt;
						Main</strong></span> connection.</p></li><li class="listitem"><p> Double-click <span class="bold"><strong>tMysqlInput</strong></span> to open its
						<span class="bold"><strong>Basic Settings</strong></span> view in the <span class="bold"><strong>Component</strong></span> tab.</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="465"><tr><td><img src="../images/Use_Case_tMysqlInput_2.png" width="465"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> From the <span class="bold"><strong>Property Type</strong></span> list, select
						<span class="bold"><strong>Repository</strong></span> if you have already stored the
					connection to database in the <span class="bold"><strong>Metadata</strong></span> node of
					the <span class="bold"><strong>Repository</strong></span> tree view. The property fields
					that follow are automatically filled in.</p></li></ul></div><p>For more information about how to store a database connection, see <span class="bluebold">Talend Open Studio</span>
			<span class="bold"><strong>User Guide</strong></span>. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> If you have not defined the database connection locally in the <span class="bold"><strong>Repository</strong></span>, fill in the details manually after
					selecting <span class="bold"><strong>Built-in</strong></span> from the <span class="bold"><strong>Property Type</strong></span> list.</p></li><li class="listitem"><p> Set the <span class="bold"><strong>Schema </strong></span>as<span class="bold"><strong>
						Built-in</strong></span> and click <span class="bold"><strong>Edit schema</strong></span>
					to define the desired schema.</p><p> The schema editor opens:</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="460"><tr><td><img src="../images/Use_Case_tMysqlInput_3.png" width="460"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Click the <span class="inlinemediaobject"><img src="../images/plus_button.png" width="20"></span> button to add the rows that you will use to define the
					schema, four columns in this example <span class="emphasis"><em>id</em></span>,
						<span class="emphasis"><em>first_name</em></span>, <span class="emphasis"><em>city</em></span> and
						<span class="emphasis"><em>salary</em></span>.</p></li><li class="listitem"><p> Under <span class="bold"><strong>Column</strong></span> and<span class="bold"><strong> Db
						Column</strong></span>, click in the fields to enter the corresponding column
					names. </p></li><li class="listitem"><p> Click the field under <span class="bold"><strong>Type</strong></span> to define the
					type of data.</p></li><li class="listitem"><p> Click <span class="bold"><strong>OK</strong></span> to close the schema editor.</p></li><li class="listitem"><p> Next to the <span class="bold"><strong>Table Name</strong></span> field, click
						the<span class="bold"><strong> [...]</strong></span> button to select the database
					table of interest.</p><p> A dialog box displays a tree diagram of all the tables in the selected
					database:</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="246"><tr><td><img src="../images/Use_Case_tMysqlInput_4.png" width="246"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Click the table of interest and then click <span class="bold"><strong>OK</strong></span> to close the dialog box.</p></li><li class="listitem"><p> Set the<span class="bold"><strong> Query Type</strong></span> as <span class="bold"><strong>Built-In</strong></span>. </p></li><li class="listitem"><p> In the <span class="bold"><strong>Query</strong></span> box, enter the query required
					to retrieve the desired columns from the table.</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="393"><tr><td><img src="../images/Use_Case_tMysqlInput_5.png" width="393"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Double-click <span class="bold"><strong>tFileOutputDelimited</strong></span> to set its
						<span class="bold"><strong>Basic Settings</strong></span> in the <span class="bold"><strong>Component</strong></span> tab.</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="421"><tr><td><img src="../images/Use_Case_tMysqlInput_6.png" width="421"></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Next to the <span class="bold"><strong>File Name</strong></span> field, click the
						<span class="bold"><strong>[...]</strong></span> button to browse your directory to
					where you want to save the output file, then enter a name for the file.</p></li><li class="listitem"><p> Select the <span class="bold"><strong>Include Header</strong></span> check box to
					retrieve the column names as well as the data.</p></li><li class="listitem"><p> Save the Job and press <span class="bold"><strong>F6</strong></span> to run it.</p><p> The output file is written with the desired column names and corresponding
					data, retrieved from the database:</p></li></ul></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="226"><tr><td><img src="../images/Use_Case_tMysqlInput_7.png" width="226"></td></tr></table></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> The Job can also be run in the <span class="bold"><strong>Traces Debug</strong></span>
				mode, which allows you to view the rows as they are being written to the output
				file, in the workspace.</p></td></tr></table></div></div></div></body></html>