<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSOAP</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch12.html" title="Chapitre&nbsp;12.&nbsp;Composants Internet"><link rel="prev" href="tSocketOutput.html" title="tSocketOutput"><link rel="next" href="tWebServiceInput.html" title="tWebServiceInput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tSOAP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSOAP"></a>tSOAP</h2></div></div></div><div class="mediaobject"><img src="../images/tSOAP_icon32_white.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tSOAP"><div class="titlepage"><div><div><h3 class="title"><a name="d0e222339"></a>Propri&eacute;t&eacute;s du tSOAP</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top"><p><span class="bold"><strong>Famille de
                        composant</strong></span></p>
                  </td><td valign="top"><p>Internet </p>
                  </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="bold"><strong>Fonction</strong></span></p>
                  </td><td colspan="2" valign="top"><p>Le composant <span class="bold"><strong>tSOAP</strong></span> envoie le message SOAP d&eacute;fini avec les
                        param&egrave;tres donn&eacute;s au service Web invoqu&eacute; et retourne la valeur comme
                        d&eacute;finie, &agrave; partir des param&egrave;tres donn&eacute;s.</p>
                  </td></tr><tr><td valign="top"><p><span class="bold"><strong>Objectif</strong></span></p>
                  </td><td colspan="2" valign="top"><p>Ce composant appelle une
                        m&eacute;thode via un service Web afin de r&eacute;cup&eacute;rer les valeurs des param&egrave;tres
                        d&eacute;finies dans l&#8217;&eacute;diteur du composant.</p>
                  </td></tr><tr><td valign="top"><p><span class="bold"><strong>Basic settings</strong></span></p>
                  </td><td valign="top"><p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
                           schema</em></span></p>
                  </td><td valign="top"><p>Un sch&eacute;ma est une description de lignes, i.e., il
                        d&eacute;finit le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant suivant.
                        </p><p>Ce composant utilise toujours un sch&eacute;ma local (built-in) en
                        lecture seule qui contient par d&eacute;faut trois colonnes de type <span class="bold"><strong>String</strong></span>&nbsp;:</p><p>- <span class="bold"><strong>Header</strong></span>&nbsp;: stocke l&#8217;en-t&ecirc;te du message SOAP de la r&eacute;ponse
                        donn&eacute;e c&ocirc;t&eacute; serveur.</p><p>- <span class="bold"><strong>Body</strong></span>&nbsp;:
                        stocke le corps du message SOAP de la r&eacute;ponse donn&eacute;e c&ocirc;t&eacute;
                        serveur.</p><p>- <span class="bold"><strong>Fault</strong></span>&nbsp;: stocke les
                        informations d&#8217;erreur lorsqu&#8217;une erreur survient pendant le traitement du
                        message SOAP.</p><p> </p><p> Cliquez sur <span class="bold"><strong>Edit Schema</strong></span> pour visualiser le sch&eacute;ma.</p>
                     <div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>Modifier le sch&eacute;ma peut engendrer une perte de la structure
                              du sch&eacute;ma et donc un &eacute;chec du composant.</em></span></p></td></tr></table></div>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>Use NTLM</em></span></p>
                  </td><td valign="top"><p>Cochez cette case si vous utilisez un protocole
                        d&#8217;authentification NTLM.</p><p><span class="bold"><strong>Domain</strong></span>&nbsp;: Nom de domaine du client.</p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>Need authentication</em></span></p>
                  </td><td valign="top"><p>Cochez la case d&#8217;authentification et renseignez le nom
                        de l&#8217;utilisateur dans le champ <span class="bold"><strong>Username</strong></span> et
                        son mot de passe dans le champ <span class="bold"><strong>Password</strong></span>, si
                        cela est n&eacute;cessaire pour acc&eacute;der au service.</p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>Use http proxy</em></span></p>
                  </td><td valign="top"><p>Cochez cette case si vous vous connectez derri&egrave;re un
                        proxy et renseignez les informations correspondantes. </p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>Trust server with SSL</em></span></p>
                  </td><td valign="top"><p>Cochez cette case pour authentifier le serveur aupr&egrave;s du
                        client via un protocole SSL et renseignez les champs
                           correspondants.</p><p><span class="bold"><strong>TrustStore
                           file</strong></span>&nbsp;: saisissez le chemin d&#8217;acc&egrave;s et le nom du fichier
                        TrustStore contenant la liste des certificats approuv&eacute;s par le
                        client.</p><p><span class="bold"><strong>TrustStore password</strong></span>&nbsp;:
                        saisissez le mot de passe utilis&eacute; pour v&eacute;rifier l&#8217;int&eacute;grit&eacute; des donn&eacute;es
                        TrustStore.</p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>ENDPOINT</em></span></p>
                  </td><td valign="top"><p>Saisissez l&#8217;URL du serveur Web invoqu&eacute;.</p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>SOAP action</em></span></p>
                  </td><td valign="top"><p>Saisissez l&#8217;URL de l&#8217;en-t&ecirc;te HTTP SOAPAction &agrave; utiliser
                        pour identifier le but de la requ&ecirc;te HTTP SOAP.</p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>SOAP version</em></span></p>
                  </td><td valign="top"><p>S&eacute;lectionnez la version du syst&egrave;me SOAP que vous
                        utilisez.</p><p> </p>
                     <div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>L&#8217;enveloppe SOAP requise varie selon les
                              versions.</em></span></p></td></tr></table></div>
                  </td></tr><tr><td>&nbsp;</td><td valign="top"><span class="italic">Use a message from the input
                        schema</span></td><td valign="top">
                     <p>Cochez cette case pour lire un message SOAP du composant pr&eacute;c&eacute;dent et
                        l'envoyer au service Web invoqu&eacute;.</p>
                     <p>Lorsque cette case est coch&eacute;e, le champ <span class="bold"><strong>SOAP
                           message</strong></span> devient une liste d&eacute;roulante, vous permettant de
                        s&eacute;lectionner le type de colonne <span class="bold"><strong>Document</strong></span>
                        afin de lire un fichier d'entr&eacute;e XML.</p><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="italic">Il est logique d'utiliser cette option
                                 lorsque le composant <span class="bold"><strong>tSOAP</strong></span> est
                                 reli&eacute; &agrave; un composant d'entr&eacute;e dont le sch&eacute;ma contient une colonne
                                 de type <span class="bold"><strong>Document</strong></span> afin de lire un
                                 message SOAP valide.</span></p></td></tr></table></div>
                  </td></tr><tr><td>&nbsp;</td><td valign="top"><span class="italic">Output in Document</span></td><td valign="top">
                     <p>Cochez cette case afin d'&eacute;crire le message de r&eacute;ponse au format
                        XML.</p>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>SOAP message</em></span></p>
                  </td><td valign="top"><p>Saisissez le message SOAP &agrave; envoyer au service Web
                        invoqu&eacute;. Les variables globales et de contexte peuvent &ecirc;tre utilis&eacute;es
                        lorsque vous &eacute;crivez un message SOAP.</p><p>Pour plus d&#8217;informations
                        concernant les variables de contexte, consultez&nbsp;le <span class="italic">Guide utilisateur de</span>
                        <span class="bluebold">Talend Open Studio</span>.</p>
                  </td></tr><tr><td valign="top"><p><span class="bold"><strong>Advanced
                        settings</strong></span></p>
                  </td><td valign="top"><p><span class="emphasis"><em>Use Kerberos</em></span></p>
                  </td><td valign="top"><p>Cochez cette case pour s&eacute;lectionner un composant
                           <span class="bold"><strong>tSetKerberosConfiguration</strong></span> dans la liste
                           <span class="bold"><strong>Kerberos configuration</strong></span>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Le lien <span class="bold"><strong>Trigger</strong></span> &gt; <span class="bold"><strong>OnSubjobOk</strong></span> du composant <span class="bold"><strong>tSetKerberosConfiguration</strong></span> doit &ecirc;tre utilis&eacute;
                              lors d'une connexion au <span class="bold"><strong>tSOAP</strong></span>.</p></td></tr></table></div>
                  </td></tr><tr><td><p>&nbsp;</p>
                  </td><td valign="top"><p><span class="emphasis"><em>tStatCatcher Statistics</em></span></p>
                  </td><td valign="top"><p>Cochez cette case pour collecter les donn&eacute;es de log au
                        niveau du Job ainsi qu&#8217;au niveau de chaque composant.</p>
                  </td></tr><tr><td valign="top"><p><span class="bold"><strong>Utilisation</strong></span></p>
                  </td><td colspan="2" valign="top"><p>Ce composant peut &ecirc;tre utilis&eacute;
                        en tant que composant d&#8217;entr&eacute;e ou interm&eacute;diaire.</p>
                  </td></tr><tr><td valign="top"><p><span class="bold"><strong>Connexions</strong></span></p>
                  </td><td><p>&nbsp;</p>
                  </td><td valign="top"><p>Liens de sortie (d&#8217;un composant &agrave; un
                           autre)&nbsp;:</p><p><span class="bold"><strong>Row&nbsp;</strong></span>: Main,
                        Iterate.</p><p><span class="bold"><strong>Trigger&nbsp;</strong></span>: Run if, On
                        Component Ok, On Component Error.</p><p> </p><p>Liens d&#8217;entr&eacute;e
                        (d&#8217;un composant &agrave; un autre)&nbsp;:</p><p><span class="bold"><strong>Row</strong></span>&nbsp;: Main, Iterate</p><p><span class="bold"><strong>Trigger&nbsp;</strong></span>: Run if, On Component Ok, On Component
                        Error.</p><p>Pour plus d&#8217;informations concernant les connexions,
                        consultez le <span class="italic">Guide utilisateur de
                           </span><span class="bluebold">Talend Open Studio</span>.</p>
                  </td></tr><tr><td valign="top"><p><span class="bold"><strong>Limitation</strong></span></p>
                  </td><td colspan="2" valign="top"><p>N/A</p>
                  </td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;: Extraire des informations m&eacute;t&eacute;o en utilisant un Service Web"><div class="titlepage"><div><div><h3 class="title"><a name="Raa15285"></a>Sc&eacute;nario&nbsp;: Extraire des informations m&eacute;t&eacute;o en utilisant un Service Web</h3></div></div></div><p>Ce sc&eacute;nario d&eacute;crit un Job &agrave; deux composants utilisant un Service Web pour r&eacute;cup&eacute;rer les
         informations concernant la m&eacute;t&eacute;o d&#8217;une ville am&eacute;ricaine.</p><p>Le service Web &agrave; utiliser est&nbsp;<a class="link" href="http://www.deeptraining.com/webservices/weather.asmx" target="_top">http://www.deeptraining.com/webservices/weather.asmx</a>.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>D&eacute;posez les composants suivants de la <span class="bold"><strong>Palette</strong></span>
               dans l&#8217;espace de mod&eacute;lisation graphique&nbsp;: <span class="bold"><strong>tSOAP</strong></span> et
                  <span class="bold"><strong>tLogRow</strong></span>.</p><div class="mediaobject"><img src="../images/Use_case_tSOAP1.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Cliquez-droit sur le composant <span class="bold"><strong>tSOAP</strong></span> afin
               d&#8217;ouvrir le menu contextuel. S&eacute;lectionnez <span class="bold"><strong>Row</strong></span> &gt;
                  <span class="bold"><strong>Main</strong></span> et cliquez sur le <span class="bold"><strong>tLogRow</strong></span> pour relier les composants &agrave; l&#8217;aide d&#8217;un lien <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span>.</p></li><li class="step" title="&Eacute;tape 3"><p>Double-cliquez sur le <span class="bold"><strong>tSOAP</strong></span> afin d&#8217;ouvrir sa vue
                  <span class="bold"><strong>Basic settings</strong></span> et d&eacute;finir ses propri&eacute;t&eacute;s.</p><div class="mediaobject"><img src="../images/Use_case_tSOAP2.png"></div></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="bold"><strong>ENDPOINT</strong></span>, saisissez ou collez l&#8217;URL
               du Service Web &agrave; utiliser, entre guillemets&nbsp;:
                  &#8220;<span class="emphasis"><em>http://www.deeptraining.com/webservices/weather.asmx</em></span>&#8221;.</p></li><li class="step" title="&Eacute;tape 5"><p>Dans le champ <span class="bold"><strong>SOAP Action</strong></span>, saisissez ou collez
               l&#8217;URL de l&#8217;en-t&ecirc;te HTTP SOAPAction permettant de d&eacute;terminer que vous souhaitez
               r&eacute;cup&eacute;rer les informations concernant la m&eacute;t&eacute;o&nbsp;:
                  <span class="emphasis"><em>http://litwinconsulting.com/webservices/GetWeather</em></span>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Vous pouvez voir cette adresse en regardant le WSDL du Service Web que vous appelez.
                  Pour le Service Web de cet exemple, dans votre navigateur, saisissez
                     <code class="code">?wsdl</code> &agrave; la fin de l&#8217;URL du Service Web utilis&eacute; dans le champ
                     <span class="bold"><strong>ENDPOINT</strong></span>, ouvrez la page Web correspondante,
                  puis regardez l&#8217;action SOAPAction d&eacute;finie sous le n&#339;ud Operation&nbsp;:</p><p>
            </p><pre class="programlisting">&lt;wsdl:operation name="GetWeather"&gt;<span></span>
&lt;soap:operation soapAction="http://litwinconsulting.com/webservices/GetWeather"
style="document"/&gt;</pre></td></tr></table></div></li><li class="step" title="&Eacute;tape 6"><p>Dans le champ <span class="bold"><strong>SOAP version</strong></span>, s&eacute;lectionnez la
               version du syst&egrave;me SOAP utilis&eacute;. Dans ce sc&eacute;nario, la version est <span class="emphasis"><em>SOAP
                  1.1</em></span>.</p></li><li class="step" title="&Eacute;tape 7"><p>Dans le champ <span class="bold"><strong>SOAP message</strong></span>, saisissez le message,
               au format XML, utilis&eacute; pour r&eacute;cup&eacute;rer les informations du Service Web invoqu&eacute;. Dans
               cet exemple, r&eacute;cup&eacute;rez les informations m&eacute;t&eacute;o de Chicago, saisissez donc&nbsp;:</p><p>
               </p><pre class="programlisting">"&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"
xmlns:web=\"http://litwinconsulting.com/webservices/\"&gt;<span></span>
 &lt;soapenv:Header/&gt;<span></span>
  &lt;soapenv:Body&gt;<span></span>
     &lt;web:GetWeather&gt;<span></span>
         &lt;web:City&gt;Chicago&lt;/web:City&gt;<span></span>
      &lt;/web:GetWeather&gt;<span></span>
   &lt;/soapenv:Body&gt;<span></span>
 &lt;/soapenv:Envelope&gt;"</pre></li><li class="step" title="&Eacute;tape 8"><p>Sauvegardez votre Job et appuyez sur <span class="bold"><strong>F6</strong></span> pour
               l&#8217;ex&eacute;cuter.</p></li></ol></div><p>La m&eacute;t&eacute;o de Chicago est r&eacute;cup&eacute;r&eacute;e et affich&eacute;e dans la console de la vue <span class="bold"><strong>Run</strong></span>.</p><div class="mediaobject"><img src="../images/Use_case_tSOAP3.png"></div></div><div class="section" title="Sc&eacute;nario 2 : Utiliser un message SOAP depuis un fichier XML pour obtenir des informations m&eacute;t&eacute;o et les sauvegarder dans un fichier XML"><div class="titlepage"><div><div><h3 class="title"><a name="jzhang-20120418-internet-tsoap_s2"></a>Sc&eacute;nario 2 : Utiliser un message SOAP depuis un fichier XML pour obtenir des
         informations m&eacute;t&eacute;o et les sauvegarder dans un fichier XML</h3></div></div></div><p>Ce sc&eacute;nario d&eacute;crit un Job &agrave; trois composants utilisant un message SOAP d'un fichier
         d'entr&eacute;e XML afin d'invoquer un service Web et r&eacute;cup&eacute;rer des informations m&eacute;t&eacute;orologiques
         concernant Paris et d'&eacute;crire la r&eacute;ponse dans un fichier XML.</p><p>Comme dans le sc&eacute;nario pr&eacute;c&eacute;dent, le service Web &agrave; utiliser est <a class="link" href="http://www.deeptraining.com/webservices/weather.asmx" target="_top">http://www.deeptraining.com/webservices/weather.asmx</a>.</p><div class="section" title="D&eacute;poser et relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e222876"></a>D&eacute;poser et  relier les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>D&eacute;posez les composants suivants de la <span class="bold"><strong>Palette</strong></span>
                  dans l'espace de mod&eacute;lisation graphique : un <span class="bold"><strong>tFileInputXML</strong></span>, un <span class="bold"><strong>tSOAP</strong></span> et un
                     <span class="bold"><strong>tFileOutputXML</strong></span>.</p></li><li class="step" title="&Eacute;tape 2"><p>Connectez les composants &agrave; l'aide de liens <span class="bold"><strong>Main</strong></span> &gt; <span class="bold"><strong>Row</strong></span>.</p><div class="mediaobject"><img src="../images/use_case-tsoap2-1.png"></div></li></ol></div></div><div class="section" title="Configurer le composant d'entr&eacute;e"><div class="titlepage"><div><div><h4 class="title"><a name="d0e222907"></a>Configurer le composant d'entr&eacute;e</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le composant <span class="bold"><strong>tFileInputXML</strong></span>
                  pour ouvrir sa vue <span class="bold"><strong>Basic settings</strong></span> et configurer
                  ses propri&eacute;t&eacute;s.</p><div class="mediaobject"><img src="../images/use_case-tsoap2-2.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ
                     <span class="bold"><strong>Edit schema</strong></span> afin d'ouvrir la bo&icirc;te de dialogue
                     <span class="bold"><strong>[Schema]</strong></span>.</p><div class="mediaobject"><img src="../images/use_case-tsoap2-3.png"></div></li><li class="step" title="&Eacute;tape 3"><p>Cliquez sur le bouton <span class="bold"><strong>[+]</strong></span> pour ajouter une
                  colonne et nommez-la <span class="italic">getWeather</span> dans ce
                  sc&eacute;nario. S&eacute;lectionnez le type <span class="bold"><strong>Document</strong></span> dans la
                  liste <span class="bold"><strong>Type</strong></span>, puis cliquez sur <span class="bold"><strong>OK</strong></span> pour fermer la bo&icirc;te de dialogue.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="bold"><strong>File name/Stream</strong></span>, saisissez le
                  chemin d'acc&egrave;s au fichier d'entr&eacute;e XML contenant le message SOAP &agrave; utiliser, ou
                  parcourez votre syst&egrave;me jusqu'&agrave; ce fichier en cliquant sur le bouton <span class="bold"><strong>[...]</strong></span>.</p><p>le fichier d'entr&eacute;e contient le message SOAP suivant : </p><pre class="programlisting">&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:web="http://litwinconsulting.com/webservices/"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
        &lt;web:GetWeather&gt;
            &lt;web:City&gt;Paris&lt;/web:City&gt;
        &lt;/web:GetWeather&gt;
    &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;</pre></li><li class="step" title="&Eacute;tape 5"><p>Dans le champ <span class="bold"><strong>Loop XPath query</strong></span>, saisissez
                     <code class="code">&#8220;/&#8221;</code> afin de d&eacute;finir l'&eacute;l&eacute;ment racine comme n&#339;ud de boucle de la
                  structure du fichier d'entr&eacute;e.</p></li><li class="step" title="&Eacute;tape 6"><p>Dans la table <span class="bold"><strong>Mapping</strong></span>, renseignez la colonne
                     <span class="bold"><strong>XPath query</strong></span> en saisissant <code class="code">&#8220;.&#8221;</code>
                  pour extraire toutes les donn&eacute;es du n&#339;ud contexte de la source. Cochez la case
                     <span class="bold"><strong>Get Nodes</strong></span> pour construire un flux de donn&eacute;es
                  de type <span class="bold"><strong>Document</strong></span>. </p></li></ol></div></div><div class="section" title="Configurer le service Web &agrave; l'aide du tSOAP"><div class="titlepage"><div><div><h4 class="title"><a name="d0e222996"></a>Configurer le service Web &agrave; l'aide du tSOAP</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le composant <span class="bold"><strong>tSOAP</strong></span> pour
                  ouvrir sa vue <span class="bold"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case-tsoap2-4.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Dans le champ <span class="bold"><strong>ENDPOINT</strong></span>, saisissez ou collez
                  l'URL du service Web &agrave; utiliser, entre guillemets :
                     <span class="emphasis"><em>&#8220;http://www.deeptraining.com/webservices/weather.asmx&#8221;</em></span>.</p></li><li class="step" title="&Eacute;tape 3"><p>Dans le champ <span class="bold"><strong>SOAP Action</strong></span>, saisissez ou collez
                  l'URL de l'en-t&ecirc;te HTTP SOAPAction indiquant que vous souhaitez r&eacute;cup&eacute;rer les
                  informations m&eacute;t&eacute;orologiques :
                     <span class="emphasis"><em>http://litwinconsulting.com/webservices/GetWeather</em></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Cochez la case <span class="bold"><strong>Use a message from the input
                     schema</strong></span> et s&eacute;lectionnez une colonne de type <span class="bold"><strong>Document</strong></span> dans la liste <span class="bold"><strong>SOAP
                     Message</strong></span> afin de lire le message SOAP du fichier d'entr&eacute;e et de
                  l'envoyer au service Web. Dans cet exemple, le sch&eacute;ma d'entr&eacute;e poss&egrave;de une seule
                  colonne, <span class="italic">getWeather</span>.</p></li></ol></div></div><div class="section" title="Configurer le composant de sortie"><div class="titlepage"><div><div><h4 class="title"><a name="d0e223045"></a>Configurer le composant de sortie</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le composant <span class="bold"><strong>tFileOutputXML</strong></span>
                  pour ouvrir sa vue <span class="bold"><strong>Basic settings</strong></span>. </p><div class="mediaobject"><img src="../images/use_case-tsoap2-5.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Dans le champ <span class="bold"><strong>File Name</strong></span>, saisissez le chemin
                  d'acc&egrave;s au fichier XML de sortie.</p></li><li class="step" title="&Eacute;tape 3"><p>Cochez la case <span class="bold"><strong>Incoming record is a document</strong></span>
                  afin de r&eacute;cup&eacute;rer le flux de donn&eacute;es entrant en tant que document XML. Notez
                  qu'une liste <span class="bold"><strong>Column list</strong></span> appara&icirc;t, vous
                  permettant de s&eacute;lectionner une colonne de laquelle r&eacute;cup&eacute;rer les donn&eacute;es. Dans cet
                  exemple, le sch&eacute;ma contient une seule colonne. </p></li></ol></div></div><div class="section" title="Ex&eacute;cuter le Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e223076"></a>Ex&eacute;cuter le Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Appuyez sur les touches <span class="bold"><strong>Ctrl+S</strong></span> pour
                  sauvegarder votre Job.</p></li><li class="step" title="&Eacute;tape 2"><p>Appuyez sur la touche <span class="bold"><strong>F6</strong></span> ou cliquez sur le
                  bouton <span class="bold"><strong>Run</strong></span> dans l'onglet <span class="bold"><strong>Run</strong></span> pour ex&eacute;cuter le Job.</p><p>Les informations m&eacute;t&eacute;orologiques de Paris sont retourn&eacute;es et sauvegard&eacute;es dans
                  le fichier XML d&eacute;fini.</p><div class="mediaobject"><img src="../images/use_case-tsoap2-6.png"></div></li></ol></div></div></div></div></body></html>