<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMatchGroupHadoop</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch06.html" title="Chapitre&nbsp;6.&nbsp;Composants Data Quality"><link rel="prev" href="tMatchGroup.html" title="tMatchGroup"><link rel="next" href="tMultiPatternCheck.html" title="tMultiPatternCheck"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="fr" class="section" title="tMatchGroupHadoop"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMatchGroupHadoop"></a>tMatchGroupHadoop</h2></div></div></div><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="27"><tr><td><img src="../images/tMatchGroupHadoop_icon32_white.png" width="27"></td></tr></table></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>Ce composant est disponible dans la
				</em></span><span class="bold"><strong>Palette</strong></span><span class="emphasis"><em>
				du studio uniquement si vous avez souscrit &agrave; l&#8217;&eacute;dition correspondante de
				</em></span><span class="bluebold">Talend Enterprise Data Quality</span><span class="emphasis"><em>.</em></span>
		</p></td></tr></table></div><div class="section" title="Propri&eacute;t&eacute;s du tMatchGroupHadoop"><div class="titlepage"><div><div><h3 class="title"><a name="ychen-20111020-data_quality-properties"></a>Propri&eacute;t&eacute;s du tMatchGroupHadoop</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col width="433px" class="c1"><col width="213px" class="c2"><col width="356px" class="c3"></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="bold"><strong>Famille de composant</strong></span>
							</p>
						</td><td valign="top">
							<p>Data Quality</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Fonction</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Bas&eacute; sur Hadoop, le composant <span class="bold"><strong>tMatchGroupHadoop</strong></span> utilise une (des) r&egrave;gle(s) de mise
								en correspondance afin de comparer des colonnes dans un flux
								d'entr&eacute;e volumineux et regroupe les doublons trouv&eacute;s dans le flux de
								sortie.</p>
							<p>Lorsque plusieurs <span class="bold"><strong>tMatchGroupHadoop</strong></span> sont utilis&eacute;s de mani&egrave;re
								s&eacute;quentielle, le premier cr&eacute;e les groupes d'enregistrements
								similaires et les suivants affinent les groupes re&ccedil;us du composant
								pr&eacute;c&eacute;dent.</p>
							<p>Lors de la d&eacute;finition d'un groupe, le premier enregistrement trait&eacute; devient
								l'enregistrement ma&icirc;tre du groupe. Les autres enregistrements sont
								calcul&eacute;s selon leur distance par rapport &agrave;  cet enregistrement
								ma&icirc;tre et sont ensuite ajout&eacute;s au groupe de l'enregistrement ma&icirc;tre.
								En affinant les groupes donn&eacute;s, un groupe contenant un seul
								enregistrement (la taille du groupe est "1") est compar&eacute; aux autres
								enregistrements ma&icirc;tre des autres groupes et est fusionn&eacute; dans l'un
								des autres groupes, si la distance recalcul&eacute;e le permet.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Si vous avez plus d'un <span class="bold"><strong>tMatchGroupHadoop</strong></span> dans votre Job, les
										distances et les scores de correspondance peuvent &ecirc;tre
										incoh&eacute;rents lorsque le crit&egrave;re d&eacute;fini pour calculer est
										diff&eacute;rent dans chaque composant.</p></td></tr></table></div>
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Objectif</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Ce composant vous permet d&#8217;assurer la qualit&eacute; de vos donn&eacute;es provenant de n&#8217;importe
								quelle source volumineuse.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
								schema</em></span></p>
						</td><td valign="top">
							<p>Un sch&eacute;ma est une
								description de lignes, i.e., il d&eacute;finit le nombre de champs qui sont
								trait&eacute;s et pass&eacute;s au composant suivant. Le sch&eacute;ma est soit local
									(<span class="bold"><strong>Built-in</strong></span>) soit distant dans le
									<span class="bold"><strong>Repository</strong></span>. </p>
							<p>Cliquez sur <span class="bold"><strong>Sync columns</strong></span> pour
								r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent dans le Job.</p>
							<p>Le sch&eacute;ma de sortie de ce composant contient les champs suivants
								:</p>
							<p><span class="emphasis"><em>GID&nbsp;</em></span>:
								repr&eacute;sente l&#8217;identifiant du groupe.</p>
							<p><span class="emphasis"><em>GRP_SIZE&nbsp;</em></span>: compte le nombre
								d&#8217;enregistrements dans le groupe, ce nombre est calcul&eacute; uniquement
								sur l&#8217;enregistrement ma&icirc;tre.</p>
							<p><span class="emphasis"><em>MASTER&nbsp;</em></span>: identifie l&#8217;enregistrement
								utilis&eacute; dans les comparaisons de correspondance. Il y a au moins un
								enregistrement ma&icirc;tre par groupe.</p>
							<p>Chaque enregistrement
								d&#8217;entr&eacute;e sera compar&eacute; &agrave; enregistrement ma&icirc;tre. S&#8217;il y a
								correspondance, il sera dans le groupe.</p>
							<p><span class="emphasis"><em>SCORE&nbsp;</em></span>: mesure la distance entre
								l&#8217;enregistrement d&#8217;entr&eacute;e et l&#8217;enregistrement ma&icirc;tre selon
								l&#8217;algorithme de correspondance utilis&eacute;.</p>
							<p><span class="italic">Matching_Distances</span> : pr&eacute;sente
								la distance calcul&eacute;e d'un enregistrement par rapport &agrave; son
								enregistrement ma&icirc;tre.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top"><span class="bold"><strong>Built-in</strong></span>&nbsp;: Le
							sch&eacute;ma est cr&eacute;&eacute; et conserv&eacute; ponctuellement pour ce composant seulement.
							Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide
								utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top"><span class="bold"><strong>Repository</strong></span>&nbsp;: Le
							sch&eacute;ma existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut &ecirc;tre
							r&eacute;utilisable dans divers projets et Job Designs. Voir &eacute;galement&nbsp;le
								<span class="bold"><strong>Guide
								utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</td></tr><tr><td>&nbsp;</td><td><span class="italic">Link with a
							tMatchGroupHadoop</span></td><td valign="top">Cochez cette case et, dans le champ <span class="bold"><strong>Component</strong></span>, s&eacute;lectionnez le <span class="bold"><strong>tMatchGroupHadoop</strong></span> correspondant afin de
							r&eacute;utiliser les informations de connexion &agrave; Hadoop pr&eacute;c&eacute;demment
							d&eacute;finies.</td></tr><tr><td>&nbsp;</td><td><span class="italic">Hadoop Version</span></td><td valign="top">S&eacute;lectionnez la version d'Hadoop que vous
							utilisez.</td></tr><tr><td valign="top"><p><span class="italic">Hadoop configuration</span>
				</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Indisponible si vous utilisez un lien existant.</p></td></tr></table></div><p>
						</p></td><td><span class="italic">Host</span></td><td valign="top">Saisissez l'adresse IP de votre serveur Hadoop.</td></tr><tr><td>&nbsp;</td><td><span class="italic">Port</span></td><td valign="top">Saisissez le num&eacute;ro du port d'&eacute;coute du serveur
							Hadoop.</td></tr><tr><td>&nbsp;</td><td><span class="italic">HDFS directory</span></td><td valign="top">Saisissez l'emplacement dans le HDFS utilis&eacute;s pour
							traiter les donn&eacute;es de grand volume.</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><em>Key Definition</em></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Input Key Attribute</em></span>
							</p>
						</td><td valign="top">
							<p>S&eacute;lectionnez la (les) colonne(s) du flux d&#8217;entr&eacute;e sur lequel vous
								souhaitez appliquer un algorithme de correspondance.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Matching Type</em></span>
							</p>
						</td><td valign="top">
							<p>S&eacute;lectionnez l&#8217;algorithme de correspondance dans la liste&nbsp;:</p>
							<p><span class="bold"><strong>Exact Match&nbsp;</strong></span>: associe chaque
								entr&eacute;e trait&eacute;e &agrave; toutes les entr&eacute;es possibles de r&eacute;f&eacute;rence qui ont
								exactement la m&ecirc;me valeur.</p>
							<p><span class="bold"><strong>Exact - ignore case</strong></span>&nbsp;: fait
								correspondre chaque entr&eacute;e trait&eacute;e &agrave; toutes les entr&eacute;es de r&eacute;f&eacute;rence
								possibles ayant les m&ecirc;mes valeurs, en ignorant la valeur de la
								casse.</p>
							<p><span class="bold"><strong>Soundex&nbsp;</strong></span>: algorithme phon&eacute;tique
								utile pour la comparaison de pr&eacute;noms, selon la prononciation
								britannique.</p>
							<p><span class="bold"><strong>Levenshtein&nbsp;</strong></span>: cette option se
								base sur la th&eacute;orie de la distance d&#8217;&eacute;dition. Elle calcule le nombre
								d&#8217;insertions, suppressions ou substitutions n&eacute;cessaires pour qu&#8217;une
								entr&eacute;e corresponde &agrave; l&#8217;entr&eacute;e de r&eacute;f&eacute;rence.</p>
							<p><span class="bold"><strong>Metaphone&nbsp;</strong></span>: Cette option se base
								sur un algorithme phon&eacute;tique afin d&#8217;indexer les entr&eacute;es selon leur
								prononciation. Elle charge d&#8217;abord la phon&eacute;tique de toutes les
								entr&eacute;es du flux lookup de r&eacute;f&eacute;rence, puis v&eacute;rifie toutes les entr&eacute;es
								du flux principal par rapport aux entr&eacute;es du flux de
								r&eacute;f&eacute;rence.</p>
							<p><span class="bold"><strong>Double Metaphone&nbsp;</strong></span>: nouvelle
								version de l&#8217;algorithme phon&eacute;tique M&eacute;taphone, qui produit des
								r&eacute;sultats plus pr&eacute;cis. Il peut retourner un code primaire et un code
								secondaire pour une cha&icirc;ne de caract&egrave;res. Cela est utile dans des
								cas ambigus, mais &eacute;galement pour de multiples variantes de noms de
								famille aux origines communes.</p>
							<p><span class="bold"><strong>Soundex FR</strong></span>&nbsp;: algorithme
								phon&eacute;tique utile pour la comparaison de pr&eacute;noms, selon la
								prononciation fran&ccedil;aise.</p>
							<p><span class="bold"><strong>Jaro-Winkler</strong></span>&nbsp;; fait correspondre
								les entr&eacute;es trait&eacute;es selon des erreurs d&#8217;orthographe.</p>
							<p><span class="bold"><strong>q-grams</strong></span>&nbsp;: fait correspondre les
								entr&eacute;es trait&eacute;es en divisant les cha&icirc;nes de caract&egrave;res en blocs de
								lettres de longueur q, afin de cr&eacute;er un nombre de longueurs
								q-grammes. Le r&eacute;sultat de correspondance est donn&eacute; comme le nombre
								de correspondances entre les q-grammes d&#8217;entr&eacute;e et de r&eacute;f&eacute;rence,
								divis&eacute; par le nombre de q-grammes possibles.</p>
							<p><span class="bold"><strong>custom...&nbsp;</strong></span>: permet de charger un
								algorithme externe de mise en correspondance &agrave; partir d&#8217;une
								biblioth&egrave;que Java. La colonne <span class="bold"><strong>Custom Matcher
									Class</strong></span> est activ&eacute;e lorsque vous s&eacute;lectionnez cette
								option.</p>
							<p>Pour plus d'informations concernant le chargement d'une biblioth&egrave;que Java externe,
								consultez <a class="xref" href="tLibraryLoad.html" title="tLibraryLoad">la section intitul&eacute;e &laquo;&nbsp;tLibraryLoad&nbsp;&raquo;</a>.</p>
							<p>Pour plus d&#8217;informations concernant la cr&eacute;ation d&#8217;un algorithme de
								correspondance personnalis&eacute;, consultez&nbsp;<a class="xref" href="tRecordMatching.html#Raa71983" title="Cr&eacute;er un algorithme de correspondance personnalis&eacute;">la section intitul&eacute;e &laquo;&nbsp;Cr&eacute;er un algorithme de correspondance personnalis&eacute;&nbsp;&raquo;</a>.</p>
							<p>Pour un sc&eacute;nario associ&eacute; concernant l&#8217;utilisation d&#8217;un algorithme
								de correspondance personnalis&eacute;, consultez&nbsp;<a class="xref" href="tRecordMatching.html#Raa64731" title="Sc&eacute;nario&nbsp;2&nbsp;: Utiliser un algorithme de mise en correspondance personnalis&eacute; pour faire correspondre des entr&eacute;es">la section intitul&eacute;e &laquo;&nbsp;Sc&eacute;nario&nbsp;2&nbsp;: Utiliser un algorithme de mise en correspondance personnalis&eacute; pour faire
            correspondre des entr&eacute;es&nbsp;&raquo;</a>.</p>
						</td></tr><tr><td>&nbsp;</td><td valign="top"><span class="italic">Custom matcher
							class</span></td><td valign="top">
							<p>Saisissez le chemin d'acc&egrave;s &agrave; la classe personnalis&eacute;e (algorithme
								externe de mise en correspondance) que vous souhaitez utiliser. Vous
								d&eacute;finissez vous-m&ecirc;me ce chemin d'acc&egrave;s dans le fichier de votre
								biblioth&egrave;que (fichier <span class="emphasis"><em>.jar</em></span>).</p>
							<p>Par exemple, pour utiliser une classe
									<span class="emphasis"><em>MyDistance.class</em></span> stock&eacute;e dans le r&eacute;pertoire
									<span class="emphasis"><em>org/talend/mydistance</em></span> dans une biblioth&egrave;que
								personnalis&eacute;e <span class="emphasis"><em>mydistance.jar</em></span>, le chemin d'acc&egrave;s
								&agrave; saisir est
								<span class="emphasis"><em>org.talend.mydistance.MyDistance</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Confidence Weight</em></span>
							</p>
						</td><td valign="top">
							<p>D&eacute;finissez un poids num&eacute;rique pour chaque attribut (colonne) de la
								d&eacute;finition de cl&eacute;. Les valeurs doivent &ecirc;tre sup&eacute;rieures &agrave; 0.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><em>Blocking Definition</em></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Input Column</em></span>
							</p>
						</td><td valign="top">
							<p>Au besoin, s&eacute;lectionnez la
								(les) colonne(s) de flux d&#8217;entr&eacute;e selon laquelle (lesquelles) vous
								souhaitez partitionner les donn&eacute;es trait&eacute;es en blocs, ce qui est
								habituellement appel&eacute; &#8220;blocking&#8221;. </p>
							<p>La cr&eacute;ation de blocs (ou de
								groupes) r&eacute;duit le nombre de paires d&#8217;enregistrements n&eacute;cessitant
								examen. Lors de la cr&eacute;ation de blocs, les donn&eacute;es d&#8217;entr&eacute;e sont
								partitionn&eacute;es en blocs exhaustifs cr&eacute;&eacute;s pour augmenter la proportion
								de correspondances observ&eacute;es lors de la r&eacute;duction du nombre de
								paires &agrave; comparer. Les comparaisons sont limit&eacute;es aux paires
								d&#8217;enregistrements dans chaque bloc.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Utiliser des colonnes de bloc est tr&egrave;s utile lorsque vous
									traitez des donn&eacute;es tr&egrave;s volumineuses.</p></td></tr></table></div>
						</td></tr><tr><td>
							<p>&nbsp; <span class="bold"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Matching Algorithm</em></span>
							</p>
						</td><td valign="top">
							<p>S&eacute;lectionnez un algorithme
								dans la liste. </p>
							<p><span class="bold"><strong>Simple VSR Matcher&nbsp;</strong></span>: Cet algorithme est bas&eacute; sur une
								m&eacute;thode de Mod&egrave;le Vectoriel (Vector Space Retrieval) qui sp&eacute;cifie
								comment deux enregistrements peuvent correspondre.</p>
							<p><span class="bold"><strong>Match Interval</strong></span>&nbsp;: Saisissez la
								probabilit&eacute; de correspondance. Deux enregistrements de donn&eacute;es
								correspondent lorsque la probabilit&eacute; est sup&eacute;rieure &agrave; la valeur
								d&eacute;finie.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Sort the output data by GID</em></span>
							</p>
						</td><td valign="top">
							<p>Cochez cette case afin de regrouper les donn&eacute;es de sortie par l&#8217;ID
								du groupe.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Output distance details</em></span>
							</p>
						</td><td valign="top">
							<p>Cochez cette case pour ajouter une colonne fixe de sortie <span class="emphasis"><em>MATCHING_DISTANCES</em></span> donnant le d&eacute;tail de la distance
								entre chaque colonne. Cette case devient indisponible lorsque vous
								cochez la case <span class="bold"><strong>Link with a
									tMatchGroupHadoop</strong></span>.</p>
						</td></tr><tr><td><p><span class="italic">Hadoop Properties</span></p>
						<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Indisponible si vous utilisez un lien existant.</p></td></tr></table></div></td><td valign="top"><span class="italic">Property</span></td><td valign="top">
							<p>Si vous souhaitez utiliser une configuration personnalis&eacute;e pour
								Hadoop, renseignez cette table en saisissant la ou les propri&eacute;t&eacute;(s)
								&agrave; personnaliser. Lors de l'ex&eacute;cution, la ou les propri&eacute;t&eacute;s
								personnalis&eacute;e(s) &eacute;crasera(ont) les propri&eacute;t&eacute;s d&eacute;finies pr&eacute;c&eacute;demment
								pour Hadoop.</p>
							<p>Pour plus d'informations concernant les propri&eacute;t&eacute;s requises par
								Hadoop, consultez la documentation Hadoop.</p>
								</td></tr><tr><td>&nbsp;</td><td valign="top"><span class="italic">Value</span></td><td valign="top">
							<p>Saisissez la valeur des propri&eacute;t&eacute;s personnalis&eacute;es utilis&eacute;es pour
								vous connecter &agrave; Hadoop.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Cochez cette case pour collecter les m&eacute;tadonn&eacute;es de process du
								Job, aussi bien au niveau du Job qu&#8217;au niveau de chaque composant.
							</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="bold"><strong>Utilisation</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Ce composant est un composant interm&eacute;diaire. Il requiert un flux
								d&#8217;entr&eacute;e et un flux de sortie. Il requiert &eacute;galement une connexion &agrave;
								Hadoop afin de traiter un grand volume de donn&eacute;es.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Grouper des enregistrements client volumineux en plusieurs passes de correspondance"><div class="titlepage"><div><div><h3 class="title"><a name="ychen-20111205-tMatchGroupHadoop-multiple_passes"></a>Grouper des enregistrements client volumineux en plusieurs passes de correspondance </h3></div></div></div><p>Le Job de ce sc&eacute;nario utilise sept composants pour se connecter au syst&egrave;me Hadoop
			donn&eacute; et regrouper les enregistrements client volumineux via plusieurs passes
			subs&eacute;quentes. L'objectif est de trouver les clients utilisant les m&ecirc;mes noms de famille.
			Chaque passe fournit ses correspondances &agrave; la passe qui suit, afin qu'elle affine ces
			correspondances.</p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-scenario.png" align="middle"></div><p>Les composants de ce Job sont les suivants :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>un <span class="bold"><strong>tFixedFlowInput</strong></span> : fournit les
					enregistrements client &agrave; traiter.</p></li><li class="listitem"><p>deux <span class="bold"><strong>tGenKey</strong></span> : g&eacute;n&egrave;rent les cl&eacute;s pour les
					composants <span class="bold"><strong>tMatchGroupHadoop</strong></span> qui
					suivent.</p></li><li class="listitem"><p>deux <span class="bold"><strong>tMatchGroupHadoop</strong></span> : regroupent les
					enregistrements client ou affinent les groupes d&eacute;finis de correspondance &agrave;
					l'aide du syst&egrave;me Hadoop donn&eacute;. Chaque <span class="bold"><strong>tMatchGroupHadoop</strong></span> d&eacute;finit une passe pour mettre en
					correspondance les enregistrements re&ccedil;us.</p></li><li class="listitem"><p><span class="bold"><strong>tFilterColumns</strong></span>: supprime les colonnes ne
					pr&eacute;sentant pas d'int&eacute;r&ecirc;t dans ce sc&eacute;nario.</p></li><li class="listitem"><p><span class="bold"><strong>tLogRow</strong></span>: pr&eacute;sente les r&eacute;sultats d'ex&eacute;cution
					du Job.</p></li></ul></div><p>Pour reproduire ce sc&eacute;nario, proc&eacute;dez comme dans les sections suivantes.</p><div class="section" title="D&eacute;poser et relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e180738"></a>D&eacute;poser et relier les composants</h4></div></div></div><p>Pour ce faire, effectuez les op&eacute;rations suivantes :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>D&eacute;posez un <span class="bold"><strong>tFixedFlowInput</strong></span>, deux
							<span class="bold"><strong>tGenKey</strong></span>, deux <span class="bold"><strong>tMatchGroupHadoop</strong></span>, un <span class="bold"><strong>tFilterColumns</strong></span> et un <span class="bold"><strong>tLogRow</strong></span> de la <span class="bold"><strong>Palette</strong></span> dans
						l'espace de mod&eacute;lisation graphique.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Un composant utilis&eacute; dans l'espace de travail peut &ecirc;tre nomm&eacute; comme
							vous le souhaitez. Dans ce sc&eacute;nario, le <span class="bold"><strong>tFixedFlowInput</strong></span> est nomm&eacute;
								<span class="emphasis"><em>incoming_customers</em></span>. Pour plus d'informations
							concernant le renommage d'un composant, consultez le <span class="bold"><strong>Guide utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</p></td></tr></table></div></li><li class="listitem"><p>Cliquez-droit sur le <span class="bold"><strong>tFixedFlowInput</strong></span> pour
						ouvrir son menu contextuel et s&eacute;lectionnez <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span> afin de
						relier ce composant au premier <span class="bold"><strong>tGenKey</strong></span>.</p></li><li class="listitem"><p>R&eacute;p&eacute;tez l'op&eacute;ration pour cr&eacute;er un lien <span class="bold"><strong>Main</strong></span> entre le premier <span class="bold"><strong>tGenKey</strong></span> et le premier <span class="bold"><strong>tMatchGroupHadoop</strong></span>, vers le <span class="bold"><strong>tFilterColumns</strong></span>, vers le second <span class="bold"><strong>tGenKey</strong></span> puis vers le second <span class="bold"><strong>tMatchGroupHadoop</strong></span> et vers le <span class="bold"><strong>tLogRow</strong></span>.</p></li></ol></div><p>Les composants du sc&eacute;nario sont tous plac&eacute;s et connect&eacute;s. Vous pouvez les
				configurer. </p></div><div class="section" title="Configurer le flux d'entr&eacute;e pour la premi&egrave;re passe de correspondance"><div class="titlepage"><div><div><h4 class="title"><a name="d0e180822"></a>Configurer le flux d'entr&eacute;e pour la premi&egrave;re passe de correspondance</h4></div></div></div><p>Pour ce faire, proc&eacute;dez comme suit :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tFixedFlowInput</strong></span> pour ouvrir sa vue <span class="bold"><strong>Component</strong></span>.</p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-inputflow.png" align="middle"></div></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du
						champ <span class="bold"><strong>Edit schema</strong></span> pour ouvrir l'&eacute;diteur du
						sch&eacute;ma.</p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-input_schema.png" align="middle"></div></li><li class="listitem"><p>Cliquez huit fois sur le bouton <span class="bold"><strong>[+]</strong></span> pour
						ajouter huit lignes. Ce sont les huit colonnes du sch&eacute;ma d'entr&eacute;e.</p></li><li class="listitem"><p>Renommez ces lignes respectivement <span class="italic">account_num</span>, <span class="italic">lname</span>,
							<span class="italic">fname</span>, <span class="italic">mi</span>, <span class="italic">address1</span>, <span class="italic">city</span>, <span class="italic">state_province</span> et <span class="italic">postal_code</span>.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>Type</strong></span>, s&eacute;lectionnez le
						type de donn&eacute;es des colonnes qui vous int&eacute;ressent. Dans cet exemple,
						s&eacute;lectionnez <span class="bold"><strong>Long</strong></span> pour la colonne <span class="italic">account_num</span>.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>OK</strong></span> pour valider ces
						modifications et acceptez la propagation propos&eacute;e par la bo&icirc;te de
						dialogue.</p></li><li class="listitem"><p>Dans la zone <span class="bold"><strong>Mode</strong></span> de la vue <span class="bold"><strong>Basic settings</strong></span>, s&eacute;lectionnez <span class="bold"><strong>Use Inline Content (delimited file)</strong></span> pour saisir
						les donn&eacute;es d'entr&eacute;e qui vous int&eacute;ressent.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Content</strong></span>, saisissez ou
						collez les donn&eacute;es d'entr&eacute;e &agrave; traiter. Ces donn&eacute;es doivent correspondre au
						sch&eacute;ma d&eacute;fini. Les enregistrements client utilis&eacute;s dans cet exemple sont
						fournis par le Job de d&eacute;mo <span class="italic">D4_hadoop_group_family_multipass</span> que vous pouvez importer
						avec le projet D&eacute;mo DQ. Pour plus d'informations concernant l'import d'un
						projet, consultez le <span class="bold"><strong>Guide utilisateur</strong></span> de
							<span class="bluebold">Talend Enterprise Studio</span>.</p></li><li class="listitem"><p>Double-cliquez sur le premier <span class="bold"><strong>tGenKey</strong></span>
						(nomm&eacute; <span class="italic">lname_postcode</span>) pour ouvrir la vue
							<span class="bold"><strong>Component</strong></span>. </p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-genkey1.png" align="middle"></div></li><li class="listitem"><p>Sous la table <span class="bold"><strong>Algorithm</strong></span>, cliquez sur le
						bouton <span class="bold"><strong>[+]</strong></span> pour ajouter deux lignes.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>column</strong></span>, cliquez sur la
						nouvelle ligne et s&eacute;lectionnez dans la liste la colonne que vous souhaitez
						traiter &agrave; l'aide d'un algorithme. Dans cet exemple, s&eacute;lectionnez
							<span class="emphasis"><em>lname</em></span>.</p></li><li class="listitem"><p>Effectuez la m&ecirc;me op&eacute;ration sur la seconde ligne afin de s&eacute;lectionner
							<span class="emphasis"><em>postal_code</em></span>.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>pre-algorithm</strong></span>, cliquez
						sur la nouvelle ligne et s&eacute;lectionnez dans la liste l'algorithme que vous
						souhaitez appliquer &agrave; la colonne correspondante. Dans cet exemple,
						s&eacute;lectionnez <span class="bold"><strong>remove diacritical marks and upper
							case</strong></span> pour supprimer les marques diacritiques et changer les
						champs de la colonne <span class="italic">lname</span> en majuscules
						avant de g&eacute;n&eacute;rer le code de cette colonne.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>algorithm</strong></span>, cliquez sur la
						nouvelle ligne et s&eacute;lectionnez dans la liste l'algorithme que vous souhaitez
						appliquer &agrave; la colonne correspondante. Dans cet exemple, s&eacute;lectionnez
							<span class="bold"><strong>N first characters of each word</strong></span>.</p></li><li class="listitem"><p>R&eacute;p&eacute;tez l'op&eacute;ration pour la seconde ligne, dans la colonne <span class="bold"><strong>algorithm</strong></span>, s&eacute;lectionnez <span class="bold"><strong>first N characters of the string</strong></span>.</p></li><li class="listitem"><p>Cliquez dans la colonne <span class="bold"><strong>Value</strong></span> &agrave; c&ocirc;t&eacute; de
						la colonne <span class="bold"><strong>algorithm</strong></span> et saisissez la valeur
						pour l'algorithme s&eacute;lectionn&eacute;, si n&eacute;cessaire. Dans ce sc&eacute;nario, saisissez
							<span class="emphasis"><em>1</em></span> pour les deux lignes, ce que signifie que la
						premi&egrave;re lettre de chaque champ dans les colonnes correspondantes sera
						utilis&eacute; pour g&eacute;n&eacute;rer les cl&eacute;s.</p></li></ol></div></div><div class="section" title="Configurer la premi&egrave;re passe"><div class="titlepage"><div><div><h4 class="title"><a name="d0e181012"></a>Configurer la premi&egrave;re passe</h4></div></div></div><p>Pour ce faire, proc&eacute;dez comme suit :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Double-cliquez sur le premier <span class="bold"><strong>tMatchGroupHadoop</strong></span> (nomm&eacute; <span class="italic">pass1</span>) afin d'afficher sa vue <span class="bold"><strong>Component</strong></span>.</p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-pass1.png" align="middle"></div></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Hadoop version</strong></span>,
						s&eacute;lectionnez le syst&egrave;me Hadoop disponible auquel se connecter.</p></li><li class="listitem"><p>Dans la zone <span class="bold"><strong>Hadoop configuration</strong></span>,
						saisissez les informations d'authentification dans les champs correspondants
						: <span class="bold"><strong>Host</strong></span>, <span class="bold"><strong>Port</strong></span> et <span class="bold"><strong>HDFS
						directory</strong></span>.</p></li><li class="listitem"><p>Dans la table <span class="bold"><strong>Key definition</strong></span>, cliquez sur
						le bouton <span class="bold"><strong>[+]</strong></span> pour ajouter &agrave; la liste les
						colonnes sur lesquelles vous souhaitez effectuer l'op&eacute;ration de mise en
						correspondance, <span class="italic">lname</span> dans ce
						sc&eacute;nario.</p></li><li class="listitem"><p>Cliquez sur la premi&egrave;re et la deuxi&egrave;me cellules de la colonne <span class="bold"><strong>Matching type</strong></span> et s&eacute;lectionnez dans la liste
						la/les m&eacute;thode(s) &agrave; utiliser pour l'op&eacute;ration de mise en correspondance,
							<span class="emphasis"><em>Jaro-Winkler</em></span> dans cet exemple.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[+]</strong></span> sous la table
							<span class="bold"><strong>Blocking Definition</strong></span> pour ajouter une
						ligne puis cliquez dans cette ligne et s&eacute;lectionnez dans la liste la colonne
						que vous souhaitez utiliser comme valeur de bloc, <span class="italic">T_GEN_KEY</span> dans cet exemple. </p><p>Utiliser une valeur de bloc r&eacute;duit le nombre de paires d'enregistrements
						n&eacute;cessitant examen. Les donn&eacute;es d'entr&eacute;e sont partitionn&eacute;es en blocs
						exhaustifs bas&eacute;s sur une cl&eacute; fonctionnelle. Cela r&eacute;duit le nombre de paires
						&agrave; comparer, puisque la comparaison est restreinte aux paires
						d'enregistrements &agrave; l'int&eacute;rieur d'un m&ecirc;me bloc. </p></li></ol></div></div><div class="section" title="S&eacute;lectionner les colonnes pour la seconde passe"><div class="titlepage"><div><div><h4 class="title"><a name="d0e181089"></a>S&eacute;lectionner les colonnes pour la seconde passe</h4></div></div></div><p>Le sch&eacute;ma du <span class="bold"><strong>tMatchGroupHadoop</strong></span> comprend
				diff&eacute;rentes colonnes techniques, comme <span class="bold"><strong>GID</strong></span>,
					<span class="bold"><strong>GRP_SIZE</strong></span>, ne pr&eacute;sentant pas d'int&eacute;r&ecirc;t pour la
				seconde passe de correspondance. Vous devez donc utiliser le composant <span class="bold"><strong>tFilterColumns</strong></span> pour supprimer ces colonnes techniques et
				laisser les colonnes contenant les donn&eacute;es &agrave; &eacute;crire en sortie. Pour ce faire,
				proc&eacute;dez comme suit :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Double-cliquez sur le <span class="bold"><strong>tFilterColumns</strong></span> pour
						ouvrir sa vue <span class="bold"><strong>Component</strong></span>.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>Sync columns</strong></span> pour r&eacute;cup&eacute;rer
						le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Si une bo&icirc;te de dialogue vous propose une
						propagation, cliquez sur <span class="bold"><strong>Yes</strong></span> afin
						d'accepter.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du
						champ <span class="bold"><strong>Edit schema</strong></span> pour ouvrir l'&eacute;diteur du
						sch&eacute;ma.</p></li><li class="listitem"><p>Du c&ocirc;t&eacute; <span class="bold"><strong>tFilterColumns</strong></span> de l'&eacute;diteur,
						s&eacute;lectionnez les colonnes <span class="bold"><strong>T_GEN_KEY</strong></span>,
							<span class="bold"><strong>GID</strong></span>, <span class="bold"><strong>GRP_SIZE</strong></span>, <span class="bold"><strong>MASTER</strong></span>, <span class="bold"><strong>SCORE</strong></span> et <span class="bold"><strong>MATCHING_DISTANCE</strong></span> et cliquez sur le bouton <span class="bold"><strong>[X]</strong></span> pour les supprimer.</p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-filter_columns.png" align="middle"></div></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>OK</strong></span> pour valider les
						modifications et accepter la propagation propos&eacute;e par la bo&icirc;te de
						dialogue.</p></li></ol></div></div><div class="section" title="Configurer le flux d'entr&eacute;e pour la seconde passe"><div class="titlepage"><div><div><h4 class="title"><a name="d0e181170"></a>Configurer le flux d'entr&eacute;e pour la seconde passe</h4></div></div></div><p>Pour ce faire, proc&eacute;dez comme suit :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Double-cliquez sur le second <span class="bold"><strong>tGenKey</strong></span>
						(nomm&eacute; <span class="italic">lname_initial</span>) pour ouvrir sa vue
							<span class="bold"><strong>Component</strong></span>. </p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-genkey2.png" align="middle"></div></li><li class="listitem"><p>Sous la table <span class="bold"><strong>Algorithm</strong></span>, cliquez sur le
						bouton <span class="bold"><strong>[+]</strong></span> pour ajouter une ligne.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>column</strong></span>, cliquez sur la
						nouvelle ligne et s&eacute;lectionnez dans la liste la colonne que vous souhaitez
						traiter via un algorithme. Dans cet exemple, s&eacute;lectionnez
							<span class="emphasis"><em>account_num</em></span>.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>algorithm</strong></span>, cliquez sur la
						nouvelle ligne et s&eacute;lectionnez dans la liste l'algorithme que vous souhaitez
						appliquer &agrave; la colonne correspondante. Dans cet exemple, s&eacute;lectionnez
							<span class="bold"><strong>first N characters of the
						string</strong></span>.</p></li><li class="listitem"><p>Cliquez dans la colonne <span class="bold"><strong>Value</strong></span> &agrave; c&ocirc;t&eacute; de
						la colonne <span class="bold"><strong>algorithm</strong></span> et saisissez la valeur
						pour l'algorithme s&eacute;lectionn&eacute;, si besoin. Dans ce sc&eacute;nario, saisissez
							<span class="emphasis"><em>1</em></span>, ce qui signifie que la premi&egrave;re lettre de chaque
						champ dans la colonne correspondante sera utilis&eacute; pour g&eacute;n&eacute;rer les cl&eacute;s
						requises.</p></li></ol></div></div><div class="section" title="Configurer la seconde pass"><div class="titlepage"><div><div><h4 class="title"><a name="d0e181230"></a>Configurer la seconde pass</h4></div></div></div><p>Pour ce faire, proc&eacute;dez comme suit :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Double-cliquez sur le second <span class="bold"><strong>tMatchGroupHadoop</strong></span> (nomm&eacute; <span class="italic">pass2</span>) afin d'afficher sa vue <span class="bold"><strong>Component</strong></span>.</p><div class="mediaobject" align="center"><img src="../images/tmatchgroupHadoop-pass2.png" align="middle"></div></li><li class="listitem"><p>Cochez la case <span class="bold"><strong>Link with a
							tMatchGroupHadoop</strong></span> pour r&eacute;utiliser la connexion au syst&egrave;me
						Hadoop donn&eacute; d&eacute;fini dans le <span class="bold"><strong>tMatchGroupHadoop</strong></span> pr&eacute;c&eacute;dent.</p></li><li class="listitem"><p>Dans la table <span class="bold"><strong>Key definition</strong></span>, cliquez sur
						le bouton <span class="bold"><strong>[+]</strong></span> pour ajouter &agrave; la liste les
						colonnes sur lesquelles vous souhaitez effectuer l'op&eacute;ration de mise en
						correspondance, <span class="italic">lname</span> dans ce
						sc&eacute;nario.</p></li><li class="listitem"><p>Cliquez dans la cellule de la colonne <span class="bold"><strong>Matching
							type</strong></span> et s&eacute;lectionnez dans la liste la/les m&eacute;thode(s) &agrave;
						utiliser pour l'op&eacute;ration de mise en correspondance, <span class="italic">Jaro-Winkler</span> dans cet exemple.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[+]</strong></span> sous la table
							<span class="bold"><strong>Blocking Definition</strong></span> pour ajouter une
						ligne, puis cliquez sur la ligne et s&eacute;lectionnez la colonne que vous
						souhaitez utiliser comme valeur de bloc, <span class="italic">T_GEN_KEY</span> dans cet exemple. Ainsi,  l'op&eacute;ration de mise en
						correspondance est effectu&eacute;e uniquement entre les enregistrements ma&icirc;tre
						ayant la m&ecirc;me cl&eacute;, dans cet exemple le m&ecirc;me caract&egrave;re de d&eacute;part des num&eacute;ros
						de compte. </p></li></ol></div><p>Avec cette passe, ce Job traite les groupes de correspondance fournis par le
				pr&eacute;c&eacute;dent <span class="bold"><strong>tMatchGroupHadoop</strong></span>. Il s&eacute;lectionne les
				groupes ayant un seul enregistrement pour les comparer aux autres enregistrements
				ma&icirc;tre lorsque les deux parties on la m&ecirc;me cl&eacute; g&eacute;n&eacute;r&eacute;e.</p><p>Appuyez sur <span class="bold"><strong>F6</strong></span> pour ex&eacute;cuter votre Job.</p></div></div></div></body></html>