<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tExtractXMLField</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-fr..html" title="Composants Talend Open Studio"><link rel="up" href="ch-xml.html" title="Chapitre&nbsp;22.&nbsp;Composants XML"><link rel="prev" href="tEDIFACTtoXML.html" title="tEDIFACTtoXML"><link rel="next" href="tFileInputXML.html" title="tFileInputXML"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tExtractXMLField</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tEDIFACTtoXML.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><th width="60%" align="center">Chapitre&nbsp;22.&nbsp;Composants XML</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tFileInputXML.html">Suivant</a></td></tr></table><hr></div><div lang="FR" class="section" title="tExtractXMLField"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tExtractXMLField"></a>tExtractXMLField</h2></div></div></div><div class="mediaobject"><img src="../images/tExtractXMLField_icon32.png"></div><a name="Xaa2267741"></a><div class="section" title="Propri&eacute;t&eacute;s du tExtractXMLField"><div class="titlepage"><div><div><h3 class="title"><a name="d42497e283397"></a>Propri&eacute;t&eacute;s du tExtractXMLField</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top"><p><span class="emphasis"><strong>Famille de
                                    composant</strong></span></p>
                        </td><td valign="top"><p>XML</p>
                        </td><td valign="top"> </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Fonction</strong></span></p>
                        </td><td colspan="2" valign="top"><p>Le composant <span class="emphasis"><strong>tExtractXMLField</strong></span> lit la structure XML
                                contenue dans les champs d&#8217;un fichier ou d&#8217;une table et en extrait
                                les donn&eacute;es.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Objectif</strong></span></p>
                        </td><td colspan="2" valign="top"><p>Le <span class="emphasis"><strong>tExtractXMLField</strong></span> lit la structure XML contenue dans
                                les champs d&#8217;un fichier ou d&#8217;une table, r&eacute;cup&egrave;re les donn&eacute;es
                                contenues dans cette structure et les envoie au composant suivant
                                via un lien Row.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Basic
                                settings</strong></span></p>
                        </td><td valign="top"><p><span class="emphasis"><em>Property type</em></span></p>
                        </td><td valign="top"><p>Peut &ecirc;tre Built-in ou Repository. </p>
                            <p lang="fr">Si vous utilisez <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, seul le mode <span class="emphasis"><strong>Built-in</strong></span> est disponible.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Built-in&nbsp;</strong></span>:
                                Propri&eacute;t&eacute;s utilis&eacute;es ponctuellement..</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Repository&nbsp;</strong></span>: S&eacute;lectionnez le
                                fichier de propri&eacute;t&eacute;s du composant. Les champs suivants sont alors
                                pr&eacute;-remplis &agrave; l&#8217;aide des donn&eacute;es collect&eacute;es.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
                                    Schema</em></span></p>
                        </td><td valign="top"><p>Un sch&eacute;ma est une description de lignes, il d&eacute;finit le nombre de champs qui sont trait&eacute;s et
                                pass&eacute;s au composant suivant. Le sch&eacute;ma est soit local (built-in)
                                soit distant dans le Repository.</p>
                            <p lang="fr">Si vous utilisez <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, seul le mode <span class="emphasis"><strong>Built-in</strong></span> est disponible.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Built-in&nbsp;</strong></span>: Le sch&eacute;ma est cr&eacute;&eacute; et conserv&eacute; ponctuellement pour
                                ce composant seulement. Voir &eacute;galement&nbsp;le <span class="emphasis"><em>Guide utilisateur de</em></span>
                                <span class="emphasis"><em>Talend Open Studio</em></span>. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Repository</strong></span>&nbsp;: Le sch&eacute;ma existe
                                d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut &ecirc;tre r&eacute;utilis&eacute;
                                dans divers projets et Job designs. Voir &eacute;galement&nbsp;le <span class="emphasis"><em>Guide utilisateur de</em></span>
                                <span class="emphasis"><em>Talend Open Studio</em></span>.
                            </p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>XML field</em></span></p>
                        </td><td valign="top"><p>Nom du champ XML &agrave; traiter. </p><p>Voir &eacute;galement&nbsp;le <span class="emphasis"><em>Guide utilisateur de</em></span>
                                <span class="emphasis"><em>Talend Open Studio</em></span></p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Loop XPath query</em></span></p>
                        </td><td valign="top"><p>N&#339;ud de l&#8217;arborescence XML sur lequel est bas&eacute; la
                                boucle.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Mapping </em></span></p>
                        </td><td valign="top"><p><span class="emphasis"><strong>Column</strong></span>&nbsp;: refl&egrave;te
                                le sch&eacute;ma tel qu&#8217;il est d&eacute;fini dans l&#8217;&eacute;diteur Edit
                                    Schema.</p><p><span class="emphasis"><strong>XPath
                                    Query&nbsp;</strong></span>: Saisissez les champs &agrave; extraire de la
                                structure Xml d&#8217;entr&eacute;e.</p><p><span class="emphasis"><strong>Get
                                    nodes</strong></span>&nbsp;: Cochez cette case pour r&eacute;cup&eacute;rer le contenu
                                XML de tous les n&#339;uds courants sp&eacute;cifi&eacute;s dans le champ <span class="emphasis"><strong>Xpath Query</strong></span>, ou cochez la case
                                correspondant &agrave; un n&#339;ud sp&eacute;cifique pour ne r&eacute;cup&eacute;rer que le contenu
                                du n&#339;ud s&eacute;lectionn&eacute;.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Limit</em></span></p>
                        </td><td valign="top"><p>Nombre maximum de lignes &agrave; traiter. Si Limit = 0,
                                aucune ligne n&#8217;est lue ou trait&eacute;e.</p>
                        </td></tr><tr><td><p>&nbsp;</p>
                        </td><td valign="top"><p><span class="emphasis"><em>Die on error</em></span></p>
                        </td><td valign="top"><p>Cette case est coch&eacute;e par d&eacute;faut et stoppe le Job
                                en cas d&#8217;erreur. D&eacute;cochez cette case pour terminer le traitement
                                avec les lignes sans erreurs, et ignorer les lignes en erreur. Vous
                                pouvez r&eacute;cup&eacute;rer les lignes en erreur, si vous le souhaitez. Pour
                                cela, utilisez un lien <span class="emphasis"><strong>Row</strong></span> &gt;
                                    <span class="emphasis"><strong>Reject</strong></span>.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Advanced
                                settings</strong></span></p>
                        </td><td valign="top"><p><span class="emphasis"><em>tStatCatcher
                                Statistics</em></span></p>
                        </td><td valign="top"><p>Cochez cette case pour collecter les donn&eacute;es de
                                log du Job, aussi bien au niveau du Job qu&#8217;au niveau de chaque
                                composant. </p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Utilisation</strong></span></p>
                        </td><td colspan="2" valign="top"><p>Ce composant doit &ecirc;tre
                                utilis&eacute; en composant interm&eacute;diaire. Il n&eacute;cessite donc un composant
                                d&#8217;entr&eacute;e et de sortie. Il permet d'extraire des donn&eacute;es d'un champ
                                d&eacute;limit&eacute; &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span>
                                &gt; <span class="emphasis"><strong>Main</strong></span>, et permet de cr&eacute;er un
                                flux de rejet avec un lien <span class="emphasis"><strong>Row</strong></span> &gt;
                                    <span class="emphasis"><strong>Reject</strong></span>, filtrant les donn&eacute;es
                                dont le type ne correspond pas au type d&eacute;fini.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top"><p>n/a</p>
                        </td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;1&nbsp;: Extraire les donn&eacute;es XML d&#8217;un champ d&#8217;une table de base de donn&eacute;es"><div class="titlepage"><div><div><h3 class="title"><a name="d42497e283715"></a>Sc&eacute;nario&nbsp;1&nbsp;: Extraire les donn&eacute;es XML d&#8217;un champ d&#8217;une table de base de
            donn&eacute;es</h3></div></div></div><p>Ce sc&eacute;nario est compos&eacute; de trois composants et permet de lire la structure XML
            contenue dans les champs d&#8217;une base de donn&eacute;es et d&#8217;en extraire les donn&eacute;es.</p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField1.png"></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Glissez les composants <span class="emphasis"><strong>tMysqlInput</strong></span> de la
                    famille <span class="emphasis"><strong>Database</strong></span> &gt; <span class="emphasis"><strong>Mysql</strong></span>, <span class="emphasis"><strong>tExtractXMLField</strong></span> de la
                    famille <span class="emphasis"><strong>Xml</strong></span> et un composant <span class="emphasis"><strong>tFileOutputDelimited</strong></span> de la famille <span class="emphasis"><strong>File</strong></span> &gt; <span class="emphasis"><strong>Output</strong></span> de
                    la <span class="emphasis"><strong>Palette</strong></span> dans le Job designer.</p><p>Reliez les composants entre eux via des connexions de type <span class="emphasis"><strong>Main</strong></span> &gt; <span class="emphasis"><strong>Row</strong></span>.</p></li><li class="step" title="&Eacute;tape 2"><p>Double-cliquez sur le composant <span class="emphasis"><strong>tMysqlInput</strong></span>
                    pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet <span class="emphasis"><strong>Basic
                        settings</strong></span> de la vue <span class="emphasis"><strong>Component</strong></span>&nbsp;:
                </p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField2.png"></div></li><li class="step" title="&Eacute;tape 3"><p>Si votre sch&eacute;ma est d&eacute;j&agrave; stock&eacute; sous le n&#339;ud <span class="emphasis"><strong>Db Connections</strong></span> dans le <span class="emphasis"><strong>Repository</strong></span>, s&eacute;lectionnez l&#8217;option <span class="emphasis"><strong>Repository</strong></span> dans le champ<span class="emphasis"><strong> Schema</strong></span>
                    puis choisissez les m&eacute;tadonn&eacute;es appropri&eacute;es &agrave; partir de la liste. </p><p>Pour plus d'informations concernant le stockage  des
                    m&eacute;tadonn&eacute;es de sch&eacute;ma dans la vue Repository, consultez le <span class="emphasis"><em>Guide utilisateur de Talend Open Studio</em></span>.</p><p><span>Si vous n&#8217;avez encore d&eacute;fini aucun sch&eacute;ma,
                        s&eacute;lectionnez l&#8217;option <span class="emphasis"><strong>Built-in</strong></span> dans les
                        listes <span class="emphasis"><strong>Schema</strong></span> et <span class="emphasis"><strong>Property Type</strong></span> et saisissez</span> manuellement les informations de
                    connexion et la structure des donn&eacute;es dans un sch&eacute;ma. Pour plus d&#8217;informations
                    sur les propri&eacute;t&eacute;s du composant <span class="emphasis"><strong>tMysqlInput</strong></span>,
                    consultez <a class="xref" href="tMysqlInput.html" title="tMysqlInput">la section intitul&eacute;e &laquo;&nbsp;tMysqlInput&nbsp;&raquo;</a>.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="emphasis"><strong>Table Name</strong></span>, saisissez le nom de
                    la table dont les champs contiennent les donn&eacute;es XML. Dans ce sc&eacute;nario, la table
                    se nomme <span class="emphasis"><em>customerdetails</em></span> et ne contient qu&#8217;une seule
                    colonne.</p></li><li class="step" title="&Eacute;tape 5"><p>Cliquez sur le bouton <span class="emphasis"><strong>Guess Query</strong></span> pour
                    r&eacute;cup&eacute;rer la requ&ecirc;te correspondant &agrave; votre sch&eacute;ma.</p></li><li class="step" title="&Eacute;tape 6"><p>Dans le Job designer, double-cliquez sur le composant <span class="emphasis"><strong>tExtractXMLField</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet
                        <span class="emphasis"><strong>Basic settings</strong></span>. </p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField3.png"></div></li><li class="step" title="&Eacute;tape 7"><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
                    r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur le bouton
                        <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ <span class="emphasis"><strong>Edit schema</strong></span> pour consulter le sch&eacute;ma.</p><p>La colonne <span class="emphasis"><strong>Column</strong></span> du tableau <span class="emphasis"><strong>Mapping</strong></span> sera automatiquement renseign&eacute;e avec la
                    description du fichier que vous avez configur&eacute;.</p></li><li class="step" title="&Eacute;tape 8"><p>Dans la liste <span class="emphasis"><strong>Xml field</strong></span>, s&eacute;lectionnez la
                    colonne dont vous souhaitez extraire le contenu XML. La colonne se nomme
                        <span class="emphasis"><em>CustomerDetails</em></span> et est l&#8217;unique colonne de la table
                        <span class="emphasis"><em>customerdetails</em></span>.</p><p>Dans le champ <span class="emphasis"><strong>Loop XPath query</strong></span>, saisissez le
                    n&#339;ud de l&#8217;arborescence sur lequel effectuer la boucle afin de r&eacute;cup&eacute;rer les
                    donn&eacute;es.</p><p>Dans la colonne <span class="emphasis"><strong>Xpath query</strong></span>, saisissez entre
                    guillemet le n&#339;ud du champ XML contenant les donn&eacute;es que vous voulez extraire.
                    Dans ce sc&eacute;nario, l&#8217;objectif est d&#8217;extraire les noms des clients, saisissez donc
                        <span class="emphasis"><em>&#8220;CustomerName&#8221;</em></span> qui correspond &agrave; l&#8217;&eacute;l&eacute;ment XML contenant
                    cette information.</p></li><li class="step" title="&Eacute;tape 9"><p>Dans le Job designer, double-cliquez sur le composant <span class="emphasis"><strong>tFileOutputDelimited</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans
                    l&#8217;onglet <span class="emphasis"><strong>Basic settings</strong></span>. </p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField4.png"></div></li><li class="step" title="&Eacute;tape 10"><p>Dans le champ <span class="emphasis"><strong>File Name</strong></span>, indiquez le
                    r&eacute;pertoire et le nom du fichier de sortie. Pour ce sc&eacute;nario, appelez le fichier
                        <span class="emphasis"><em>CustomerNames.csv</em></span>.</p><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
                    r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur le
                        bouton<span class="emphasis"><strong> [...]</strong></span> &agrave; c&ocirc;t&eacute; du champ <span class="emphasis"><strong>Edit schema</strong></span> pour consulter le sch&eacute;ma.</p></li><li class="step" title="&Eacute;tape 11"><p>Enregistrez le Job et appuyez sur <span class="emphasis"><strong>F6</strong></span> pour
                    l&#8217;ex&eacute;cuter. </p></li></ol></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField5.png"></div><p>Le Job retourne les noms des clients contenus sous le n&#339;ud <code class="code">CustomerName</code>
            du champ <span class="emphasis"><em>CustomerDetails</em></span> de la table. </p></div><div class="section" title="Sc&eacute;nario&nbsp;2&nbsp;: Extraire les donn&eacute;es valides et les donn&eacute;es erron&eacute;es &agrave; partir d&#8217;un champ XML dans fichier d&eacute;limit&eacute;"><div class="titlepage"><div><div><h3 class="title"><a name="d42497e283936"></a>Sc&eacute;nario&nbsp;2&nbsp;: Extraire les donn&eacute;es valides et les donn&eacute;es erron&eacute;es &agrave; partir d&#8217;un champ
            XML dans fichier d&eacute;limit&eacute;</h3></div></div></div><p>Ce sc&eacute;nario est compos&eacute; de quatre composants et permet de lire la structure XML
            contenue dans les champs d&#8217;un fichier d&eacute;limit&eacute;, d&#8217;en extraire les donn&eacute;es et de rejeter
            les donn&eacute;es erron&eacute;es.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>A partir de la <span class="emphasis"><strong>Palette</strong></span>, glissez dans le Job
                    designer les composants <span class="emphasis"><strong>tFileInputDelimited</strong></span> de
                    la famille <span class="emphasis"><strong>File</strong></span> &gt; <span class="emphasis"><strong>Input</strong></span>, <span class="emphasis"><strong>tExtractXMLField</strong></span> de la
                    famille <span class="emphasis"><strong>Xml</strong></span>, <span class="emphasis"><strong>tFileOutputDelimited</strong></span> de la famille <span class="emphasis"><strong>File</strong></span> &gt; <span class="emphasis"><strong>Output</strong></span> et <span class="emphasis"><strong>tLogRow</strong></span> de la famille <span class="emphasis"><strong>Logs
                        &amp; Errors</strong></span>.</p><p>Connectez les trois premiers composants &agrave; l'aide de liens <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span></p><p>Reliez le <span class="emphasis"><strong>tExtractXMLField</strong></span> au <span class="emphasis"><strong>tLogRow</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Reject</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField6.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Double-cliquez sur le composant <span class="emphasis"><strong>tFileInputDelimited</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet
                        <span class="emphasis"><strong>Basic settings</strong></span>. </p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField7.png"></div></li><li class="step" title="&Eacute;tape 3"><p>S&eacute;lectionnez l&#8217;option <span class="emphasis"><strong>Built-in</strong></span> &agrave; partir de la liste d&eacute;roulante <span class="emphasis"><strong>Schema</strong></span> et renseignez manuellement les informations concernant le
                    fichier d&eacute;limit&eacute; dans les champs correspondants. </p><p>Cliquez sur le bouton<span class="emphasis"><strong> [...] </strong></span>&agrave; c&ocirc;t&eacute; du champ
                        <span class="emphasis"><strong>Edit schema</strong></span> pour afficher la bo&icirc;te de
                    dialogue permettant de d&eacute;finir la structure des donn&eacute;es, comme pr&eacute;sent&eacute;
                    ci-dessus.</p><p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter autant
                    de lignes que n&eacute;cessaire &agrave; la structure des donn&eacute;es. Dans cet exemple, il n&#8217;y a
                    qu&#8217;une seule colonne dans le sch&eacute;ma&nbsp;: <span class="emphasis"><em>xmlStr</em></span>.</p><p>Cliquez sur <span class="emphasis"><strong>OK</strong></span> pour valider vos changements
                    et fermer la bo&icirc;te de dialogue. </p></li><li class="step" title="&Eacute;tape 4"><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Si vous avez pr&eacute;alablement stock&eacute; votre sch&eacute;ma dans le r&eacute;pertoire
                            <span class="emphasis"><strong>Metadata</strong></span> sous <span class="emphasis"><strong>File delimited</strong></span>, s&eacute;lectionnez l&#8217;option <span class="emphasis"><strong>Repository</strong></span> dans la liste d&eacute;roulante <span class="emphasis"><strong>Schema</strong></span> puis cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ pour afficher la bo&icirc;te de dialogue
                            <span class="emphasis"><strong>[Repository Content]</strong></span> &agrave; partir de
                        laquelle vous pouvez s&eacute;lectionner un sch&eacute;ma pertinent. Cliquez sur <span class="emphasis"><strong>OK </strong></span>pour fermer la bo&icirc;te de dialogue et remplir
                        les champs automatiquement avec les m&eacute;tadonn&eacute;es contenues dans le sch&eacute;ma. </p><p>Pour plus d&#8217;informations sur le stockage des sch&eacute;mas de m&eacute;tadonn&eacute;es dans
                        le <span class="emphasis"><strong>Repository</strong></span>, consultez le <span class="emphasis"><em>Guide utilisateur de</em></span>
                        <span class="emphasis"><em>Talend Open Studio</em></span>. </p></div></li><li class="step" title="&Eacute;tape 5"><p>Dans le champ <span class="emphasis"><strong>File Name</strong></span>, renseignez le chemin
                    d&#8217;acc&egrave;s ou cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> pour
                    parcourir vos dossiers jusqu&#8217;au fichier &agrave; traiter. Dans cet exemple, il s&#8217;agit
                    du fichier <span class="emphasis"><em>CustomerDetails_Error</em></span>.</p><p>Ce fichier csv stock&eacute; localement contient une suite de lignes simples au
                    format XML, s&eacute;par&eacute;es par un double retour chariot.</p><p>Dans le champ <span class="emphasis"><strong>Row Separator</strong></span>, renseignez le
                    s&eacute;parateur de lignes, ici le double retour chariot. Dans le champ <span class="emphasis"><strong>Field Separator</strong></span>, renseignez le s&eacute;parateur de champ,
                    aucun ici. </p><p>Dans cet exemple, il n&#8217;y a pas d&#8217;en-t&ecirc;te (<span class="emphasis"><strong>Header</strong></span>), de pied de page (<span class="emphasis"><strong>Footer</strong></span>) ou de nombre limite de lignes &agrave; traiter (<span class="emphasis"><strong>Limit</strong></span>).</p></li><li class="step" title="&Eacute;tape 6"><p>Dans l&#8217;espace graphique, double-cliquez sur le composant <span class="emphasis"><strong>tExtractXMLField</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet
                        <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_textractxmlfield8.png"></div></li><li class="step" title="&Eacute;tape 7"><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
                    r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur le bouton
                        <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ <span class="emphasis"><strong>Edit schema</strong></span> pour consulter le sch&eacute;ma ou le modifier. </p><p>La colonne <span class="emphasis"><strong>Column</strong></span> du tableau <span class="emphasis"><strong>Mapping</strong></span> sera automatiquement renseign&eacute;e avec lae
                    sch&eacute;ma d&eacute;fini.</p></li><li class="step" title="&Eacute;tape 8"><p>Dans la liste <span class="emphasis"><strong>Xml field</strong></span>, s&eacute;lectionnez la
                    colonne dont vous souhaitez extraire le contenu XML. Dans cet exemple, la
                    colonne se nomme <span class="emphasis"><em>xmlStr</em></span>.</p><p>Dans le champ <span class="emphasis"><strong>Loop XPath query</strong></span>, saisissez le
                    n&#339;ud de l&#8217;arborescence sur lequel effectuer la boucle afin de r&eacute;cup&eacute;rer les
                    donn&eacute;es.</p></li><li class="step" title="&Eacute;tape 9"><p>Dans le Job designer, double-cliquez sur le composant <span class="emphasis"><strong>tFileOutputDelimited</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans
                    l&#8217;onglet <span class="emphasis"><strong>Basic settings</strong></span>. </p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField9.png"></div></li><li class="step" title="&Eacute;tape 10"><p>Dans le champ <span class="emphasis"><strong>File Name</strong></span>, indiquez le
                    r&eacute;pertoire et le nom du fichier de sortie. Pour ce sc&eacute;nario, appelez le fichier
                        <span class="emphasis"><em>CustomerNames_right.csv</em></span>.</p><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
                    r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur le bouton
                        <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ <span class="emphasis"><strong>Edit schema</strong></span> pour consulter le sch&eacute;ma ou le modifier.</p></li><li class="step" title="&Eacute;tape 11"><p>Dans le Job designer, double-cliquez sur le composant <span class="emphasis"><strong>tLogRow</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet <span class="emphasis"><strong>Basic settings</strong></span> de la vue <span class="emphasis"><strong>Component</strong></span>.</p></li><li class="step" title="&Eacute;tape 12"><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync Columns</strong></span> pour
                    r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Pour plus d&#8217;informations sur le
                    composant <span class="emphasis"><strong>tLogRow</strong></span>, consultez <a class="xref" href="tLogRow.html" title="tLogRow">la section intitul&eacute;e &laquo;&nbsp;tLogRow&nbsp;&raquo;</a>. </p></li><li class="step" title="&Eacute;tape 13"><p>Enregistrez le Job et appuyez sur <span class="emphasis"><strong>F6</strong></span> pour
                    l&#8217;ex&eacute;cuter. </p></li></ol></div><div class="mediaobject"><img src="../images/use_case_textractxmlfield10.png"></div><p>Le composant <span class="emphasis"><strong>tExtractXMLField</strong></span> lit et extrait dans un
            fichier d&eacute;limit&eacute; en sortie, <span class="emphasis"><em>CustomerNames_right</em></span> dans cet exemple,
            les informations concernant les clients dont la structure XML est correcte, et affiche
            les lignes erron&eacute;es dans la console de log. </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tEDIFACTtoXML.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-xml.html">Niveau sup&eacute;rieur</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tFileInputXML.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">tEDIFACTtoXML&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-fr..html">Sommaire</a></td><td width="40%" align="right" valign="top">&nbsp;tFileInputXML</td></tr></table></div></body></html>