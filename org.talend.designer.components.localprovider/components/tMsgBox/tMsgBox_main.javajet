<%@ jet 
	imports="
		org.talend.core.model.process.INode 
		org.talend.core.model.process.ElementParameterParser
		org.talend.designer.codegen.config.CodeGeneratorArgument
	"
%>

<%
	CodeGeneratorArgument codeGenArgument = (CodeGeneratorArgument) argument;
	INode node = (INode)codeGenArgument.getArgument();
	String cid = node.getUniqueName();
	
	boolean isPromptQuestion=ElementParameterParser.getValue(node, "__PROMPT_QUESTION__").equals("true");
	int button = Integer.parseInt(ElementParameterParser.getValue(node, "__BUTTONS__"));	
%>
	int messageIcon<%=cid %> = javax.swing.JOptionPane.<%=ElementParameterParser.getValue(node, "__ICON__") %>;
	String title<%=cid %> = <%=ElementParameterParser.getValue(node, "__TITLE__") %>;
	String message<%=cid %> = <%=ElementParameterParser.getValue(node, "__MESSAGE__") %>;
	String result<%=cid %> = null;

<% if(isPromptQuestion){

%>
   
   String question_<%=cid %> = <%=ElementParameterParser.getValue(node, "__QUESTION_LABEL__") %>;
   String variableValue_<%=cid %>=null;
   
   variableValue_<%=cid %>=javax.swing.JOptionPane.showInputDialog(null, question_<%=cid %> , "Please input a value for question", javax.swing.JOptionPane.QUESTION_MESSAGE);
      
  
   globalMap.put("<%=cid%>_RESULT", variableValue_<%=cid %>);

   
<% }
else{
%>   	
	
<%
	switch(button) {
		case 0:
		// 0) OK
%>
		javax.swing.JOptionPane.showMessageDialog(null, message<%=cid %>, title<%=cid %>, messageIcon<%=cid %>);
		result<%=cid %> = String.valueOf(1);
<%
			break;
		case 1:
		// 1) OK and Cancel
%>
		//javax.swing.JOptionPane.showOptionDialog(null, message<%=cid %>, title<%=cid %>, javax.swing.JOptionPane.YES_NO_OPTION, messageIcon<%=cid %>, null, new String[] { "OK", "Cancel" }, null);
		//result<%=cid %> = 1;
		
		result<%=cid %> = String.valueOf(javax.swing.JOptionPane.showOptionDialog(null, message<%=cid %>, title<%=cid %>, javax.swing.JOptionPane.OK_CANCEL_OPTION, messageIcon<%=cid %>, null, new String[] { "OK", "Cancel" }, null));
<%
			break;
		case 2:
		// 2) Abort Retry Ignore
%>
		result<%=cid %> = String.valueOf(javax.swing.JOptionPane.showOptionDialog(null, message<%=cid %>, title<%=cid %>, javax.swing.JOptionPane.YES_NO_CANCEL_OPTION, messageIcon<%=cid %>, null, new String[] { "Abort", "Retry", "Ignore" }, null));
<%
			break;
		case 3:
		// 3) Yes No and Cancel
%>
		result<%=cid %> = String.valueOf(javax.swing.JOptionPane.showOptionDialog(null, message<%=cid %>, title<%=cid %>, javax.swing.JOptionPane.YES_NO_CANCEL_OPTION, messageIcon<%=cid %>, null, new String[] { "Yes", "No", "Cancel" }, null));
<%
			break;
		case 4:
		// 4) Yes and No
%>
		result<%=cid %> = String.valueOf(javax.swing.JOptionPane.showOptionDialog(null, message<%=cid %>, title<%=cid %>, javax.swing.JOptionPane.YES_NO_OPTION, messageIcon<%=cid %>, null, new String[] { "Yes", "No" }, null));
<%
			break;
		case 5:
		// 5) Retry and Cancel
%>
		result<%=cid %> = String.valueOf(javax.swing.JOptionPane.showOptionDialog(null, message<%=cid %>, title<%=cid %>, javax.swing.JOptionPane.YES_NO_OPTION, messageIcon<%=cid %>, null, new String[] { "Retry", "Cancel" }, null));
<%
			break;
		default:
			//do nothing
			break;
	}
%>

globalMap.put("<%=cid%>_RESULT", result<%=cid %>);

<% 
}
%>
