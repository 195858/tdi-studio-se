<%@ jet 
imports="
    org.talend.core.model.process.INode 
    org.talend.core.model.process.ElementParameterParser
    org.talend.designer.codegen.config.CodeGeneratorArgument
" 
%>

<%
CodeGeneratorArgument codeGenArgument = (CodeGeneratorArgument) argument;
INode node = (INode)codeGenArgument.getArgument();
String cid = node.getUniqueName();

String loopType = ElementParameterParser.getValue(node, "__LOOPTYPE__");

if(loopType.equals("FORLOOP")){// For type

String from = ElementParameterParser.getValue(node, "__FROM__");
if (from.equals("")) from = "1";
String to   = ElementParameterParser.getValue(node, "__TO__");
if (to.equals("")) to = "1";
String step   = ElementParameterParser.getValue(node, "__STEP__");
if (step.equals("")) step = "1";
%>

for(int loop<%=cid%> =<%=from%>; loop<%=cid%><<%=to%>; loop<%=cid%>=loop<%=cid%>+<%=step%>){

<%
}else{// While type

String condition = ElementParameterParser.getValue(node, "__CONDITION__");
condition = condition.substring(1,condition.length()-1);
String declaration = ElementParameterParser.getValue(node, "__DECLARATION__");
declaration = declaration.substring(1,declaration.length()-1);

%>

<%=declaration%>;

while(<%=condition%>){



<%
}
%>
