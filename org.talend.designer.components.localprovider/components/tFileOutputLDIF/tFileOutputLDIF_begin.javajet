<%@ jet 
package="org.talend.designer.codegen.translators" 
imports="
		org.talend.core.model.process.INode 
		org.talend.core.model.process.ElementParameterParser 
		org.talend.core.model.metadata.IMetadataTable
		org.talend.designer.codegen.config.CodeGeneratorArgument
		java.util.List
	" 
class="FileOutputLDIFBegin" 
%>
<%
CodeGeneratorArgument codeGenArgument = (CodeGeneratorArgument) argument;
INode node = (INode)codeGenArgument.getArgument();

List<IMetadataTable> metadatas = node.getMetadataList();
if ((metadatas!=null)&&(metadatas.size()>0)) {
    IMetadataTable metadata = metadatas.get(0);
    if (metadata!=null) {
        // component id        
        String cid = node.getUniqueName();
        String wrap = ElementParameterParser.getValue(node, "__WRAP__");
        String filename = ElementParameterParser.getValue(node, "__FILENAME__");       
%>
		int nb_line_<%=cid %> = 0;
		final String dn_<%=cid %> = "dn: ";
		final String changetype_<%=cid %> = "changetype: ";
		final int wrap_<%=cid %> = <%=wrap %>;

       	java.io.PrintWriter pw_<%=cid %> = new java.io.PrintWriter(new java.io.FileOutputStream(<%=filename %>));
<%
  }
}  
%>