<COMPONENT>
   <HEADER NAME="tDBSQL" ID="" DISPLAY_NAME="Database SQL" PLATEFORM="WIN32" SERIAL="" VERSION="0.101" STATUS="ALPHA" ICON="tDBSQL32.ico" COMPATIBILITY="WIN32" AUTHOR="talend" RELEASE_DATE="20050320A" FAMILY="Database">
      <SIGNATURE></SIGNATURE>
   </HEADER>
   <DISPLAY>
      <POSITION LEFT="100" TOP="100" WIDTH="49" HEIGHT="49"/>
      <LABEL FORMAT="label : __NAME__" VALUE="" SHOW="true" DEFAULT=""/>
      <HINT FORMAT="hint : __NAME__" VALUE="" SHOW="false" DEFAULT=""/>
   </DISPLAY>
   <DOCUMENTATION>
      <URL/>
   </DOCUMENTATION>
   <CODE LANGUAGE="Perl" LOCALISATION="INTERNAL" URI=".">
      <VALUE/>
      
      <CALL><![CDATA[
my ($e_current_row) = (@_);
my $mResult = &tDBSQLRow(
  \%__NAME___DD,
  $e_current_row,
  __SQL__,
  [__WHILECODE__]);
]]></CALL>
      <CALLREF UNIT="dbs.pm"><![CDATA[__NAME___DD = (
 type     => 'output',      
 dbi      => '__DBI__',
 database => __DATABASE__,
 host     => __HOST__,
 username => __USERNAME__,
 password => __PASSWORD__);
]]></CALLREF>
   </CODE>
   <CONNECTORS>
      <CONNECTOR DIRECTION="IN" CTYPE="START" DISPLAY_NAME="Start">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="BEFORE" DISPLAY_NAME="Before">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (FirstRow)</OTYPE>
         </OTYPES>
         <CONNECTIONS>
            <TO COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <TO COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <FROM COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <FROM COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
         </CONNECTIONS>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="AFTER" DISPLAY_NAME="After">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="OK" DISPLAY_NAME="Ok">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
            <OTYPE>TErrorNumber</OTYPE>
            <OTYPE>TErrorMessage</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="ERROR" DISPLAY_NAME="Error">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
            <OTYPE>TErrorNumber</OTYPE>
            <OTYPE>TErrorMessage</OTYPE>
         </OTYPES>
      </CONNECTOR>
   </CONNECTORS>
   <PARAMETERS>
      <PARAMETER NAME="DBI" DISPLAY_NAME="Database Driver" TYPE="STRING" FIELD="CLOSED_LIST" SHOW="YES" REQUIRED="No" DEFAULT="MySql">
         <VALUE>Mysql</VALUE>
         <ITEMS>
            <ITEM VALUE="MySql" IID="DBI:mysql"/>
            <ITEM VALUE="Oracle" IID="DBI:oracle"/>
            <ITEM VALUE="SQLServer" IID="DBI:sqlserver"/>
         </ITEMS>
      </PARAMETER>
      <PARAMETER NAME="DATABASE" DISPLAY_NAME="Database" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'test'" READONLY="FALSE">
         <VALUE/>
      </PARAMETER>
      <PARAMETER NAME="HOST" DISPLAY_NAME="Host" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'localhost'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="USERNAME" DISPLAY_NAME="Username" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'root'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="PASSWORD" DISPLAY_NAME="Password" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'lapins'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="SQL" DISPLAY_NAME="SQL" TYPE="STRING" FIELD="MEMOSQL" SHOW="YES" REQUIRED="No" DEFAULT="'truncate table foo_dest'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>

      <PARAMETER NAME="WHILECODE" DISPLAY_NAME="While Call" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="\&amp;tNothing" READONLY="TRUE">
         <VALUE>''</VALUE>
      </PARAMETER>



   </PARAMETERS>
   <RETURNS>
      <RETURN NAME="FILENAME" DISPLAY_NAME="Current Row" TYPE="STRING" AVAILABILITY="In Row" CODE="$gv{tFileInput}{Row}"/>
      <RETURN NAME="FILECOUNT" DISPLAY_NAME="Number of row" TYPE="STRING" AVAILABILITY="After" CODE="$gv{tFileInput}{Count}"/>
      <RETURN NAME="ERROR_CODE" DISPLAY_NAME="Error Code" TYPE="INTEGER" AVAILABILITY="After" CODE="$gv{tFileInput}{Error}{Code}"/>
      <RETURN NAME="ERROR_MESSAGE" DISPLAY_NAME="Error Message" TYPE="STRING" AVAILABILITY="After" CODE="$gv{tFileInput}{Error}{Message}"/>
   </RETURNS>
</COMPONENT>