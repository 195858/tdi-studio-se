<COMPONENT>
   <HEADER NAME="tMap" ID="" DISPLAY_NAME="Mapping component" PLATEFORM="ALL" SERIAL="" VERSION="0.101" STATUS="ALPHA" ICON="tMap32.ico" COMPATIBILITY="WIN32" AUTHOR="talend" RELEASE_DATE="20050320A" FAMILY="Processing">
      <SIGNATURE></SIGNATURE>
   </HEADER>
   <DISPLAY>
      <POSITION LEFT="100" TOP="100" WIDTH="49" HEIGHT="49"/>
      <LABEL FORMAT="label : __NAME__" VALUE="" SHOW="true" DEFAULT=""/>
      <HINT FORMAT="hint : __NAME__" VALUE="" SHOW="false" DEFAULT=""/>
   </DISPLAY>
   <DOCUMENTATION>
      <URL/>
   </DOCUMENTATION>
   <CODE LANGUAGE="Perl" LOCALISATION="INTERNAL" URI=".">
      <VALUE/>
      <CALL><![CDATA[
my %resultmap = EvalMaps(\%map1);
  talend::filesOp::WriteOutputFile( \%OutputFile1,
                               $resultmap{o1_map},
                               $o1_map{_order} ) if ( PassThrough('o1_map', \%resultmap, \%map1) == 1);
]]></CALL>
      <CALLREF UNIT="maps.pm"><![CDATA[
__NAME___FD = (
 type           => 'input',
 filename       => __FILENAME__,
 filehandle     => __NAME___FH,
 rowseparator   => __ROWSEPARATOR__,
 fieldseparator => __FIELDSEPARATOR__,
 includeheader  => 0,
 startatline    => __STARTATLINE__,
 debug          => 0,
 columns        => __COLUMNS__);
]]></CALLREF>
   </CODE>
   <CONNECTORS>
      <CONNECTOR DIRECTION="IN" CTYPE="START" DISPLAY_NAME="Start">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="BEFORE" DISPLAY_NAME="Before">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (FirstRow)</OTYPE>
         </OTYPES>
         <CONNECTIONS>
            <TO COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <TO COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <FROM COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <FROM COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
         </CONNECTIONS>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="AFTER" DISPLAY_NAME="After">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="OK" DISPLAY_NAME="Ok">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
            <OTYPE>TErrorNumber</OTYPE>
            <OTYPE>TErrorMessage</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="ERROR" DISPLAY_NAME="Error">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
            <OTYPE>TErrorNumber</OTYPE>
            <OTYPE>TErrorMessage</OTYPE>
         </OTYPES>
      </CONNECTOR>
   </CONNECTORS>
   <PARAMETERS>
   
      <PARAMETER NAME="MAP" DISPLAY_NAME="Map" TYPE="MAP_EDITOR" FIELD="MAP_EDITOR" SHOW="YES" REQUIRED="No" DEFAULT="Map Editor" READONLY="TRUE">
         <VALUE/>
					<STORAGE>
					<![CDATA[
					         
					<Mapping Name='mymapping'>
					<Maps>
					  <Map table='i1' active='true' expand='true' height='158' position='tfLeft' order='1'>
					    <MColumns>
					       <MColumn Name='id'      Comment=''></MColumn>
					       <MColumn Name='name'    Comment=''></MColumn>
					       <MColumn Name='addr1'   Comment=''></MColumn>
					       <MColumn Name='state'   Comment=''></MColumn>       
					       <MColumn Name='id2'     Comment=''></MColumn>       
					       <MColumn Name='RegTime' Comment=''></MColumn>       
					    </MColumns>
					
					  <Schema>
					    <Columns>          
					      <Column Name='id'      Key='true'  Type='integer'  Nullable='false' Length = '0'  Precision='0' default='' Comment='' />
					      <Column Name='name'    Key='false' Type='varchar2' Nullable='true'  Length = '40' Precision='0' default='' Comment='' />
					      <Column Name='addr1'   Key='false' Type='varchar2' Nullable='true'  Length = '40' Precision='0' default='' Comment='' />
					      <Column Name='state'   Key='false' Type='varchar2' Nullable='true'  Length = '40' Precision='0' default='' Comment='' />
					      <Column Name='id2'     Key='false' Type='varchar2' Nullable='true'  Length = '10' Precision='0' default='' Comment='' />
					      <Column Name='RegTime' Key='false' Type='datetime' Nullable='true'  Length = '0'  Precision='0' default='' Comment='' />
					    </Columns>
					  </Schema>  
					  </Map>

					  <Map table='c1' active='true' expand='false' height='0' position='tfCenter' order='1'>
					    <MColumns>
					    </MColumns>
		
					  <Schema>
					    <Columns />
					  </Schema>  
					  </Map>
			
					</Maps>
					</Mapping>
					
					]]> 
					</STORAGE>  
         
         
      </PARAMETER>
      <PARAMETER NAME="WHILECODE" DISPLAY_NAME="While Call" TYPE="STRING" FIELD="TEXT" SHOW="NO" REQUIRED="No" DEFAULT="\&amp;tNothing" READONLY="TRUE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="MAPSTORE" DISPLAY_NAME="MapStore" TYPE="STRING" FIELD="TEXT" SHOW="NO" REQUIRED="No" DEFAULT="" READONLY="TRUE">
         <VALUE></VALUE>
         <STORAGE/>
      </PARAMETER>
      <PARAMETER NAME="OUTPUT" DISPLAY_NAME="Output" TYPE="STRING" FIELD="TEXT" SHOW="NO" REQUIRED="No" DEFAULT="" READONLY="TRUE">
         <VALUE></VALUE>
         <STORAGE/>
      </PARAMETER>
   </PARAMETERS>
   <RETURNS>
      <RETURN NAME="FILENAME" DISPLAY_NAME="Current Row" TYPE="STRING" AVAILABILITY="In Row" CODE="$gv{tFileInput}{Row}"/>
      <RETURN NAME="FILECOUNT" DISPLAY_NAME="Number of row" TYPE="STRING" AVAILABILITY="After" CODE="$gv{tFileInput}{Count}"/>
      <RETURN NAME="ERROR_CODE" DISPLAY_NAME="Error Code" TYPE="INTEGER" AVAILABILITY="After" CODE="$gv{tMap}{Error}{Code}"/>
      <RETURN NAME="ERROR_MESSAGE" DISPLAY_NAME="Error Message" TYPE="STRING" AVAILABILITY="After" CODE="$gv{tMap}{Error}{Message}"/>
   </RETURNS>
</COMPONENT>
