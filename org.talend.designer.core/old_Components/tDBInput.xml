<COMPONENT>
   <HEADER NAME="tDBInput" ID="" DISPLAY_NAME="Database Selection" PLATEFORM="ALL" SERIAL="" VERSION="0.101" STATUS="ALPHA" ICON="tDBInput32.ico" COMPATIBILITY="ALL" AUTHOR="talend" RELEASE_DATE="20050320A" FAMILY="Database">
      <SIGNATURE/>
   </HEADER>
   <DISPLAY>
      <POSITION LEFT="100" TOP="100" WIDTH="49" HEIGHT="49"/>
      <LABEL FORMAT="label : __NAME__" VALUE="" SHOW="true" DEFAULT=""/>
      <HINT FORMAT="hint : __NAME__" VALUE="" SHOW="false" DEFAULT=""/>
   </DISPLAY>
   <DOCUMENTATION>
      <URL/>
   </DOCUMENTATION>
   <CODE LANGUAGE="Perl" LOCALISATION="INTERNAL" URI=".">
      <VALUE/>
      <CALL>
__STARTLIST__
      
my $mResult = &amp;tDBInputRow(
 DBDesc  =&gt; \%__NAME___DD,
 query   =&gt; __QUERY__,
 columns =&gt; __COLUMNS__,
 WhileCode =&gt; [__WHILECODE__]);
 
__STOPLIST__
 </CALL>
      <CALLREF UNIT="dbs.pm">
__NAME___DD = (
 type     =&gt; 'input',
 dbi      =&gt; '__DBI__',
 database =&gt; __DATABASE__,
 host     =&gt; __HOST__,
 username =&gt; __USERNAME__,
 password =&gt; __PASSWORD__);
 </CALLREF>
   </CODE>
   <CONNECTORS>
      <CONNECTOR DIRECTION="IN" CTYPE="START" DISPLAY_NAME="Start">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="BEFORE" DISPLAY_NAME="Before">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (FirstRow)</OTYPE>
         </OTYPES>
         <CONNECTIONS>
            <TO COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <TO COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <FROM COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
            <FROM COMPONENT_ID="AA" CTYPE="AA" OTYPE="AA"/>
         </CONNECTIONS>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="AFTER" DISPLAY_NAME="After">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="OK" DISPLAY_NAME="Ok">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
            <OTYPE>TErrorNumber</OTYPE>
            <OTYPE>TErrorMessage</OTYPE>
         </OTYPES>
      </CONNECTOR>
      <CONNECTOR DIRECTION="OUT" CTYPE="ERROR" DISPLAY_NAME="Error">
         <OTYPES>
            <OTYPE>TFileDesc</OTYPE>
            <OTYPE>THashRow (LastRow + RowNumber)</OTYPE>
            <OTYPE>TErrorNumber</OTYPE>
            <OTYPE>TErrorMessage</OTYPE>
         </OTYPES>
      </CONNECTOR>
   </CONNECTORS>
   <PARAMETERS>
      <PARAMETER NAME="DBI" DISPLAY_NAME="Database Driver" TYPE="STRING" FIELD="CLOSED_LIST" SHOW="YES" REQUIRED="No" DEFAULT="MySql">
         <VALUE/>
         <ITEMS>
            <ITEM VALUE="MySql" IID="DBI:mysql"/>
            <ITEM VALUE="Oracle" IID="DBI:oracle"/>
            <ITEM VALUE="SQLServer" IID="DBI:sqlserver"/>
            <ITEM VALUE="SQLite" IID="DBD:sqlite"/>
            <ITEM VALUE="Postgres" IID="DBI:postgres"/>
         </ITEMS>
      </PARAMETER>
      <PARAMETER NAME="DATABASE" DISPLAY_NAME="Database" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'test'" READONLY="FALSE">
         <VALUE/>
      </PARAMETER>
      <PARAMETER NAME="HOST" DISPLAY_NAME="Host" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'localhost'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="USERNAME" DISPLAY_NAME="Username" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'root'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="PASSWORD" DISPLAY_NAME="Password" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="'lapins'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="QUERY" DISPLAY_NAME="Query" TYPE="STRING" FIELD="MEMO" SHOW="YES" REQUIRED="No" DEFAULT="'select name, phone from foo'" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="COLUMNS" DISPLAY_NAME="Columns" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="[]" READONLY="FALSE">
         <VALUE>''</VALUE>
      </PARAMETER>
      <PARAMETER NAME="SCHEMATYPE" DISPLAY_NAME="Schema Type" TYPE="STRING" FIELD="CLOSED_LIST" SHOW="YES" REQUIRED="No" DEFAULT="Built-in">
         <VALUE/>
         <ITEMS>
            <ITEM VALUE="Built-in" IID="BuiltIn"/>
            <ITEM VALUE="Repository" IID="Repository"/>
            <ITEM VALUE="File" IID="File"/>
            <ITEM VALUE="Database" IID="Database"/>
         </ITEMS>
      </PARAMETER>
      <PARAMETER NAME="SCHEMA" DISPLAY_NAME="Schema" TYPE="STRING" FIELD="SCHEMA_EDITOR" SHOW="YES" REQUIRED="YES" DEFAULT="" READONLY="TRUE">
         <VALUE>_columns =&gt; ['id','name','addr1','state','id2','RegTime'],
_keys    =&gt; ['id'],

id  =&gt; {  key =&gt; 'True', type =&gt; 'integer', len =&gt; '0', null =&gt; 'False', default =&gt; '', comment =&gt; ''},
name  =&gt; {  key =&gt; 'False', type =&gt; 'varchar2', len =&gt; '40', null =&gt; 'True', default =&gt; '', comment =&gt; ''},
addr1  =&gt; {  key =&gt; 'False', type =&gt; 'varchar2', len =&gt; '40', null =&gt; 'True', default =&gt; '', comment =&gt; ''},
state  =&gt; {  key =&gt; 'False', type =&gt; 'varchar2', len =&gt; '40', null =&gt; 'True', default =&gt; '', comment =&gt; ''},
id2  =&gt; {  key =&gt; 'False', type =&gt; 'varchar2', len =&gt; '10', null =&gt; 'True', default =&gt; '', comment =&gt; ''},
RegTime  =&gt; {  key =&gt; 'False', type =&gt; 'datetime', len =&gt; '0', null =&gt; 'True', default =&gt; '', comment =&gt; ''}
</VALUE>
         <STORAGE>

&lt;Schema&gt;
  &lt;Columns&gt;          
    &lt;Column Name='id'      Key='true'  Type='integer'  Nullable='false' Length = '0'  Precision='0' default='' Comment='' /&gt;
    &lt;Column Name='name'    Key='false' Type='varchar2' Nullable='true'  Length = '40' Precision='0' default='' Comment='' /&gt;
    &lt;Column Name='addr1'   Key='false' Type='varchar2' Nullable='true'  Length = '40' Precision='0' default='' Comment='' /&gt;
    &lt;Column Name='state'   Key='false' Type='varchar2' Nullable='true'  Length = '40' Precision='0' default='' Comment='' /&gt;
    &lt;Column Name='id2'     Key='false' Type='varchar2' Nullable='true'  Length = '10' Precision='0' default='' Comment='' /&gt;
    &lt;Column Name='RegTime' Key='false' Type='datetime' Nullable='true'  Length = '0'  Precision='0' default='' Comment='' /&gt;
  &lt;/Columns&gt;
&lt;/Schema&gt;  

</STORAGE>
      </PARAMETER>
      <PARAMETER NAME="WHILECODE" DISPLAY_NAME="While Call" TYPE="STRING" FIELD="TEXT" SHOW="YES" REQUIRED="No" DEFAULT="\&amp;tNothing" READONLY="TRUE">
         <VALUE>''</VALUE>
      </PARAMETER>
   </PARAMETERS>
   <RETURNS>
      <RETURN NAME="FILENAME" DISPLAY_NAME="Current Row" TYPE="STRING" AVAILABILITY="In Row" CODE="$gv{tFileInput}{Row}"/>
      <RETURN NAME="FILECOUNT" DISPLAY_NAME="Number of row" TYPE="STRING" AVAILABILITY="After" CODE="$gv{tFileInput}{Count}"/>
      <RETURN NAME="ERROR_CODE" DISPLAY_NAME="Error Code" TYPE="INTEGER" AVAILABILITY="After" CODE="$gv{tFileInput}{Error}{Code}"/>
      <RETURN NAME="ERROR_MESSAGE" DISPLAY_NAME="Error Message" TYPE="STRING" AVAILABILITY="After" CODE="$gv{tFileInput}{Error}{Message}"/>
   </RETURNS>
</COMPONENT>
